(self.webpackChunkjessroa3_github_io=self.webpackChunkjessroa3_github_io||[]).push([[179],{2011:(ft,De,k)=>{"use strict";k.d(De,{Dh:()=>he,GT:()=>H,cc:()=>Ee,hO:()=>$e,on:()=>$,pX:()=>oe,xv:()=>de});var s=k(4650),ne=k(127),F=k(5813);ft=k.hmd(ft);const ae=["ngOnDestroy"],oe=(Ae,Ce,Le,Te={})=>new Proxy(Ae,{get:(ve,Ne)=>Le.runOutsideAngular(()=>{var ze;if(Ae[Ne])return!(null===(ze=Te?.spy)||void 0===ze)&&ze.get&&Te.spy.get(Ne,Ae[Ne]),Ae[Ne];if(ae.indexOf(Ne)>-1)return()=>{};const Pe=Ce.toPromise().then(G=>{const me=G&&G[Ne];return"function"==typeof me?me.bind(G):me&&me.then?me.then(Be=>Le.run(()=>Be)):Le.run(()=>me)});return new Proxy(()=>{},{get:(G,me)=>Pe[me],apply:(G,me,Be)=>Pe.then(Ge=>{var dt;const Xe=Ge&&Ge(...Be);return!(null===(dt=Te?.spy)||void 0===dt)&&dt.apply&&Te.spy.apply(Ne,Be,Xe),Xe})})})}),H=(Ae,Ce)=>{Ce.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(Te=>{Object.defineProperty(Ae.prototype,Te,Object.getOwnPropertyDescriptor(Le.prototype||Le,Te))})})};class pe{constructor(Ce){return Ce}}const he=new s.OlP("angularfire2.app.options"),de=new s.OlP("angularfire2.app.name");function $(Ae,Ce,Le){const ve="object"==typeof Le&&Le||{};ve.name=ve.name||"string"==typeof Le&&Le||"[DEFAULT]";const ze=ne.Z.apps.filter(Pe=>Pe&&Pe.name===ve.name)[0]||Ce.runOutsideAngular(()=>ne.Z.initializeApp(Ae,ve));try{JSON.stringify(Ae)!==JSON.stringify(ze.options)&&U("error",`${ze.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new pe(ze)}const U=(Ae,...Ce)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Ae](...Ce)},ee={provide:pe,useFactory:$,deps:[he,s.R0b,[new s.FiY,de]]};let $e=(()=>{class Ae{constructor(Le){ne.Z.registerVersion("angularfire",F.q4.full,"core"),ne.Z.registerVersion("angularfire",F.q4.full,"app-compat"),ne.Z.registerVersion("angular",s.q4F.full,Le.toString())}static initializeApp(Le,Te){return{ngModule:Ae,providers:[{provide:he,useValue:Le},{provide:de,useValue:Te}]}}}return Ae.\u0275fac=function(Le){return new(Le||Ae)(s.LFG(s.Lbi))},Ae.\u0275mod=s.oAB({type:Ae}),Ae.\u0275inj=s.cJS({providers:[ee]}),Ae})();function Ee(Ae,Ce,Le,Te,ve){const[,Ne,ze]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===Ae)||[];if(Ne)return function Ze(Ae,Ce){try{return Ae.toString()===Ce.toString()}catch{return Ae===Ce}}(ve,ze)||(ge("error",`${Ce} was already initialized on the ${Le} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:ve,was:ze})),Ne;{const Pe=Te();return globalThis.\u0275AngularfireInstanceCache.push([Ae,Pe,ve]),Pe}}const lt=!!ft.hot,ge=(Ae,...Ce)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Ae](...Ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ft,De,k)=>{"use strict";k.d(De,{q4:()=>wd,iC:()=>Cn,HU:()=>Dd,vb:()=>$t,JM:()=>mf});var s=k(4650),ne=k(5867),F=k(5861),ae=k(9681),oe=k(2090),H=k(4859),pe=k(1877),he=k(8766);const de="@firebase/installations",$="0.5.12",U=1e4,ee=`w:${$}`,$e="FIS_v2",Ee="https://firebaseinstallations.googleapis.com/v1",Ze=36e5,Ce=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Le(C){return C instanceof oe.ZR&&C.code.includes("request-failed")}function Te({projectId:C}){return`${Ee}/projects/${C}/installations`}function ve(C){return{token:C.token,requestStatus:2,expiresIn:Ge(C.expiresIn),creationTime:Date.now()}}function Ne(C,S){return ze.apply(this,arguments)}function ze(){return(ze=(0,F.Z)(function*(C,S){const B=(yield S.json()).error;return Ce.create("request-failed",{requestName:C,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Pe({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function me(C){return Be.apply(this,arguments)}function Be(){return(Be=(0,F.Z)(function*(C){const S=yield C();return S.status>=500&&S.status<600?C():S})).apply(this,arguments)}function Ge(C){return Number(C.replace("s","000"))}function q(){return(q=(0,F.Z)(function*({appConfig:C,heartbeatServiceProvider:S},{fid:M}){const B=Te(C),te=Pe(C),se=S.getImmediate({optional:!0});if(se){const Ft=yield se.getHeartbeatsHeader();Ft&&te.append("x-firebase-client",Ft)}const Je={method:"POST",headers:te,body:JSON.stringify({fid:M,authVersion:$e,appId:C.appId,sdkVersion:ee})},Dt=yield me(()=>fetch(B,Je));if(Dt.ok){const Ft=yield Dt.json();return{fid:Ft.fid||M,registrationStatus:2,refreshToken:Ft.refreshToken,authToken:ve(Ft.authToken)}}throw yield Ne("Create Installation",Dt)})).apply(this,arguments)}function X(C){return new Promise(S=>{setTimeout(S,C)})}const be=/^[cdef][\w-]{21}$/,xe="";function Fe(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const M=function Ke(C){return function ce(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return be.test(M)?M:xe}catch{return xe}}function Ye(C){return`${C.appName}!${C.appId}`}const sn=new Map;function wt(C,S){const M=Ye(C);At(M,S),function An(C,S){const M=function vn(){return!yn&&"BroadcastChannel"in self&&(yn=new BroadcastChannel("[Firebase] FID Change"),yn.onmessage=C=>{At(C.data.key,C.data.fid)}),yn}();M&&M.postMessage({key:C,fid:S}),function Dn(){0===sn.size&&yn&&(yn.close(),yn=null)}()}(M,S)}function At(C,S){const M=sn.get(C);if(M)for(const B of M)B(S)}let yn=null;const Pr="firebase-installations-database",Bi=1,kr="firebase-installations-store";let Cr=null;function Ki(){return Cr||(Cr=(0,he.X3)(Pr,Bi,{upgrade:(C,S)=>{0===S&&C.createObjectStore(kr)}})),Cr}function mn(C,S){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,F.Z)(function*(C,S){const M=Ye(C),te=(yield Ki()).transaction(kr,"readwrite"),se=te.objectStore(kr),Se=yield se.get(M);return yield se.put(S,M),yield te.done,(!Se||Se.fid!==S.fid)&&wt(C,S.fid),S})).apply(this,arguments)}function yt(C){return qr.apply(this,arguments)}function qr(){return(qr=(0,F.Z)(function*(C){const S=Ye(C),B=(yield Ki()).transaction(kr,"readwrite");yield B.objectStore(kr).delete(S),yield B.done})).apply(this,arguments)}function ci(C,S){return _n.apply(this,arguments)}function _n(){return(_n=(0,F.Z)(function*(C,S){const M=Ye(C),te=(yield Ki()).transaction(kr,"readwrite"),se=te.objectStore(kr),Se=yield se.get(M),Je=S(Se);return void 0===Je?yield se.delete(M):yield se.put(Je,M),yield te.done,Je&&(!Se||Se.fid!==Je.fid)&&wt(C,Je.fid),Je})).apply(this,arguments)}function pr(C){return Ji.apply(this,arguments)}function Ji(){return Ji=(0,F.Z)(function*(C){let S;const M=yield ci(C.appConfig,B=>{const te=function xt(C){return Gn(C||{fid:Fe(),registrationStatus:0})}(B),se=function bt(C,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Ce.create("app-offline"))};const M={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},B=function Ct(C,S){return ps.apply(this,arguments)}(C,M);return{installationEntry:M,registrationPromise:B}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Tn(C)}:{installationEntry:S}}(C,te);return S=se.registrationPromise,se.installationEntry});return M.fid===xe?{installationEntry:yield S}:{installationEntry:M,registrationPromise:S}}),Ji.apply(this,arguments)}function ps(){return ps=(0,F.Z)(function*(C,S){try{const M=yield function Xe(C,S){return q.apply(this,arguments)}(C,S);return mn(C.appConfig,M)}catch(M){throw Le(M)&&409===M.customData.serverCode?yield yt(C.appConfig):yield mn(C.appConfig,{fid:S.fid,registrationStatus:0}),M}}),ps.apply(this,arguments)}function Tn(C){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,F.Z)(function*(C){let S=yield Sr(C.appConfig);for(;1===S.registrationStatus;)yield X(100),S=yield Sr(C.appConfig);if(0===S.registrationStatus){const{installationEntry:M,registrationPromise:B}=yield pr(C);return B||M}return S})).apply(this,arguments)}function Sr(C){return ci(C,S=>{if(!S)throw Ce.create("installation-not-found");return Gn(S)})}function Gn(C){return function gs(C){return 1===C.registrationStatus&&C.registrationTime+U<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Wr(){return(Wr=(0,F.Z)(function*({appConfig:C,heartbeatServiceProvider:S},M){const B=function Zt(C,{fid:S}){return`${Te(C)}/${S}/authTokens:generate`}(C,M),te=function G(C,{refreshToken:S}){const M=Pe(C);return M.append("Authorization",function dt(C){return`${$e} ${C}`}(S)),M}(C,M),se=S.getImmediate({optional:!0});if(se){const Ft=yield se.getHeartbeatsHeader();Ft&&te.append("x-firebase-client",Ft)}const Je={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:ee,appId:C.appId}})},Dt=yield me(()=>fetch(B,Je));if(Dt.ok)return ve(yield Dt.json());throw yield Ne("Generate Auth Token",Dt)})).apply(this,arguments)}function Q(C){return z.apply(this,arguments)}function z(){return z=(0,F.Z)(function*(C,S=!1){let M;const B=yield ci(C.appConfig,se=>{if(!pt(se))throw Ce.create("not-registered");const Se=se.authToken;if(!S&&function bn(C){return 2===C.requestStatus&&!function un(C){const S=Date.now();return S<C.creationTime||C.creationTime+C.expiresIn<S+Ze}(C)}(Se))return se;if(1===Se.requestStatus)return M=function V(C,S){return Z.apply(this,arguments)}(C,S),se;{if(!navigator.onLine)throw Ce.create("app-offline");const Je=function gr(C){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:S})}(se);return M=function Ie(C,S){return We.apply(this,arguments)}(C,Je),Je}});return M?yield M:B.authToken}),z.apply(this,arguments)}function Z(){return(Z=(0,F.Z)(function*(C,S){let M=yield W(C.appConfig);for(;1===M.authToken.requestStatus;)yield X(100),M=yield W(C.appConfig);const B=M.authToken;return 0===B.requestStatus?Q(C,S):B})).apply(this,arguments)}function W(C){return ci(C,S=>{if(!pt(S))throw Ce.create("not-registered");return function Lt(C){return 1===C.requestStatus&&C.requestTime+U<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function We(){return We=(0,F.Z)(function*(C,S){try{const M=yield function an(C,S){return Wr.apply(this,arguments)}(C,S),B=Object.assign(Object.assign({},S),{authToken:M});return yield mn(C.appConfig,B),M}catch(M){if(!Le(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const B=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield mn(C.appConfig,B)}else yield yt(C.appConfig);throw M}}),We.apply(this,arguments)}function pt(C){return void 0!==C&&2===C.registrationStatus}function mr(){return(mr=(0,F.Z)(function*(C){const S=C,{installationEntry:M,registrationPromise:B}=yield pr(S);return B?B.catch(console.error):Q(S).catch(console.error),M.fid})).apply(this,arguments)}function Yt(){return Yt=(0,F.Z)(function*(C,S=!1){const M=C;return yield function xa(C){return Qi.apply(this,arguments)}(M),(yield Q(M,S)).token}),Yt.apply(this,arguments)}function Qi(){return(Qi=(0,F.Z)(function*(C){const{registrationPromise:S}=yield pr(C);S&&(yield S)})).apply(this,arguments)}function Dl(C){return Ce.create("missing-app-config-values",{valueName:C})}const Tl="installations",Un=C=>{const S=C.getProvider("app").getImmediate(),M=function Cu(C){if(!C||!C.options)throw Dl("App Configuration");if(!C.name)throw Dl("App Name");const S=["projectId","apiKey","appId"];for(const M of S)if(!C.options[M])throw Dl(M);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(S);return{app:S,appConfig:M,heartbeatServiceProvider:(0,ae._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Su=C=>{const S=C.getProvider("app").getImmediate(),M=(0,ae._getProvider)(S,Tl).getImmediate();return{getId:()=>function Ln(C){return mr.apply(this,arguments)}(M),getToken:te=>function di(C){return Yt.apply(this,arguments)}(M,te)}};(function ed(){(0,ae._registerComponent)(new H.wA(Tl,Un,"PUBLIC")),(0,ae._registerComponent)(new H.wA("installations-internal",Su,"PRIVATE"))})(),(0,ae.registerVersion)(de,$),(0,ae.registerVersion)(de,$,"esm2017");const tn="@firebase/remote-config",Fr=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Xo{constructor(S,M,B,te){this.client=S,this.storage=M,this.storageCache=B,this.logger=te}isCachedDataFresh(S,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-M,te=B<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${te}.`),te}fetch(S){var M=this;return(0,F.Z)(function*(){const[B,te]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(te&&M.isCachedDataFresh(S.cacheMaxAgeMillis,B))return te;S.eTag=te&&te.eTag;const se=yield M.client.fetch(S),Se=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&Se.push(M.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(Se),se})()}}function qs(C=navigator){return C.languages&&C.languages[0]||C.language}class Kr{constructor(S,M,B,te,se,Se){this.firebaseInstallations=S,this.sdkVersion=M,this.namespace=B,this.projectId=te,this.apiKey=se,this.appId=Se}fetch(S){var M=this;return(0,F.Z)(function*(){var B,te,se;const[Se,Je]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Ft=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,kt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},gt={sdk_version:M.sdkVersion,app_instance_id:Se,app_instance_id_token:Je,app_id:M.appId,language_code:qs()},ir={method:"POST",headers:kt,body:JSON.stringify(gt)},Qn=fetch(Ft,ir),Oo=new Promise((Gi,to)=>{S.signal.addEventListener(()=>{const nc=new Error("The operation was aborted.");nc.name="AbortError",to(nc)})});let kn;try{yield Promise.race([Qn,Oo]),kn=yield Qn}catch(Gi){let to="fetch-client-network";throw"AbortError"===(null===(B=Gi)||void 0===B?void 0:B.name)&&(to="fetch-timeout"),Fr.create(to,{originalErrorMessage:null===(te=Gi)||void 0===te?void 0:te.message})}let mi=kn.status;const _f=kn.headers.get("ETag")||void 0;let xs,eo;if(200===kn.status){let Gi;try{Gi=yield kn.json()}catch(to){throw Fr.create("fetch-client-parse",{originalErrorMessage:null===(se=to)||void 0===se?void 0:se.message})}xs=Gi.entries,eo=Gi.state}if("INSTANCE_STATE_UNSPECIFIED"===eo?mi=500:"NO_CHANGE"===eo?mi=304:("NO_TEMPLATE"===eo||"EMPTY_CONFIG"===eo)&&(xs={}),304!==mi&&200!==mi)throw Fr.create("fetch-status",{httpStatus:mi});return{status:mi,eTag:_f,config:xs}})()}}class Kt{constructor(S,M){this.client=S,this.storage=M}fetch(S){var M=this;return(0,F.Z)(function*(){const B=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(S,B)})()}attemptFetch(S,{throttleEndTimeMillis:M,backoffCount:B}){var te=this;return(0,F.Z)(function*(){yield function Vn(C,S){return new Promise((M,B)=>{const te=Math.max(S-Date.now(),0),se=setTimeout(M,te);C.addEventListener(()=>{clearTimeout(se),B(Fr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,M);try{const se=yield te.client.fetch(S);return yield te.storage.deleteThrottleMetadata(),se}catch(se){if(!function Iu(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const S=Number(C.customData.httpStatus);return 429===S||500===S||503===S||504===S}(se))throw se;const Se={throttleEndTimeMillis:Date.now()+(0,oe.$s)(B),backoffCount:B+1};return yield te.storage.setThrottleMetadata(Se),te.attemptFetch(S,Se)}})()}}class Cl{constructor(S,M,B,te,se){this.app=S,this._client=M,this._storageCache=B,this._storage=te,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _o(C,S){var M;const B=C.target.error||void 0;return Fr.create(S,{originalErrorMessage:B&&(null===(M=B)||void 0===M?void 0:M.message)})}const Ti="app_namespace_store";class fi{constructor(S,M,B,te=function _g(){return new Promise((C,S)=>{var M;try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=te=>{S(_o(te,"storage-open"))},B.onsuccess=te=>{C(te.target.result)},B.onupgradeneeded=te=>{0===te.oldVersion&&te.target.result.createObjectStore(Ti,{keyPath:"compositeKey"})}}catch(B){S(Fr.create("storage-open",{originalErrorMessage:null===(M=B)||void 0===M?void 0:M.message}))}})}()){this.appId=S,this.appName=M,this.namespace=B,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var M=this;return(0,F.Z)(function*(){const B=yield M.openDbPromise;return new Promise((te,se)=>{var Se;const Dt=B.transaction([Ti],"readonly").objectStore(Ti),Ft=M.createCompositeKey(S);try{const kt=Dt.get(Ft);kt.onerror=gt=>{se(_o(gt,"storage-get"))},kt.onsuccess=gt=>{const ir=gt.target.result;te(ir?ir.value:void 0)}}catch(kt){se(Fr.create("storage-get",{originalErrorMessage:null===(Se=kt)||void 0===Se?void 0:Se.message}))}})})()}set(S,M){var B=this;return(0,F.Z)(function*(){const te=yield B.openDbPromise;return new Promise((se,Se)=>{var Je;const Ft=te.transaction([Ti],"readwrite").objectStore(Ti),kt=B.createCompositeKey(S);try{const gt=Ft.put({compositeKey:kt,value:M});gt.onerror=ir=>{Se(_o(ir,"storage-set"))},gt.onsuccess=()=>{se()}}catch(gt){Se(Fr.create("storage-set",{originalErrorMessage:null===(Je=gt)||void 0===Je?void 0:Je.message}))}})})()}delete(S){var M=this;return(0,F.Z)(function*(){const B=yield M.openDbPromise;return new Promise((te,se)=>{var Se;const Dt=B.transaction([Ti],"readwrite").objectStore(Ti),Ft=M.createCompositeKey(S);try{const kt=Dt.delete(Ft);kt.onerror=gt=>{se(_o(gt,"storage-delete"))},kt.onsuccess=()=>{te()}}catch(kt){se(Fr.create("storage-delete",{originalErrorMessage:null===(Se=kt)||void 0===Se?void 0:Se.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class pi{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,F.Z)(function*(){const M=S.storage.getLastFetchStatus(),B=S.storage.getLastSuccessfulFetchTimestampMillis(),te=S.storage.getActiveConfig(),se=yield M;se&&(S.lastFetchStatus=se);const Se=yield B;Se&&(S.lastSuccessfulFetchTimestampMillis=Se);const Je=yield te;Je&&(S.activeConfig=Je)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Lr(){return td.apply(this,arguments)}function td(){return(td=(0,F.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function ys(){(0,ae._registerComponent)(new H.wA("remote-config",function C(S,{instanceIdentifier:M}){const B=S.getProvider("app").getImmediate(),te=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Fr.create("registration-window");if(!(0,oe.hl)())throw Fr.create("indexed-db-unavailable");const{projectId:se,apiKey:Se,appId:Je}=B.options;if(!se)throw Fr.create("registration-project-id");if(!Se)throw Fr.create("registration-api-key");if(!Je)throw Fr.create("registration-app-id");const Dt=new fi(Je,B.name,M=M||"firebase"),Ft=new pi(Dt),kt=new pe.Yd(tn);kt.logLevel=pe.in.ERROR;const gt=new Kr(te,ae.SDK_VERSION,M,se,Se,Je),ir=new Kt(gt,Dt),Qn=new Xo(ir,Dt,Ft,kt),Oo=new Cl(B,Qn,Ft,Dt,kt);return function go(C){const S=(0,oe.m9)(C);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Oo),Oo},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(tn,"0.3.11"),(0,ae.registerVersion)(tn,"0.3.11","esm2017")}();const nd="/firebase-messaging-sw.js",vs="/firebase-cloud-messaging-push-scope",vo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ua="https://fcmregistrations.googleapis.com/v1",Nu="google.c.a.c_id",Jh="google.c.a.c_l",rd="google.c.a.ts",yg="google.c.a.e";var bo=(()=>{return(C=bo||(bo={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",bo;var C})();function es(C){const S=new Uint8Array(C);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vg(C){const M=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(M),te=new Uint8Array(B.length);for(let se=0;se<B.length;++se)te[se]=B.charCodeAt(se);return te}const Il="fcm_token_details_db",Mu=5,Ci="fcm_token_object_Store";function Al(){return Al=(0,F.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(Il))return null;let S=null;return(yield(0,he.X3)(Il,Mu,{upgrade:(B=(0,F.Z)(function*(te,se,Se,Je){var Dt;if(se<2||!te.objectStoreNames.contains(Ci))return;const Ft=Je.objectStore(Ci),kt=yield Ft.index("fcmSenderId").get(C);if(yield Ft.clear(),kt)if(2===se){const gt=kt;if(!gt.auth||!gt.p256dh||!gt.endpoint)return;S={token:gt.fcmToken,createTime:null!==(Dt=gt.createTime)&&void 0!==Dt?Dt:Date.now(),subscriptionOptions:{auth:gt.auth,p256dh:gt.p256dh,endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:"string"==typeof gt.vapidKey?gt.vapidKey:es(gt.vapidKey)}}}else if(3===se){const gt=kt;S={token:gt.fcmToken,createTime:gt.createTime,subscriptionOptions:{auth:es(gt.auth),p256dh:es(gt.p256dh),endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:es(gt.vapidKey)}}}else if(4===se){const gt=kt;S={token:gt.fcmToken,createTime:gt.createTime,subscriptionOptions:{auth:es(gt.auth),p256dh:es(gt.p256dh),endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:es(gt.vapidKey)}}}}),function(se,Se,Je,Dt){return B.apply(this,arguments)})})).close(),yield(0,he.Lj)(Il),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),function id(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:S}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}(S)?S:null;var B}),Al.apply(this,arguments)}const Nl="firebase-messaging-database",bg=1,gi="firebase-messaging-store";let sd=null;function wo(){return sd||(sd=(0,he.X3)(Nl,bg,{upgrade:(C,S)=>{0===S&&C.createObjectStore(gi)}})),sd}function Ba(C){return na.apply(this,arguments)}function na(){return na=(0,F.Z)(function*(C){const S=Ws(C),B=yield(yield wo()).transaction(gi).objectStore(gi).get(S);if(B)return B;{const te=yield function Ou(C){return Al.apply(this,arguments)}(C.appConfig.senderId);if(te)return yield ra(C,te),te}}),na.apply(this,arguments)}function ra(C,S){return Va.apply(this,arguments)}function Va(){return(Va=(0,F.Z)(function*(C,S){const M=Ws(C),te=(yield wo()).transaction(gi,"readwrite");return yield te.objectStore(gi).put(S,M),yield te.done,S})).apply(this,arguments)}function Ol(){return(Ol=(0,F.Z)(function*(C){const S=Ws(C),B=(yield wo()).transaction(gi,"readwrite");yield B.objectStore(gi).delete(S),yield B.done})).apply(this,arguments)}function Ws({appConfig:C}){return C.appId}const on=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Rl(C,S){return ja.apply(this,arguments)}function ja(){return(ja=(0,F.Z)(function*(C,S){var M;const B=yield Ru(C),te=br(S),se={method:"POST",headers:B,body:JSON.stringify(te)};let Se;try{Se=yield(yield fetch(Ha(C.appConfig),se)).json()}catch(Je){throw on.create("token-subscribe-failed",{errorInfo:null===(M=Je)||void 0===M?void 0:M.toString()})}if(Se.error)throw on.create("token-subscribe-failed",{errorInfo:Se.error.message});if(!Se.token)throw on.create("token-subscribe-no-token");return Se.token})).apply(this,arguments)}function xl(){return(xl=(0,F.Z)(function*(C,S){var M;const B=yield Ru(C),te=br(S.subscriptionOptions),se={method:"PATCH",headers:B,body:JSON.stringify(te)};let Se;try{Se=yield(yield fetch(`${Ha(C.appConfig)}/${S.token}`,se)).json()}catch(Je){throw on.create("token-update-failed",{errorInfo:null===(M=Je)||void 0===M?void 0:M.toString()})}if(Se.error)throw on.create("token-update-failed",{errorInfo:Se.error.message});if(!Se.token)throw on.create("token-update-no-token");return Se.token})).apply(this,arguments)}function ts(C,S){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,F.Z)(function*(C,S){var M;const te={method:"DELETE",headers:yield Ru(C)};try{const Se=yield(yield fetch(`${Ha(C.appConfig)}/${S}`,te)).json();if(Se.error)throw on.create("token-unsubscribe-failed",{errorInfo:Se.error.message})}catch(se){throw on.create("token-unsubscribe-failed",{errorInfo:null===(M=se)||void 0===M?void 0:M.toString()})}})).apply(this,arguments)}function Ha({projectId:C}){return`${Ua}/projects/${C}/registrations`}function Ru(C){return ns.apply(this,arguments)}function ns(){return(ns=(0,F.Z)(function*({appConfig:C,installations:S}){const M=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function br({p256dh:C,auth:S,endpoint:M,vapidKey:B}){const te={web:{endpoint:M,auth:S,p256dh:C}};return B!==vo&&(te.web.applicationPubKey=B),te}const xu=6048e5;function ad(){return ad=(0,F.Z)(function*(C){const S=yield function ku(C,S){return Fu.apply(this,arguments)}(C.swRegistration,C.vapidKey),M={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:S.endpoint,auth:es(S.getKey("auth")),p256dh:es(S.getKey("p256dh"))},B=yield Ba(C.firebaseDependencies);if(B){if(function Lu(C,S){return S.vapidKey===C.vapidKey&&S.endpoint===C.endpoint&&S.auth===C.auth&&S.p256dh===C.p256dh}(B.subscriptionOptions,M))return Date.now()>=B.createTime+xu?function Ga(C,S){return Pt.apply(this,arguments)}(C,{token:B.token,createTime:Date.now(),subscriptionOptions:M}):B.token;try{yield ts(C.firebaseDependencies,B.token)}catch(te){console.warn(te)}return kl(C.firebaseDependencies,M)}return kl(C.firebaseDependencies,M)}),ad.apply(this,arguments)}function Pl(){return Pl=(0,F.Z)(function*(C){const S=yield Ba(C.firebaseDependencies);S&&(yield ts(C.firebaseDependencies,S.token),yield function Ml(C){return Ol.apply(this,arguments)}(C.firebaseDependencies));const M=yield C.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),Pl.apply(this,arguments)}function Pt(){return Pt=(0,F.Z)(function*(C,S){try{const M=yield function Pn(C,S){return xl.apply(this,arguments)}(C.firebaseDependencies,S),B=Object.assign(Object.assign({},S),{token:M,createTime:Date.now()});return yield ra(C.firebaseDependencies,B),M}catch(M){throw yield function Vi(C){return Pl.apply(this,arguments)}(C),M}}),Pt.apply(this,arguments)}function kl(C,S){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,F.Z)(function*(C,S){const B={token:yield Rl(C,S),createTime:Date.now(),subscriptionOptions:S};return yield ra(C,B),B.token})).apply(this,arguments)}function Fu(){return(Fu=(0,F.Z)(function*(C,S){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vg(S)})})).apply(this,arguments)}function ld(C){const S={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Uu(C,S){if(!S.notification)return;C.notification={};const M=S.notification.title;M&&(C.notification.title=M);const B=S.notification.body;B&&(C.notification.body=B);const te=S.notification.image;te&&(C.notification.image=te)}(S,C),function jn(C,S){S.data&&(C.data=S.data)}(S,C),function Me(C,S){var M,B,te,se,Se;if(!(S.fcmOptions||null!==(M=S.notification)&&void 0!==M&&M.click_action))return;C.fcmOptions={};const Je=null!==(te=null===(B=S.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==te?te:null===(se=S.notification)||void 0===se?void 0:se.click_action;Je&&(C.fcmOptions.link=Je);const Dt=null===(Se=S.fcmOptions)||void 0===Se?void 0:Se.analytics_label;Dt&&(C.fcmOptions.analyticsLabel=Dt)}(S,C),S}function ud(C,S){const M=[];for(let B=0;B<C.length;B++)M.push(C.charAt(B)),B<S.length&&M.push(S.charAt(B));return M.join("")}function $n(C){return on.create("missing-app-config-values",{valueName:C})}ud("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ud("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xh{constructor(S,M,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function Qh(C){if(!C||!C.options)throw $n("App Configuration Object");if(!C.name)throw $n("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:M}=C;for(const B of S)if(!M[B])throw $n(B);return{appName:C.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:te,installations:M,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Ys(C){return ji.apply(this,arguments)}function ji(){return(ji=(0,F.Z)(function*(C){var S;try{C.swRegistration=yield navigator.serviceWorker.register(nd,{scope:vs}),C.swRegistration.update().catch(()=>{})}catch(M){throw on.create("failed-service-worker-registration",{browserErrorMessage:null===(S=M)||void 0===S?void 0:S.message})}})).apply(this,arguments)}function Ll(){return(Ll=(0,F.Z)(function*(C,S){if(!S&&!C.swRegistration&&(yield Ys(C)),S||!C.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw on.create("invalid-sw-registration");C.swRegistration=S}})).apply(this,arguments)}function cd(){return(cd=(0,F.Z)(function*(C,S){S?C.vapidKey=S:C.vapidKey||(C.vapidKey=vo)})).apply(this,arguments)}function Kn(){return Kn=(0,F.Z)(function*(C,S){if(!navigator)throw on.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw on.create("permission-blocked");return yield function Ul(C,S){return cd.apply(this,arguments)}(C,S?.vapidKey),yield function Fl(C,S){return Ll.apply(this,arguments)}(C,S?.serviceWorkerRegistration),function Eo(C){return ad.apply(this,arguments)}(C)}),Kn.apply(this,arguments)}function Bu(){return(Bu=(0,F.Z)(function*(C,S,M){const B=function Do(C){switch(C){case bo.NOTIFICATION_CLICKED:return"notification_open";case bo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(S);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:M[Nu],message_name:M[Jh],message_time:M[rd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Bl(){return Bl=(0,F.Z)(function*(C,S){const M=S.data;if(!M.isFirebaseMessaging)return;C.onMessageHandler&&M.messageType===bo.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ld(M)):C.onMessageHandler.next(ld(M)));const B=M.data;(function Jt(C){return"object"==typeof C&&!!C&&Nu in C})(B)&&"1"===B[yg]&&(yield function Br(C,S,M){return Bu.apply(this,arguments)}(C,M.messageType,B))}),Bl.apply(this,arguments)}const Vu="@firebase/messaging",ef=C=>{const S=new Xh(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function rs(C,S){return Bl.apply(this,arguments)}(S,M)),S},bs=C=>{const S=C.getProvider("messaging").getImmediate();return{getToken:B=>function $a(C,S){return Kn.apply(this,arguments)}(S,B)}};function dd(){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,F.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Hu(){(0,ae._registerComponent)(new H.wA("messaging",ef,"PUBLIC")),(0,ae._registerComponent)(new H.wA("messaging-internal",bs,"PRIVATE")),(0,ae.registerVersion)(Vu,"0.9.16"),(0,ae.registerVersion)(Vu,"0.9.16","esm2017")}();const pd="analytics",Eg="firebase_id",Jr="origin",Ks=6e4,hn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$u="https://www.googletagmanager.com/gtag/js",Ir=new pe.Yd("@firebase/analytics");function nf(C){return Promise.all(C.map(S=>S.catch(M=>M)))}function To(){return(To=(0,F.Z)(function*(C,S,M,B,te,se){const Se=B[te];try{if(Se)yield S[Se];else{const Dt=(yield nf(M)).find(Ft=>Ft.measurementId===te);Dt&&(yield S[Dt.appId])}}catch(Je){Ir.error(Je)}C("config",te,se)})).apply(this,arguments)}function ws(){return(ws=(0,F.Z)(function*(C,S,M,B,te){try{let se=[];if(te&&te.send_to){let Se=te.send_to;Array.isArray(Se)||(Se=[Se]);const Je=yield nf(M);for(const Dt of Se){const Ft=Je.find(gt=>gt.measurementId===Dt),kt=Ft&&S[Ft.appId];if(!kt){se=[];break}se.push(kt)}}0===se.length&&(se=Object.values(S)),yield Promise.all(se),C("event",B,te||{})}catch(se){Ir.error(se)}})).apply(this,arguments)}const Ar=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),za=30,sf=new class is{constructor(S={},M=1e3){this.throttleMetadata=S,this.intervalMillis=M}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,M){this.throttleMetadata[S]=M}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function af(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Za(){return(Za=(0,F.Z)(function*(C){var S;const{appId:M,apiKey:B}=C,te={method:"GET",headers:af(B)},se=hn.replace("{app-id}",M),Se=yield fetch(se,te);if(200!==Se.status&&304!==Se.status){let Je="";try{const Dt=yield Se.json();null!==(S=Dt.error)&&void 0!==S&&S.message&&(Je=Dt.error.message)}catch{}throw Ar.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:Je})}return Se.json()})).apply(this,arguments)}function oa(){return(oa=(0,F.Z)(function*(C,S=sf,M){const{appId:B,apiKey:te,measurementId:se}=C.options;if(!B)throw Ar.create("no-app-id");if(!te){if(se)return{measurementId:se,appId:B};throw Ar.create("no-api-key")}const Se=S.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Je=new qu;return setTimeout((0,F.Z)(function*(){Je.abort()}),void 0!==M?M:Ks),Ds({appId:B,apiKey:te,measurementId:se},Se,Je,S)})).apply(this,arguments)}function Ds(C,S,M){return aa.apply(this,arguments)}function aa(){return aa=(0,F.Z)(function*(C,{throttleEndTimeMillis:S,backoffCount:M},B,te=sf){var se,Se;const{appId:Je,measurementId:Dt}=C;try{yield function Ts(C,S){return new Promise((M,B)=>{const te=Math.max(S-Date.now(),0),se=setTimeout(M,te);C.addEventListener(()=>{clearTimeout(se),B(Ar.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(B,S)}catch(Ft){if(Dt)return Ir.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Dt} provided in the "measurementId" field in the local Firebase config. [${null===(se=Ft)||void 0===se?void 0:se.message}]`),{appId:Je,measurementId:Dt};throw Ft}try{const Ft=yield function Js(C){return Za.apply(this,arguments)}(C);return te.deleteThrottleMetadata(Je),Ft}catch(Ft){const kt=Ft;if(!function Zu(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const S=Number(C.customData.httpStatus);return 429===S||500===S||503===S||504===S}(kt)){if(te.deleteThrottleMetadata(Je),Dt)return Ir.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Dt} provided in the "measurementId" field in the local Firebase config. [${kt?.message}]`),{appId:Je,measurementId:Dt};throw Ft}const gt=503===Number(null===(Se=kt?.customData)||void 0===Se?void 0:Se.httpStatus)?(0,oe.$s)(M,te.intervalMillis,za):(0,oe.$s)(M,te.intervalMillis),ir={throttleEndTimeMillis:Date.now()+gt,backoffCount:M+1};return te.setThrottleMetadata(Je,ir),Ir.debug(`Calling attemptFetch again in ${gt} millis`),Ds(C,ir,B,te)}}),aa.apply(this,arguments)}class qu{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let Co,Ss;function Cs(){return(Cs=(0,F.Z)(function*(C,S,M,B,te){if(te&&te.global)C("event",M,B);else{const se=yield S;C("event",M,Object.assign(Object.assign({},B),{send_to:se}))}})).apply(this,arguments)}function Ja(){return(Ja=(0,F.Z)(function*(){var C;if(!(0,oe.hl)())return Ir.warn(Ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(S){return Ir.warn(Ar.create("indexeddb-unavailable",{errorInfo:null===(C=S)||void 0===C?void 0:C.toString()}).message),!1}return!0})).apply(this,arguments)}function Qa(){return Qa=(0,F.Z)(function*(C,S,M,B,te,se,Se){var Je;const Dt=function Jn(C){return oa.apply(this,arguments)}(C);Dt.then(Qn=>{M[Qn.measurementId]=Qn.appId,C.options.measurementId&&Qn.measurementId!==C.options.measurementId&&Ir.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Qn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Qn=>Ir.error(Qn)),S.push(Dt);const Ft=function Ka(){return Ja.apply(this,arguments)}().then(Qn=>{if(Qn)return B.getId()}),[kt,gt]=yield Promise.all([Dt,Ft]);(function rf(){const C=window.document.getElementsByTagName("script");for(const S of Object.values(C))if(S.src&&S.src.includes($u))return S;return null})()||function Dg(C,S){const M=document.createElement("script");M.src=`${$u}?l=${C}&id=${S}`,M.async=!0,document.head.appendChild(M)}(se,kt.measurementId),Ss&&(te("consent","default",Ss),function la(C){Ss=C}(void 0)),te("js",new Date);const ir=null!==(Je=Se?.config)&&void 0!==Je?Je:{};return ir[Jr]="firebase",ir.update=!0,null!=gt&&(ir[Eg]=gt),te("config",kt.measurementId,ir),Co&&(te("set",Co),function Ku(C){Co=C}(void 0)),kt.measurementId}),Qa.apply(this,arguments)}class md{constructor(S){this.app=S}_delete(){return delete os[this.app.options.appId],Promise.resolve()}}let os={},Xa=[];const jl={};let Ju,Is,Io="dataLayer",Qs="gtag",Ao=!1;function Qu(C,S,M){!function uf(){const C=[];if((0,oe.ru)()&&C.push("This is a browser extension environment."),(0,oe.zI)()||C.push("Cookies are not available."),C.length>0){const S=C.map((B,te)=>`(${te+1}) ${B}`).join(" "),M=Ar.create("invalid-analytics-context",{errorInfo:S});Ir.warn(M.message)}}();const B=C.options.appId;if(!B)throw Ar.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Ar.create("no-api-key");Ir.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=os[B])throw Ar.create("already-exists",{id:B});if(!Ao){!function Tg(C){let S=[];Array.isArray(window[C])?S=window[C]:window[C]=S}(Io);const{wrappedGtag:se,gtagCore:Se}=function sa(C,S,M,B,te){let se=function(...Se){window[B].push(arguments)};return window[te]&&"function"==typeof window[te]&&(se=window[te]),window[te]=function ia(C,S,M,B){function se(){return se=(0,F.Z)(function*(Se,Je,Dt){try{"event"===Se?yield function zu(C,S,M,B,te){return ws.apply(this,arguments)}(C,S,M,Je,Dt):"config"===Se?yield function gd(C,S,M,B,te,se){return To.apply(this,arguments)}(C,S,M,B,Je,Dt):"consent"===Se?C("consent","update",Dt):C("set",Je)}catch(Ft){Ir.error(Ft)}}),se.apply(this,arguments)}return function te(Se,Je,Dt){return se.apply(this,arguments)}}(se,C,S,M),{gtagCore:se,wrappedGtag:window[te]}}(os,Xa,jl,Io,Qs);Is=se,Ju=Se,Ao=!0}return os[B]=function ua(C,S,M,B,te,se,Se){return Qa.apply(this,arguments)}(C,Xa,jl,S,Ju,Io,M),new md(C)}function Xu(){return ca.apply(this,arguments)}function ca(){return(ca=(0,F.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const As="@firebase/analytics";!function Sg(){(0,ae._registerComponent)(new H.wA(pd,(S,{options:M})=>Qu(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ae._registerComponent)(new H.wA("analytics-internal",function C(S){try{const M=S.getProvider(pd).getImmediate();return{logEvent:(B,te,se)=>function No(C,S,M,B){C=(0,oe.m9)(C),function lf(C,S,M,B,te){return Cs.apply(this,arguments)}(Is,os[C.app.options.appId],S,M,B).catch(te=>Ir.error(te))}(M,B,te,se)}}catch(M){throw Ar.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ae.registerVersion)(As,"0.8.0"),(0,ae.registerVersion)(As,"0.8.0","esm2017")}();var $l=k(4408),df=k(7565);const hf=new class bd extends df.v{}(class cf extends $l.o{constructor(S,M){super(S,M),this.scheduler=S,this.work=M}schedule(S,M=0){return M>0?super.schedule(S,M):(this.delay=M,this.state=S,this.scheduler.flush(this),this)}execute(S,M){return M>0||this.closed?super.execute(S,M):this._execute(S,M)}requestAsyncId(S,M,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(S,M,B):(S.flush(this),0)}});var fa=k(4986),ec=k(8505),tl=k(9468),zn=k(5363);const wd=new s.GfV("7.5.0"),Mo="__angularfire_symbol__analyticsIsSupportedValue",Ed="__angularfire_symbol__analyticsIsSupported",Vr="__angularfire_symbol__remoteConfigIsSupportedValue",Ns="__angularfire_symbol__remoteConfigIsSupported",tc="__angularfire_symbol__messagingIsSupportedValue",nl="__angularfire_symbol__messagingIsSupported";function mf(C,S,M){if(S){if(1===S.length)return S[0];const se=S.filter(Se=>Se.app===M);if(1===se.length)return se[0]}return M.container.getProvider(C).getImmediate({optional:!0})}globalThis[Ed]||(globalThis[Ed]=Xu().then(C=>globalThis[Mo]=C).catch(()=>globalThis[Mo]=!1)),globalThis[nl]||(globalThis[nl]=dd().then(C=>globalThis[tc]=C).catch(()=>globalThis[tc]=!1)),globalThis[Ns]||(globalThis[Ns]=Lr().then(C=>globalThis[Vr]=C).catch(()=>globalThis[Vr]=!1));const $t=(C,S)=>{const M=S?[S]:(0,ne.C6)(),B=[];return M.forEach(te=>{te.container.getProvider(C).instances.forEach(Se=>{B.includes(Se)||B.push(Se)})}),B};function On(){}class Hi{constructor(S,M=hf){this.zone=S,this.delegate=M}now(){return this.delegate.now()}schedule(S,M,B){const te=this.zone;return this.delegate.schedule(function(Se){te.runGuarded(()=>{S.apply(this,[Se])})},M,B)}}class Ig{constructor(S){this.zone=S,this.task=null}call(S,M){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",On,{},On,On)),M.pipe((0,ec.b)({next:B,complete:B,error:B})).subscribe(S).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dd=(()=>{class C{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Hi(Zone.current)),this.insideAngular=M.run(()=>new Hi(Zone.current,fa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(M){return new(M||C)(s.LFG(s.R0b))},C.\u0275prov=s.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Ms(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Cn(C){return Ms(),function ut(C){return function(M){return(M=M.lift(new Ig(C.ngZone))).pipe((0,tl.R)(C.outsideAngular),(0,zn.Q)(C.insideAngular))}}(Ms())(C)}},2090:(ft,De,k)=>{"use strict";k.d(De,{$s:()=>gs,BH:()=>$e,G6:()=>Pe,L:()=>he,LL:()=>q,Mn:()=>Ne,Sg:()=>Ee,UG:()=>ge,US:()=>H,ZB:()=>U,ZR:()=>Xe,b$:()=>Le,d:()=>Te,eu:()=>me,hl:()=>G,jU:()=>Ae,m9:()=>Zt,ne:()=>Ki,pd:()=>kr,r3:()=>St,ru:()=>Ce,tV:()=>de,uI:()=>lt,vZ:()=>yn,w1:()=>ve,xO:()=>Pr,xb:()=>At,z$:()=>Ze,zI:()=>Be,zd:()=>Bi});const ae=function(Q){const z=[];let V=0;for(let Z=0;Z<Q.length;Z++){let W=Q.charCodeAt(Z);W<128?z[V++]=W:W<2048?(z[V++]=W>>6|192,z[V++]=63&W|128):55296==(64512&W)&&Z+1<Q.length&&56320==(64512&Q.charCodeAt(Z+1))?(W=65536+((1023&W)<<10)+(1023&Q.charCodeAt(++Z)),z[V++]=W>>18|240,z[V++]=W>>12&63|128,z[V++]=W>>6&63|128,z[V++]=63&W|128):(z[V++]=W>>12|224,z[V++]=W>>6&63|128,z[V++]=63&W|128)}return z},H={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,z){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[];for(let W=0;W<Q.length;W+=3){const Ie=Q[W],We=W+1<Q.length,pt=We?Q[W+1]:0,bn=W+2<Q.length,un=bn?Q[W+2]:0;let Ln=(15&pt)<<2|un>>6,mr=63&un;bn||(mr=64,We||(Ln=64)),Z.push(V[Ie>>2],V[(3&Ie)<<4|pt>>4],V[Ln],V[mr])}return Z.join("")},encodeString(Q,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(Q):this.encodeByteArray(ae(Q),z)},decodeString(Q,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(Q):function(Q){const z=[];let V=0,Z=0;for(;V<Q.length;){const W=Q[V++];if(W<128)z[Z++]=String.fromCharCode(W);else if(W>191&&W<224){const Ie=Q[V++];z[Z++]=String.fromCharCode((31&W)<<6|63&Ie)}else if(W>239&&W<365){const bn=((7&W)<<18|(63&Q[V++])<<12|(63&Q[V++])<<6|63&Q[V++])-65536;z[Z++]=String.fromCharCode(55296+(bn>>10)),z[Z++]=String.fromCharCode(56320+(1023&bn))}else{const Ie=Q[V++],We=Q[V++];z[Z++]=String.fromCharCode((15&W)<<12|(63&Ie)<<6|63&We)}}return z.join("")}(this.decodeStringToByteArray(Q,z))},decodeStringToByteArray(Q,z){this.init_();const V=z?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[];for(let W=0;W<Q.length;){const Ie=V[Q.charAt(W++)],pt=W<Q.length?V[Q.charAt(W)]:0;++W;const un=W<Q.length?V[Q.charAt(W)]:64;++W;const Lt=W<Q.length?V[Q.charAt(W)]:64;if(++W,null==Ie||null==pt||null==un||null==Lt)throw Error();Z.push(Ie<<2|pt>>4),64!==un&&(Z.push(pt<<4&240|un>>2),64!==Lt&&Z.push(un<<6&192|Lt))}return Z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}},he=function(Q){return function(Q){const z=ae(Q);return H.encodeByteArray(z,!0)}(Q).replace(/\./g,"")},de=function(Q){try{return H.decodeString(Q,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function U(Q,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return z}for(const V in z)!z.hasOwnProperty(V)||!ee(V)||(Q[V]=U(Q[V],z[V]));return Q}function ee(Q){return"__proto__"!==Q}class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,V)=>{this.resolve=z,this.reject=V})}wrapCallback(z){return(V,Z)=>{V?this.reject(V):this.resolve(Z),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(V):z(V,Z))}}}function Ee(Q,z){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Z=z||"demo-project",W=Q.iat||0,Ie=Q.sub||Q.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${Z}`,aud:Z,iat:W,exp:W+3600,auth_time:W,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(We)),""].join(".")}function Ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ae(){return"object"==typeof self&&self.self===self}function Ce(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function Le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Te(){return Ze().indexOf("Electron/")>=0}function ve(){const Q=Ze();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function Ne(){return Ze().indexOf("MSAppHost/")>=0}function Pe(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G(){return"object"==typeof indexedDB}function me(){return new Promise((Q,z)=>{try{let V=!0;const Z="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(Z);W.onsuccess=()=>{W.result.close(),V||self.indexedDB.deleteDatabase(Z),Q(!0)},W.onupgradeneeded=()=>{V=!1},W.onerror=()=>{var Ie;z((null===(Ie=W.error)||void 0===Ie?void 0:Ie.message)||"")}}catch(V){z(V)}})}function Be(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Xe extends Error{constructor(z,V,Z){super(V),this.code=z,this.customData=Z,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q.prototype.create)}}class q{constructor(z,V,Z){this.service=z,this.serviceName=V,this.errors=Z}create(z,...V){const Z=V[0]||{},W=`${this.service}/${z}`,Ie=this.errors[z],We=Ie?function X(Q,z){return Q.replace(ce,(V,Z)=>{const W=z[Z];return null!=W?String(W):`<${Z}?>`})}(Ie,Z):"Error";return new Xe(W,`${this.serviceName}: ${We} (${W}).`,Z)}}const ce=/\{\$([^}]+)}/g;function St(Q,z){return Object.prototype.hasOwnProperty.call(Q,z)}function At(Q){for(const z in Q)if(Object.prototype.hasOwnProperty.call(Q,z))return!1;return!0}function yn(Q,z){if(Q===z)return!0;const V=Object.keys(Q),Z=Object.keys(z);for(const W of V){if(!Z.includes(W))return!1;const Ie=Q[W],We=z[W];if(vn(Ie)&&vn(We)){if(!yn(Ie,We))return!1}else if(Ie!==We)return!1}for(const W of Z)if(!V.includes(W))return!1;return!0}function vn(Q){return null!==Q&&"object"==typeof Q}function Pr(Q){const z=[];for(const[V,Z]of Object.entries(Q))Array.isArray(Z)?Z.forEach(W=>{z.push(encodeURIComponent(V)+"="+encodeURIComponent(W))}):z.push(encodeURIComponent(V)+"="+encodeURIComponent(Z));return z.length?"&"+z.join("&"):""}function Bi(Q){const z={};return Q.replace(/^\?/,"").split("&").forEach(Z=>{if(Z){const[W,Ie]=Z.split("=");z[decodeURIComponent(W)]=decodeURIComponent(Ie)}}),z}function kr(Q){const z=Q.indexOf("?");if(!z)return"";const V=Q.indexOf("#",z);return Q.substring(z,V>0?V:void 0)}function Ki(Q,z){const V=new mn(Q,z);return V.subscribe.bind(V)}class mn{constructor(z,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{z(this)}).catch(Z=>{this.error(Z)})}next(z){this.forEachObserver(V=>{V.next(z)})}error(z){this.forEachObserver(V=>{V.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,V,Z){let W;if(void 0===z&&void 0===V&&void 0===Z)throw new Error("Missing Observer.");W=function yt(Q,z){if("object"!=typeof Q||null===Q)return!1;for(const V of z)if(V in Q&&"function"==typeof Q[V])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:V,complete:Z},void 0===W.next&&(W.next=qr),void 0===W.error&&(W.error=qr),void 0===W.complete&&(W.complete=qr);const Ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),Ie}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,z)}sendOne(z,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{V(this.observers[z])}catch(Z){typeof console<"u"&&console.error&&console.error(Z)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qr(){}const Tn=1e3,Nn=2,Sr=144e5,Gn=.5;function gs(Q,z=Tn,V=Nn){const Z=z*Math.pow(V,Q),W=Math.round(Gn*Z*(Math.random()-.5)*2);return Math.min(Sr,Z+W)}function Zt(Q){return Q&&Q._delegate?Q._delegate:Q}},8332:(ft,De,k)=>{"use strict";var s=k(4650);let ne=null;function F(){return ne}class oe{}const H=new s.OlP("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function he(){return(0,s.LFG)($)}()},providedIn:"platform"}),n})();const de=new s.OlP("Location Initialized");let $=(()=>{class n extends pe{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){U()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){U()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ee(){return new $((0,s.LFG)(H))}()},providedIn:"platform"}),n})();function U(){return!!window.history.pushState}function $e(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ee(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ze(n){return n&&"?"!==n[0]?"?"+n:n}let lt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Ae)},providedIn:"root"}),n})();const ge=new s.OlP("appBaseHref");let Ae=(()=>{class n extends lt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(H).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $e(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ze(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const c=this.prepareExternalUrl(i+Ze(l));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,l){const c=this.prepareExternalUrl(i+Ze(l));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(pe),s.LFG(ge,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ce=(()=>{class n extends lt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=$e(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let c=this.prepareExternalUrl(i+Ze(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,l){let c=this.prepareExternalUrl(i+Ze(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(pe),s.LFG(ge,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n{constructor(t){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ze(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ee(Ne(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ze(r))}normalize(t){return n.stripTrailingSlash(function ve(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ne(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ze,n.joinWithSlash=$e,n.stripTrailingSlash=Ee,n.\u0275fac=function(t){return new(t||n)(s.LFG(lt))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Te(){return new Le((0,s.LFG)(lt))}()},providedIn:"root"}),n})();function Ne(n){return n.replace(/\/index.html$/,"")}var Be=(()=>((Be=Be||{})[Be.Format=0]="Format",Be[Be.Standalone=1]="Standalone",Be))(),Ge=(()=>((Ge=Ge||{})[Ge.Narrow=0]="Narrow",Ge[Ge.Abbreviated=1]="Abbreviated",Ge[Ge.Wide=2]="Wide",Ge[Ge.Short=3]="Short",Ge))(),dt=(()=>((dt=dt||{})[dt.Short=0]="Short",dt[dt.Medium=1]="Medium",dt[dt.Long=2]="Long",dt[dt.Full=3]="Full",dt))(),Xe=(()=>((Xe=Xe||{})[Xe.Decimal=0]="Decimal",Xe[Xe.Group=1]="Group",Xe[Xe.List=2]="List",Xe[Xe.PercentSign=3]="PercentSign",Xe[Xe.PlusSign=4]="PlusSign",Xe[Xe.MinusSign=5]="MinusSign",Xe[Xe.Exponential=6]="Exponential",Xe[Xe.SuperscriptingExponent=7]="SuperscriptingExponent",Xe[Xe.PerMille=8]="PerMille",Xe[Xe.Infinity=9]="Infinity",Xe[Xe.NaN=10]="NaN",Xe[Xe.TimeSeparator=11]="TimeSeparator",Xe[Xe.CurrencyDecimal=12]="CurrencyDecimal",Xe[Xe.CurrencyGroup=13]="CurrencyGroup",Xe))();function sn(n,e){return mn((0,s.cg1)(n)[s.wAp.DateFormat],e)}function wt(n,e){return mn((0,s.cg1)(n)[s.wAp.TimeFormat],e)}function St(n,e){return mn((0,s.cg1)(n)[s.wAp.DateTimeFormat],e)}function qe(n,e){const t=(0,s.cg1)(n),r=t[s.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===Xe.CurrencyDecimal)return t[s.wAp.NumberSymbols][Xe.Decimal];if(e===Xe.CurrencyGroup)return t[s.wAp.NumberSymbols][Xe.Group]}return r}function Bi(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function mn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Zr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const _n=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pr={},Ji=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var xt=(()=>((xt=xt||{})[xt.Short=0]="Short",xt[xt.ShortGMT=1]="ShortGMT",xt[xt.Long=2]="Long",xt[xt.Extended=3]="Extended",xt))(),bt=(()=>((bt=bt||{})[bt.FullYear=0]="FullYear",bt[bt.Month=1]="Month",bt[bt.Date=2]="Date",bt[bt.Hours=3]="Hours",bt[bt.Minutes=4]="Minutes",bt[bt.Seconds=5]="Seconds",bt[bt.FractionalSeconds=6]="FractionalSeconds",bt[bt.Day=7]="Day",bt))(),Ct=(()=>((Ct=Ct||{})[Ct.DayPeriods=0]="DayPeriods",Ct[Ct.Days=1]="Days",Ct[Ct.Months=2]="Months",Ct[Ct.Eras=3]="Eras",Ct))();function ps(n,e,t,r){let i=function mr(n){if(Yt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,l=1,c=1]=n.split("-").map(f=>+f);return Tn(i,l-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(_n))return function di(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,l=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,f=Number(n[5]||0)-r,_=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(e,c,f,_,b),e}(r)}const e=new Date(n);if(!Yt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Nn(t,e)||e;let f,c=[];for(;e;){if(f=Ji.exec(e),!f){c.push(e);break}{c=c.concat(f.slice(1));const D=c.pop();if(!D)break;e=D}}let _=i.getTimezoneOffset();r&&(_=gr(r,_),i=function Ln(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Lt(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(gr(e,i)-i))}(i,r,!0));let b="";return c.forEach(D=>{const A=function un(n){if(bn[n])return bn[n];let e;switch(n){case"G":case"GG":case"GGG":e=Zt(Ct.Eras,Ge.Abbreviated);break;case"GGGG":e=Zt(Ct.Eras,Ge.Wide);break;case"GGGGG":e=Zt(Ct.Eras,Ge.Narrow);break;case"y":e=an(bt.FullYear,1,0,!1,!0);break;case"yy":e=an(bt.FullYear,2,0,!0,!0);break;case"yyy":e=an(bt.FullYear,3,0,!1,!0);break;case"yyyy":e=an(bt.FullYear,4,0,!1,!0);break;case"Y":e=pt(1);break;case"YY":e=pt(2,!0);break;case"YYY":e=pt(3);break;case"YYYY":e=pt(4);break;case"M":case"L":e=an(bt.Month,1,1);break;case"MM":case"LL":e=an(bt.Month,2,1);break;case"MMM":e=Zt(Ct.Months,Ge.Abbreviated);break;case"MMMM":e=Zt(Ct.Months,Ge.Wide);break;case"MMMMM":e=Zt(Ct.Months,Ge.Narrow);break;case"LLL":e=Zt(Ct.Months,Ge.Abbreviated,Be.Standalone);break;case"LLLL":e=Zt(Ct.Months,Ge.Wide,Be.Standalone);break;case"LLLLL":e=Zt(Ct.Months,Ge.Narrow,Be.Standalone);break;case"w":e=We(1);break;case"ww":e=We(2);break;case"W":e=We(1,!0);break;case"d":e=an(bt.Date,1);break;case"dd":e=an(bt.Date,2);break;case"c":case"cc":e=an(bt.Day,1);break;case"ccc":e=Zt(Ct.Days,Ge.Abbreviated,Be.Standalone);break;case"cccc":e=Zt(Ct.Days,Ge.Wide,Be.Standalone);break;case"ccccc":e=Zt(Ct.Days,Ge.Narrow,Be.Standalone);break;case"cccccc":e=Zt(Ct.Days,Ge.Short,Be.Standalone);break;case"E":case"EE":case"EEE":e=Zt(Ct.Days,Ge.Abbreviated);break;case"EEEE":e=Zt(Ct.Days,Ge.Wide);break;case"EEEEE":e=Zt(Ct.Days,Ge.Narrow);break;case"EEEEEE":e=Zt(Ct.Days,Ge.Short);break;case"a":case"aa":case"aaa":e=Zt(Ct.DayPeriods,Ge.Abbreviated);break;case"aaaa":e=Zt(Ct.DayPeriods,Ge.Wide);break;case"aaaaa":e=Zt(Ct.DayPeriods,Ge.Narrow);break;case"b":case"bb":case"bbb":e=Zt(Ct.DayPeriods,Ge.Abbreviated,Be.Standalone,!0);break;case"bbbb":e=Zt(Ct.DayPeriods,Ge.Wide,Be.Standalone,!0);break;case"bbbbb":e=Zt(Ct.DayPeriods,Ge.Narrow,Be.Standalone,!0);break;case"B":case"BB":case"BBB":e=Zt(Ct.DayPeriods,Ge.Abbreviated,Be.Format,!0);break;case"BBBB":e=Zt(Ct.DayPeriods,Ge.Wide,Be.Format,!0);break;case"BBBBB":e=Zt(Ct.DayPeriods,Ge.Narrow,Be.Format,!0);break;case"h":e=an(bt.Hours,1,-12);break;case"hh":e=an(bt.Hours,2,-12);break;case"H":e=an(bt.Hours,1);break;case"HH":e=an(bt.Hours,2);break;case"m":e=an(bt.Minutes,1);break;case"mm":e=an(bt.Minutes,2);break;case"s":e=an(bt.Seconds,1);break;case"ss":e=an(bt.Seconds,2);break;case"S":e=an(bt.FractionalSeconds,1);break;case"SS":e=an(bt.FractionalSeconds,2);break;case"SSS":e=an(bt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=z(xt.Short);break;case"ZZZZZ":e=z(xt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=z(xt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=z(xt.Long);break;default:return null}return bn[n]=e,e}(D);b+=A?A(i,t,_):"''"===D?"'":D.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function Tn(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Nn(n,e){const t=function X(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(pr[t]=pr[t]||{},pr[t][e])return pr[t][e];let r="";switch(e){case"shortDate":r=sn(n,dt.Short);break;case"mediumDate":r=sn(n,dt.Medium);break;case"longDate":r=sn(n,dt.Long);break;case"fullDate":r=sn(n,dt.Full);break;case"shortTime":r=wt(n,dt.Short);break;case"mediumTime":r=wt(n,dt.Medium);break;case"longTime":r=wt(n,dt.Long);break;case"fullTime":r=wt(n,dt.Full);break;case"short":const i=Nn(n,"shortTime"),l=Nn(n,"shortDate");r=Sr(St(n,dt.Short),[i,l]);break;case"medium":const c=Nn(n,"mediumTime"),f=Nn(n,"mediumDate");r=Sr(St(n,dt.Medium),[c,f]);break;case"long":const _=Nn(n,"longTime"),b=Nn(n,"longDate");r=Sr(St(n,dt.Long),[_,b]);break;case"full":const D=Nn(n,"fullTime"),A=Nn(n,"fullDate");r=Sr(St(n,dt.Full),[D,A])}return r&&(pr[t][e]=r),r}function Sr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Gn(n,e,t="-",r,i){let l="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,l=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.slice(c.length-e)),l+c}function an(n,e,t=0,r=!1,i=!1){return function(l,c){let f=function Wr(n,e){switch(n){case bt.FullYear:return e.getFullYear();case bt.Month:return e.getMonth();case bt.Date:return e.getDate();case bt.Hours:return e.getHours();case bt.Minutes:return e.getMinutes();case bt.Seconds:return e.getSeconds();case bt.FractionalSeconds:return e.getMilliseconds();case bt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((t>0||f>-t)&&(f+=t),n===bt.Hours)0===f&&-12===t&&(f=12);else if(n===bt.FractionalSeconds)return function gs(n,e){return Gn(n,3).substring(0,e)}(f,e);const _=qe(c,Xe.MinusSign);return Gn(f,e,_,r,i)}}function Zt(n,e,t=Be.Format,r=!1){return function(i,l){return function Q(n,e,t,r,i,l){switch(t){case Ct.Months:return function xe(n,e,t){const r=(0,s.cg1)(n),l=mn([r[s.wAp.MonthsFormat],r[s.wAp.MonthsStandalone]],e);return mn(l,t)}(e,i,r)[n.getMonth()];case Ct.Days:return function be(n,e,t){const r=(0,s.cg1)(n),l=mn([r[s.wAp.DaysFormat],r[s.wAp.DaysStandalone]],e);return mn(l,t)}(e,i,r)[n.getDay()];case Ct.DayPeriods:const c=n.getHours(),f=n.getMinutes();if(l){const b=function kr(n){const e=(0,s.cg1)(n);return Bi(e),(e[s.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Zr(r):[Zr(r[0]),Zr(r[1])])}(e),D=function Cr(n,e,t){const r=(0,s.cg1)(n);Bi(r);const l=mn([r[s.wAp.ExtraData][0],r[s.wAp.ExtraData][1]],e)||[];return mn(l,t)||[]}(e,i,r),A=b.findIndex(x=>{if(Array.isArray(x)){const[P,j]=x,Y=c>=P.hours&&f>=P.minutes,ie=c<j.hours||c===j.hours&&f<j.minutes;if(P.hours<j.hours){if(Y&&ie)return!0}else if(Y||ie)return!0}else if(x.hours===c&&x.minutes===f)return!0;return!1});if(-1!==A)return D[A]}return function ce(n,e,t){const r=(0,s.cg1)(n),l=mn([r[s.wAp.DayPeriodsFormat],r[s.wAp.DayPeriodsStandalone]],e);return mn(l,t)}(e,i,r)[c<12?0:1];case Ct.Eras:return function Fe(n,e){return mn((0,s.cg1)(n)[s.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,l,n,e,t,r)}}function z(n){return function(e,t,r){const i=-1*r,l=qe(t,Xe.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case xt.Short:return(i>=0?"+":"")+Gn(c,2,l)+Gn(Math.abs(i%60),2,l);case xt.ShortGMT:return"GMT"+(i>=0?"+":"")+Gn(c,1,l);case xt.Long:return"GMT"+(i>=0?"+":"")+Gn(c,2,l)+":"+Gn(Math.abs(i%60),2,l);case xt.Extended:return 0===r?"Z":(i>=0?"+":"")+Gn(c,2,l)+":"+Gn(Math.abs(i%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}const V=0,Z=4;function Ie(n){return Tn(n.getFullYear(),n.getMonth(),n.getDate()+(Z-n.getDay()))}function We(n,e=!1){return function(t,r){let i;if(e){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+l)/7)}else{const l=Ie(t),c=function W(n){const e=Tn(n,V,1).getDay();return Tn(n,0,1+(e<=Z?Z:Z+7)-e)}(l.getFullYear()),f=l.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return Gn(i,n,qe(r,Xe.MinusSign))}}function pt(n,e=!1){return function(t,r){return Gn(Ie(t).getFullYear(),n,qe(r,Xe.MinusSign),e)}}const bn={};function gr(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Yt(n){return n instanceof Date&&!isNaN(n.valueOf())}function ka(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}class Xi{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ln=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Xi(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===l?void 0:l);else if(null!==l){const f=r.get(l);r.move(f,c),go(f,i)}});for(let i=0,l=r.length;i<l;i++){const f=r.get(i).context;f.index=i,f.count=l,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{go(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function go(n,e){n.context.$implicit=e.item}let Bn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Fa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Gt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Gt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Fa{constructor(){this.$implicit=null,this.ngIf=null}}function Gt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(e)}'.`)}let Vn=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:l,ngTemplateOutletInjector:c}=this;this._viewRef=r.createEmbeddedView(i,l,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})();const ys=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Sl=new s.OlP("DATE_PIPE_DEFAULT_OPTIONS");let yo=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,l){if(null==t||""===t||t!=t)return null;try{return ps(t,r??this.defaultOptions?.dateFormat??"mediumDate",l||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(c){throw function Kt(n,e){return new s.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.soG,16),s.Y36(ys,24),s.Y36(Sl,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Il=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Ci="server";function Nl(n){return n===Ci}let wo=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Ba((0,s.LFG)(H),window)}),n})();class Ba{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ra(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const c=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=na(this.window.history)||na(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function na(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ml{}class ws extends oe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ia extends ws{static makeCurrent(){!function ae(n){ne||(ne=n)}(new ia)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function rf(){return sa=sa||document.querySelector("base"),sa?sa.getAttribute("href"):null}();return null==t?null:function Ar(n){Es=Es||document.createElement("a"),Es.setAttribute("href",n);const e=Es.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ka(document.cookie,e)}}let Es,sa=null;const za=new s.OlP("TRANSITION_ID"),is=[{provide:s.ip1,useFactory:function my(n,e,t){return()=>{t.get(s.CZH).donePromise.then(()=>{const r=F(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[za,H,s.zs3],multi:!0}];let af=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Js=new s.OlP("EventManagerPlugins");let Za=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const c=i[l];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Js),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Jn{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=F().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let oa=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let l=i.get(t)??0;return l+=r,l>0?i.set(t,l):i.delete(t),l}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ds=(()=>{class n extends oa{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(l=>l.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const l=this.styleRef.get(r);l?l.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const aa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ts=/%COMP%/g,qa=new s.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Wa(n,e){return e.flat(100).map(t=>t.replace(Ts,n))}function Ya(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let So=(()=>{class n{constructor(t,r,i,l){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=l,this.rendererByCompId=new Map,this.defaultRenderer=new Qr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof Ja?i.applyToHost(t):i instanceof Ka&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let l=i.get(r.id);if(!l){const c=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case s.ifc.Emulated:l=new Ja(c,f,r,this.appId,_);break;case s.ifc.ShadowDom:return new Ku(c,f,t,r);default:l=new Ka(c,f,r,_)}l.onDestroy=()=>i.delete(r.id),i.set(r.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Za),s.LFG(Ds),s.LFG(s.AFp),s.LFG(qa))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Qr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(aa[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(la(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(la(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=aa[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=aa[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,r,i&s.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ya(r)):this.eventManager.addEventListener(e,t,Ya(r))}}function la(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ku extends Qr{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Wa(i.id,i.styles);for(const c of l){const f=document.createElement("style");f.textContent=c,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ka extends Qr{constructor(e,t,r,i,l=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Wa(l,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ja extends Ka{constructor(e,t,r,i,l){const c=i+"-"+r.id;super(e,t,r,l,c),this.contentAttr=function ss(n){return"_ngcontent-%COMP%".replace(Ts,n)}(c),this.hostAttr=function Wu(n){return"_nghost-%COMP%".replace(Ts,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let ua=(()=>{class n extends Jn{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Qa=["alt","control","meta","shift"],md={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},os={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Xa=(()=>{class n extends Jn{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),c=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,l.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),Qa.forEach(b=>{const D=r.indexOf(b);D>-1&&(r.splice(D,1),c+=b+".")}),c+=l,0!=r.length||0===l.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=md[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(i=t.code,l="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Qa.forEach(c=>{c!==i&&(0,os[c])(t)&&(l+=c+".")}),l+=i,l===r)}static eventCallback(t,r,i){return l=>{n.matchEventFullKeyCode(l,t)&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Hl=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:"browser"},{provide:s.g9A,useValue:function Ao(){ia.makeCurrent()},multi:!0},{provide:H,useFactory:function uf(){return(0,s.RDi)(document),document},deps:[]}]),_d=new s.OlP(""),Xu=[{provide:s.rWj,useClass:class sf{addToWindow(e){s.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},s.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(r=>{const i=s.dqk.getAllAngularTestabilities();let l=i.length,c=!1;const f=function(_){c=c||_,l--,0==l&&r(c)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],ca=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function el(){return new s.qLn},deps:[]},{provide:Js,useClass:ua,multi:!0,deps:[H,s.R0b,s.Lbi]},{provide:Js,useClass:Xa,multi:!0,deps:[H]},{provide:So,useClass:So,deps:[Za,Ds,s.AFp,qa]},{provide:s.FYo,useExisting:So},{provide:oa,useExisting:Ds},{provide:Ds,useClass:Ds,deps:[H]},{provide:Za,useClass:Za,deps:[Js,s.R0b]},{provide:Ml,useClass:af,deps:[]},[]];let da=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:s.AFp,useValue:t.appId},{provide:za,useExisting:s.AFp},is]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(_d,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...ca,...Xu],imports:[Il,s.hGG]}),n})(),No=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function yd(){return new No((0,s.LFG)(H))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let ff=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):s.LFG(gf),r},providedIn:"root"}),n})(),gf=(()=>{class n extends ff{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case s.q3G.NONE:return r;case s.q3G.HTML:return(0,s.qzn)(r,"HTML")?(0,s.z3N)(r):(0,s.EiD)(this._doc,String(r)).toString();case s.q3G.STYLE:return(0,s.qzn)(r,"Style")?(0,s.z3N)(r):r;case s.q3G.SCRIPT:if((0,s.qzn)(r,"Script"))return(0,s.z3N)(r);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(r,"URL")?(0,s.z3N)(r):(0,s.mCW)(String(r));case s.q3G.RESOURCE_URL:if((0,s.qzn)(r,"ResourceURL"))return(0,s.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${s.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${s.JZr})`)}}bypassSecurityTrustHtml(t){return(0,s.JVY)(t)}bypassSecurityTrustStyle(t){return(0,s.L6k)(t)}bypassSecurityTrustScript(t){return(0,s.eBb)(t)}bypassSecurityTrustUrl(t){return(0,s.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,s.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function pf(n){return new gf(n.get(H))}(s.LFG(s.zs3)),r},providedIn:"root"}),n})();var $t=k(8996),On=k(9751);const{isArray:Hi}=Array,{getPrototypeOf:Ig,prototype:Dd,keys:Ms}=Object;function zl(n){if(1===n.length){const e=n[0];if(Hi(e))return{args:e,keys:null};if(function Os(n){return n&&"object"==typeof n&&Ig(n)===Dd}(e)){const t=Ms(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var as=k(8421),Rs=k(3269),Cn=k(5403),ut=k(4004);const{isArray:Zl}=Array;function C(n){return(0,ut.U)(e=>function Td(n,e){return Zl(e)?n(...e):n(e)}(n,e))}function S(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let B=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),te=(()=>{class n extends B{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const se=new s.OlP("NgValueAccessor"),Dt={provide:se,useExisting:(0,s.Gpc)(()=>gt),multi:!0},kt=new s.OlP("CompositionEventMode");let gt=(()=>{class n extends B{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ft(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(kt,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&s.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[s._Bn([Dt]),s.qOj]}),n})();const ir=!1;function Qn(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Oo(n){return null!=n&&"number"==typeof n.length}const kn=new s.OlP("NgValidators"),mi=new s.OlP("NgAsyncValidators"),_f=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xs{static min(e){return function eo(n){return e=>{if(Qn(e.value)||Qn(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Gi(n){return e=>{if(Qn(e.value)||Qn(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return to(e)}static requiredTrue(e){return function nc(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function rc(n){return Qn(n.value)||_f.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function yy(n){return e=>Qn(e.value)||!Oo(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function yf(n){return e=>Oo(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Ag(n){if(!n)return Cd;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Qn(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Ey(e)}static composeAsync(e){return Dy(e)}}function to(n){return Qn(n.value)?{required:!0}:null}function Cd(n){return null}function ic(n){return null!=n}function Sd(n){const e=(0,s.QGY)(n)?(0,$t.D)(n):n;if(ir&&!(0,s.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new s.vHH(-1101,t)}return e}function vy(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function by(n,e){return e.map(t=>t(n))}function wy(n){return n.map(e=>function vf(n){return!n.validate}(e)?e:t=>e.validate(t))}function Ey(n){if(!n)return null;const e=n.filter(ic);return 0==e.length?null:function(t){return vy(by(t,e))}}function Ng(n){return null!=n?Ey(wy(n)):null}function Dy(n){if(!n)return null;const e=n.filter(ic);return 0==e.length?null:function(t){return function M(...n){const e=(0,Rs.jO)(n),{args:t,keys:r}=zl(n),i=new On.y(l=>{const{length:c}=t;if(!c)return void l.complete();const f=new Array(c);let _=c,b=c;for(let D=0;D<c;D++){let A=!1;(0,as.Xf)(t[D]).subscribe((0,Cn.x)(l,x=>{A||(A=!0,b--),f[D]=x},()=>_--,void 0,()=>{(!_||!A)&&(b||l.next(r?S(r,f):f),l.complete())}))}});return e?i.pipe(C(e)):i}(by(t,e).map(Sd)).pipe((0,ut.U)(vy))}}function Id(n){return null!=n?Dy(wy(n)):null}function Mg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function bf(n){return n._rawValidators}function Ad(n){return n._rawAsyncValidators}function Nd(n){return n?Array.isArray(n)?n:[n]:[]}function sc(n,e){return Array.isArray(n)?n.includes(e):n===e}function Md(n,e){const t=Nd(e);return Nd(n).forEach(i=>{sc(t,i)||t.push(i)}),t}function Ps(n,e){return Nd(e).filter(t=>!sc(n,t))}class Og{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ng(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Id(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class _i extends Og{get formDirective(){return null}get path(){return null}}class pa extends Og{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class oc{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pg=(()=>{class n extends oc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(pa,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[s.qOj]}),n})(),wf=(()=>{class n extends oc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(_i,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[s.qOj]}),n})();function Fg(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const ac=!1,lc="VALID",Wl="INVALID",no="PENDING",uc="DISABLED";function il(n){return(sl(n)?n.validators:n)||null}function Df(n,e){return(sl(e)?e.asyncValidators:n)||null}function sl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function cc(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new s.vHH(1e3,ac?function Pd(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new s.vHH(1001,ac?function Iy(n,e){return`Cannot find form control ${Fg(n,e)}`}(e,t):"")}function ol(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new s.vHH(1002,ac?function Lg(n,e){return`Must supply a value for form control ${Fg(n,e)}`}(e,i):"")})}class Yl{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===lc}get invalid(){return this.status===Wl}get pending(){return this.status==no}get disabled(){return this.status===uc}get enabled(){return this.status!==uc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Md(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Md(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ps(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ps(e,this._rawAsyncValidators))}hasValidator(e){return sc(this._rawValidators,e)}hasAsyncValidator(e){return sc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=no,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=uc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=lc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lc||this.status===no)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uc:lc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=no,this._hasOwnPendingAsyncValidator=!0;const t=Sd(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?uc:this.errors?Wl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(no)?no:this._anyControlsHaveStatus(Wl)?Wl:lc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Ay(n){return Array.isArray(n)?Ng(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Tf(n){return Array.isArray(n)?Id(n):n||null}(this._rawAsyncValidators)}}class ga extends Yl{constructor(e,t,r){super(il(t),Df(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ol(this,!0,e),Object.keys(e).forEach(r=>{cc(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Vg extends ga{}const al=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>dc}),dc="always";function Kl(n,e,t=dc){fc(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Ny(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&If(n,e)})}(n,e),function ll(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Sf(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&If(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function jg(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function hc(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ma(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Jl(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function fc(n,e){const t=bf(n);null!==e.validator?n.setValidators(Mg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Ad(n);null!==e.asyncValidator?n.setAsyncValidators(Mg(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Jl(e._rawValidators,i),Jl(e._rawAsyncValidators,i)}function ma(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=bf(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(c=>c!==e.validator);l.length!==i.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const i=Ad(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(c=>c!==e.asyncValidator);l.length!==i.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Jl(e._rawValidators,r),Jl(e._rawAsyncValidators,r),t}function If(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function mc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Xl(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ls=class extends Yl{constructor(e=null,t,r){super(il(t),Df(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Xl(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Xl(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Mf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Ud=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const w=new s.OlP("NgModelWithFormControlWarning"),K={provide:_i,useExisting:(0,s.Gpc)(()=>ue)};let ue=(()=>{class n extends _i{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ma(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Kl(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){hc(t.control||null,t,!1),function pc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Xr(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(hc(r||null,t),(n=>n instanceof ls)(i)&&(Kl(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Af(n,e){fc(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Hg(n,e){return ma(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fc(this.form,this),this._oldForm&&ma(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(kn,10),s.Y36(mi,10),s.Y36(al,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&s.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([K]),s.qOj,s.TTD]}),n})();const ks={provide:pa,useExisting:(0,s.Gpc)(()=>tu)};let tu=(()=>{class n extends pa{set isDisabled(t){}constructor(t,r,i,l,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ya(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===gt?t=l:function $g(n){return Object.getPrototypeOf(n.constructor)===te}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){this._added||this._setUpControl(),function Ql(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function kd(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(s.Y36(_i,13),s.Y36(kn,10),s.Y36(mi,10),s.Y36(se,10),s.Y36(w,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([ks]),s.qOj,s.TTD]}),n})(),Hd=(()=>{class n{constructor(){this._validator=Cd}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Cd,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const iR={provide:kn,useExisting:(0,s.Gpc)(()=>tm),multi:!0};let tm=(()=>{class n extends Hd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=t=>to}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&s.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([iR]),s.qOj]}),n})(),ky=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ud]}),n})();class rw extends Yl{constructor(e,t,r){super(il(t),Df(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ol(this,!1,e),e.forEach((r,i)=>{cc(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function iw(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let sw=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let l={};return iw(r)?l=r:null!==r&&(l.validators=r.validator,l.asyncValidators=r.asyncValidator),new ga(i,l)}record(t,r=null){const i=this._reduceControls(t);return new Vg(i,r)}control(t,r,i){let l={};return this.useNonNullable?(iw(r)?l=r:(l.validators=r,l.asyncValidators=i),new ls(t,{...l,nonNullable:!0})):new ls(t,r,i)}array(t,r,i){const l=t.map(c=>this._createControl(c));return new rw(l,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof ls||t instanceof Yl?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:al,useValue:t.callSetDisabledState??dc}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ky]}),n})(),ow=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:w,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:al,useValue:t.callSetDisabledState??dc}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ky]}),n})();var Po=k(515);function vt(...n){const e=(0,Rs.yG)(n);return(0,$t.D)(n,e)}var fn=k(7579),vi=k(5577),aw=k(1144),ko=k(576);const Ly=["addListener","removeListener"],lR=["addEventListener","removeEventListener"],Uy=["on","off"];function bi(n,e,t,r){if((0,ko.m)(t)&&(r=t,t=void 0),r)return bi(n,e,t).pipe(C(r));const[i,l]=function wc(n){return(0,ko.m)(n.addEventListener)&&(0,ko.m)(n.removeEventListener)}(n)?lR.map(c=>f=>n[c](e,f,t)):function lw(n){return(0,ko.m)(n.addListener)&&(0,ko.m)(n.removeListener)}(n)?Ly.map(im(n,e)):function uw(n){return(0,ko.m)(n.on)&&(0,ko.m)(n.off)}(n)?Uy.map(im(n,e)):[];if(!i&&(0,aw.z)(n))return(0,vi.z)(c=>bi(c,e,t))((0,as.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new On.y(c=>{const f=(..._)=>c.next(1<_.length?_:_[0]);return i(f),()=>l(f)})}function im(n,e){return t=>r=>n[t](e,r)}var By=k(4986),Vy=k(3532);const{isArray:Hy}=Array;function ru(...n){return 1===(n=function Ff(n){return 1===n.length&&Hy(n[0])?n[0]:n}(n)).length?(0,as.Xf)(n[0]):new On.y(function cw(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,as.Xf)(n[r]).subscribe((0,Cn.x)(e,i=>{if(t){for(let l=0;l<t.length;l++)l!==r&&t[l].unsubscribe();t=null}e.next(i)})))}}(n))}class Nr extends fn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Gd=k(4671),KT=k(9672);function Lf(...n){const e=(0,Rs.yG)(n),t=(0,Rs.jO)(n),{args:r,keys:i}=zl(n);if(0===r.length)return(0,$t.D)([],e);const l=new On.y(function $d(n,e,t=Gd.y){return r=>{dw(e,()=>{const{length:i}=n,l=new Array(i);let c=i,f=i;for(let _=0;_<i;_++)dw(e,()=>{const b=(0,$t.D)(n[_],e);let D=!1;b.subscribe((0,Cn.x)(r,A=>{l[_]=A,D||(D=!0,f--),f||r.next(t(l.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>S(i,c):Gd.y));return t?l.pipe(C(t)):l}function dw(n,e,t){n?(0,KT.f)(t,n,e):e()}var om=k(5032);new On.y(om.Z);var Gy=k(6451),Uf=k(8189);function lm(...n){return function pw(){return(0,Uf.J)(1)}()((0,$t.D)(n,(0,Rs.yG)(n)))}var ar=k(4482);function lr(n){return(0,ar.e)((e,t)=>{(0,as.Xf)(n).subscribe((0,Cn.x)(t,()=>t.complete(),om.Z)),!t.closed&&e.subscribe(t)})}function Sn(n,e){return(0,ar.e)((t,r)=>{let i=0;t.subscribe((0,Cn.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}function Xn(n){return n<=0?()=>Po.E:(0,ar.e)((e,t)=>{let r=0;e.subscribe((0,Cn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ec(...n){const e=(0,Rs.yG)(n);return(0,ar.e)((t,r)=>{(e?lm(n,t,e):lm(n,t)).subscribe(r)})}function Bf(n,e=Gd.y){return n=n??QT,(0,ar.e)((t,r)=>{let i,l=!0;t.subscribe((0,Cn.x)(r,c=>{const f=e(c);(l||!n(i,f))&&(l=!1,i=f,r.next(c))}))})}function QT(n,e){return n===e}function Mr(n,e){return(0,ar.e)((t,r)=>{let i=null,l=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,Cn.x)(r,_=>{i?.unsubscribe();let b=0;const D=l++;(0,as.Xf)(n(_,D)).subscribe(i=(0,Cn.x)(r,A=>r.next(e?e(_,A,D,b++):A),()=>{i=null,f()}))},()=>{c=!0,f()}))})}var ei=k(8505);Math,Math,Math;const yR=["ngbNavOutlet",""];function zC(n,e){}const ZC=function(n){return{$implicit:n}};function qC(n,e){if(1&n&&(s.TgZ(0,"div",2),s.YNc(1,zC,0,0,"ng-template",3),s.qZA()),2&n){const t=s.oxw().$implicit,r=s.oxw();s.Q6J("item",t)("nav",r.nav)("role",r.paneRole),s.xp6(1),s.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",s.VKq(5,ZC,t.active||r.isPanelTransitioning(t)))}}function WC(n,e){if(1&n&&s.YNc(0,qC,2,7,"div",1),2&n){const t=e.$implicit,r=s.oxw();s.Q6J("ngIf",t.isPanelInDom()||r.isPanelTransitioning(t))}}function Ea(n){return null!=n}const Ev={animation:!0,transitionTimerDelayMs:5},uE=()=>{},{transitionTimerDelayMs:cE}=Ev,oh=new Map,ni=(n,e,t,r)=>{let i=r.context||{};const l=oh.get(e);if(l)switch(r.runningTransition){case"continue":return Po.E;case"stop":n.run(()=>l.transition$.complete()),i=Object.assign(l.context,i),oh.delete(e)}const c=t(e,r.animation,i)||uE;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),vt(void 0).pipe(function bv(n){return e=>new On.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new fn.x,_=new fn.x,b=f.pipe(function JT(...n){return e=>lm(e,vt(...n))}(!0));oh.set(e,{transition$:f,complete:()=>{_.next(),_.complete()},context:i});const D=function fS(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const A=bi(e,"transitionend").pipe(lr(b),Sn(({target:P})=>P===e));ru(function jy(n=0,e,t=By.P){let r=-1;return null!=e&&((0,Vy.K)(e)?t=e:r=e),new On.y(i=>{let l=function sm(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(D+cE).pipe(lr(b)),A,_).pipe(lr(b)).subscribe(()=>{oh.delete(e),n.run(()=>{c(),f.next(),f.complete()})})}),f.asObservable()};let fl=(()=>{class n{constructor(){this.animation=Ev.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var nn=(()=>{return(n=nn||(nn={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",nn;var n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)),["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", "),new Date(1882,10,12),new Date(2174,10,25);let oI=(()=>{class n{constructor(t){this._ngbConfig=t,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(fl))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bv=n=>Ea(n)&&""!==n;let aI=0,cp=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbNavContent",""]],standalone:!0}),n})(),jm=(()=>{class n{constructor(t,r){this._nav=t,this.elementRef=r,this.disabled=!1,this.shown=new s.vpe,this.hidden=new s.vpe}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){Ea(this.domId)||(this.domId="ngb-nav-"+aI++)}get active(){return this._nav.activeId===this.id}get id(){return Bv(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(Ea(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return n.\u0275fac=function(t){return new(t||n)(s.Y36((0,s.Gpc)(()=>dp)),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbNavItem",""]],contentQueries:function(t,r,i){if(1&t&&s.Suo(i,cp,4),2&t){let l;s.iGM(l=s.CRH())&&(r.contentTpls=l)}},hostVars:2,hostBindings:function(t,r){2&t&&s.ekj("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"],standalone:!0}),n})(),dp=(()=>{class n{constructor(t,r,i,l){this.role=t,this._cd=i,this._document=l,this.activeIdChange=new s.vpe,this.shown=new s.vpe,this.hidden=new s.vpe,this.destroy$=new fn.x,this.navItemChange$=new fn.x,this.navChange=new s.vpe,this.animation=r.animation,this.destroyOnHide=r.destroyOnHide,this.orientation=r.orientation,this.roles=r.roles,this.keyboard=r.keyboard}click(t){t.disabled||this._updateActiveId(t.id)}onKeyDown(t){if("tablist"!==this.roles||!this.keyboard)return;const r=t.which,i=this.links.filter(f=>!f.navItem.disabled),{length:l}=i;let c=-1;if(i.forEach((f,_)=>{f.elRef.nativeElement===this._document.activeElement&&(c=_)}),l){switch(r){case nn.ArrowLeft:if("vertical"===this.orientation)return;c=(c-1+l)%l;break;case nn.ArrowRight:if("vertical"===this.orientation)return;c=(c+1)%l;break;case nn.ArrowDown:if("horizontal"===this.orientation)return;c=(c+1)%l;break;case nn.ArrowUp:if("horizontal"===this.orientation)return;c=(c-1+l)%l;break;case nn.Home:c=0;break;case nn.End:c=l-1}"changeWithArrows"===this.keyboard&&this.select(i[c].navItem.id),i[c].elRef.nativeElement.focus(),t.preventDefault()}}select(t){this._updateActiveId(t,!1)}ngAfterContentInit(){if(!Ea(this.activeId)){const t=this.items.first?this.items.first.id:null;Bv(t)&&(this._updateActiveId(t,!1),this._cd.detectChanges())}this.items.changes.pipe(lr(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:t}){t&&!t.firstChange&&this._notifyItemChanged(t.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(t,r=!0){if(this.activeId!==t){let i=!1;r&&this.navChange.emit({activeId:this.activeId,nextId:t,preventDefault:()=>{i=!0}}),i||(this.activeId=t,this.activeIdChange.emit(t),this._notifyItemChanged(t))}}_notifyItemChanged(t){this.navItemChange$.next(this._getItemById(t))}_getItemById(t){return this.items&&this.items.find(r=>r.id===t)||null}}return n.\u0275fac=function(t){return new(t||n)(s.$8M("role"),s.Y36(oI),s.Y36(s.sBO),s.Y36(H))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbNav",""]],contentQueries:function(t,r,i){if(1&t&&(s.Suo(i,jm,4),s.Suo(i,Hm,5)),2&t){let l;s.iGM(l=s.CRH())&&(r.items=l),s.iGM(l=s.CRH())&&(r.links=l)}},hostVars:6,hostBindings:function(t,r){1&t&&s.NdJ("keydown.arrowLeft",function(l){return r.onKeyDown(l)})("keydown.arrowRight",function(l){return r.onKeyDown(l)})("keydown.arrowDown",function(l){return r.onKeyDown(l)})("keydown.arrowUp",function(l){return r.onKeyDown(l)})("keydown.Home",function(l){return r.onKeyDown(l)})("keydown.End",function(l){return r.onKeyDown(l)}),2&t&&(s.uIk("aria-orientation","vertical"===r.orientation&&"tablist"===r.roles?"vertical":void 0)("role",r.role?r.role:r.roles?"tablist":void 0),s.ekj("nav",!0)("flex-column","vertical"===r.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],standalone:!0,features:[s.TTD]}),n})(),Hm=(()=>{class n{constructor(t,r,i,l){this.role=t,this.navItem=r,this.nav=i,this.elRef=l}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(s.$8M("role"),s.Y36(jm),s.Y36(dp),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(t,r){1&t&&s.NdJ("click",function(l){return r.nav.click(r.navItem),l.preventDefault()}),2&t&&(s.Ikx("id",r.navItem.domId),s.uIk("role",r.role?r.role:r.nav.roles?"tab":void 0)("tabindex",r.navItem.disabled?-1:void 0)("aria-controls",r.navItem.isPanelInDom()?r.navItem.panelDomId:null)("aria-selected",r.navItem.active)("aria-disabled",r.navItem.disabled),s.ekj("nav-link",!0)("nav-item",r.hasNavItemClass())("active",r.navItem.active)("disabled",r.navItem.disabled))},standalone:!0}),n})();const lI=({classList:n})=>(n.remove("show"),()=>n.remove("active")),uI=(n,e)=>{e&&function Mc(n){return(n||document.body).getBoundingClientRect()}(n),n.classList.add("show")};let Vv=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,r){2&t&&(s.Ikx("id",r.item.panelDomId),s.uIk("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),s.ekj("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),hp=(()=>{class n{constructor(t,r){this._cd=t,this._ngZone=r,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(lr(this.nav.destroy$),Ec(this._activePane?.item||null),Bf(),function $y(n){return Sn((e,t)=>n<=t)}(1)).subscribe(t=>{const r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?ni(this._ngZone,this._activePane.elRef.nativeElement,lI,r).subscribe(()=>{const i=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),ni(this._ngZone,this._activePane.elRef.nativeElement,uI,r).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),i&&(i.hidden.emit(),this.nav.hidden.emit(i.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(r=>r.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.sBO),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,r){if(1&t&&s.Gf(Vv,5),2&t){let i;s.iGM(i=s.CRH())&&(r._panes=i)}},hostVars:2,hostBindings:function(t,r){2&t&&s.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[s.jDz],attrs:yR,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&s.YNc(0,WC,1,1,"ng-template",0),2&t&&s.Q6J("ngForOf",r.nav.items)},dependencies:[Vv,ln,Bn,Vn],encapsulation:2,changeDetection:0}),n})(),Gm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hp]}),n})();function pl(n,e){return(0,ko.m)(e)?(0,vi.z)(n,e,1):(0,vi.z)(n,1)}new s.OlP("live announcer delay",{providedIn:"root",factory:function _D(){return 100}});class qm{}class qv{}class gl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),l=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,l),this.headers.has(l)?this.headers.get(l).push(c):this.headers.set(l,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof gl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new gl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof gl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const l=e.value;if(l){let c=this.headers.get(t);if(!c)return;c=c.filter(f=>-1===l.indexOf(f)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class LI{encodeKey(e){return Ym(e)}encodeValue(e){return Ym(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Sa=/%(\d[a-f0-9])/gi,UI={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ym(n){return encodeURIComponent(n).replace(Sa,(e,t)=>UI[t]??e)}function uu(n){return`${n}`}class cu{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new LI,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Wv(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const l=i.indexOf("="),[c,f]=-1==l?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,l)),e.decodeValue(i.slice(l+1))],_=t.get(c)||[];_.push(f),t.set(c,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(uu):[uu(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new cu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(uu(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(uu(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class BI{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function fp(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function yD(n){return typeof Blob<"u"&&n instanceof Blob}function vD(n){return typeof FormData<"u"&&n instanceof FormData}class ph{constructor(e,t,r,i){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Km(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,l=i):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new gl),this.context||(this.context=new BI),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+c}}else this.params=new cu,this.urlWithParams=t}serializeBody(){return null===this.body?null:fp(this.body)||yD(this.body)||vD(this.body)||function bD(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof cu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vD(this.body)?null:yD(this.body)?this.body.type||null:fp(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof cu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,b=e.params||this.params;const D=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((A,x)=>A.set(x,e.setHeaders[x]),_)),e.setParams&&(b=Object.keys(e.setParams).reduce((A,x)=>A.set(x,e.setParams[x]),b)),new ph(t,r,l,{params:b,headers:_,context:D,reportProgress:f,responseType:i,withCredentials:c})}}var cr=(()=>((cr=cr||{})[cr.Sent=0]="Sent",cr[cr.UploadProgress=1]="UploadProgress",cr[cr.ResponseHeader=2]="ResponseHeader",cr[cr.DownloadProgress=3]="DownloadProgress",cr[cr.Response=4]="Response",cr[cr.User=5]="User",cr))();class Jm{constructor(e,t=200,r="OK"){this.headers=e.headers||new gl,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class pp extends Jm{constructor(e={}){super(e),this.type=cr.ResponseHeader}clone(e={}){return new pp({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class gh extends Jm{constructor(e={}){super(e),this.type=cr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new gh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Yv extends Jm{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function gp(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Kv=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let l;if(t instanceof ph)l=t;else{let _,b;_=i.headers instanceof gl?i.headers:new gl(i.headers),i.params&&(b=i.params instanceof cu?i.params:new cu({fromObject:i.params})),l=new ph(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:b,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=vt(l).pipe(pl(_=>this.handler.handle(_)));if(t instanceof ph||"events"===i.observe)return c;const f=c.pipe(Sn(_=>_ instanceof gh));switch(i.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return f.pipe((0,ut.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,ut.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,ut.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,ut.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new cu).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,gp(i,r))}post(t,r,i={}){return this.request("POST",t,gp(i,r))}put(t,r,i={}){return this.request("PUT",t,gp(i,r))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(qm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function wD(n,e){return e(n)}function VI(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const HI=new s.OlP("HTTP_INTERCEPTORS"),mh=new s.OlP("HTTP_INTERCEPTOR_FNS");function Jv(){let n=null;return(e,t)=>(null===n&&(n=((0,s.f3M)(HI,{optional:!0})??[]).reduceRight(VI,wD)),n(e,t))}let Qv=(()=>{class n extends qm{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(mh)));this.chain=r.reduceRight((i,l)=>function jI(n,e,t){return(r,i)=>t.runInContext(()=>e(r,l=>n(l,i)))}(i,l,this.injector),wD)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(qv),s.LFG(s.lqb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const YI=/^\)\]\}',?\n/;let JI=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new On.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((P,j)=>i.setRequestHeader(P,j.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const P=t.detectContentTypeHeader();null!==P&&i.setRequestHeader("Content-Type",P)}if(t.responseType){const P=t.responseType.toLowerCase();i.responseType="json"!==P?P:"text"}const l=t.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const P=i.statusText||"OK",j=new gl(i.getAllResponseHeaders()),Y=function KI(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new pp({headers:j,status:i.status,statusText:P,url:Y}),c},_=()=>{let{headers:P,status:j,statusText:Y,url:ie}=f(),we=null;204!==j&&(we=typeof i.response>"u"?i.responseText:i.response),0===j&&(j=we?200:0);let ke=j>=200&&j<300;if("json"===t.responseType&&"string"==typeof we){const Qe=we;we=we.replace(YI,"");try{we=""!==we?JSON.parse(we):null}catch(je){we=Qe,ke&&(ke=!1,we={error:je,text:we})}}ke?(r.next(new gh({body:we,headers:P,status:j,statusText:Y,url:ie||void 0})),r.complete()):r.error(new Yv({error:we,headers:P,status:j,statusText:Y,url:ie||void 0}))},b=P=>{const{url:j}=f(),Y=new Yv({error:P,status:i.status||0,statusText:i.statusText||"Unknown Error",url:j||void 0});r.error(Y)};let D=!1;const A=P=>{D||(r.next(f()),D=!0);let j={type:cr.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(j.total=P.total),"text"===t.responseType&&i.responseText&&(j.partialText=i.responseText),r.next(j)},x=P=>{let j={type:cr.UploadProgress,loaded:P.loaded};P.lengthComputable&&(j.total=P.total),r.next(j)};return i.addEventListener("load",_),i.addEventListener("error",b),i.addEventListener("timeout",b),i.addEventListener("abort",b),t.reportProgress&&(i.addEventListener("progress",A),null!==l&&i.upload&&i.upload.addEventListener("progress",x)),i.send(l),r.next({type:cr.Sent}),()=>{i.removeEventListener("error",b),i.removeEventListener("abort",b),i.removeEventListener("load",_),i.removeEventListener("timeout",b),t.reportProgress&&(i.removeEventListener("progress",A),null!==l&&i.upload&&i.upload.removeEventListener("progress",x)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ml))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const DD=new s.OlP("XSRF_ENABLED"),Qm=new s.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),CD=new s.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Xm{}let QI=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ka(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H),s.LFG(s.Lbi),s.LFG(Qm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function SD(n,e){const t=n.url.toLowerCase();if(!(0,s.f3M)(DD)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,s.f3M)(Xm).getToken(),i=(0,s.f3M)(CD);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var wr=(()=>((wr=wr||{})[wr.Interceptors=0]="Interceptors",wr[wr.LegacyInterceptors=1]="LegacyInterceptors",wr[wr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",wr[wr.NoXsrfProtection=3]="NoXsrfProtection",wr[wr.JsonpSupport=4]="JsonpSupport",wr[wr.RequestsMadeViaParent=5]="RequestsMadeViaParent",wr))();function _h(n,e){return{\u0275kind:n,\u0275providers:e}}function e0(...n){const e=[Kv,JI,Qv,{provide:qm,useExisting:Qv},{provide:qv,useExisting:JI},{provide:mh,useValue:SD,multi:!0},{provide:DD,useValue:!0},{provide:Xm,useClass:QI}];for(const t of n)e.push(...t.\u0275providers);return(0,s.MR2)(e)}const t0=new s.OlP("LEGACY_INTERCEPTOR_FN");let yh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[e0(_h(wr.LegacyInterceptors,[{provide:t0,useFactory:Jv},{provide:mh,useExisting:t0,multi:!0}]))]}),n})();var Bs=k(2011),Ai=k(5813);function n0(){return(0,ar.e)((n,e)=>{let t,r=!1;n.subscribe((0,Cn.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function yp(n,e){return(0,ar.e)(function ix(n,e,t,r,i){return(l,c)=>{let f=t,_=e,b=0;l.subscribe((0,Cn.x)(c,D=>{const A=b++;_=f?n(_,D,A):(f=!0,D),r&&c.next(_)},i&&(()=>{f&&c.next(_),c.complete()})))}}(n,e,arguments.length>=2,!0))}k(1451);var ct,rA=k(3942),_e=k(5861),du=k(9681),t_=k(4859),ml=k(1877),Qt=k(2090),iA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_l={},r0=r0||{},Vt=iA||self;function vp(){}function n_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function vh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var s0="closure_uid_"+(1e9*Math.random()>>>0),ox=0;function AD(n,e,t){return n.call.apply(n.bind,arguments)}function ax(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ni(n,e,t){return(Ni=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?AD:ax).apply(null,arguments)}function o0(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Mi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function Lc(){this.s=this.s,this.o=this.o}var ux={};Lc.prototype.s=!1,Lc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function sA(n){return Object.prototype.hasOwnProperty.call(n,s0)&&n[s0]||(n[s0]=++ox)}(this);delete ux[n]}},Lc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oA=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},bp=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function a0(n){return Array.prototype.concat.apply([],arguments)}function bh(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function wp(n){return/^[\s\xa0]*$/.test(n)}var Oi,l0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ds(n,e){return-1!=n.indexOf(e)}function Ep(n,e){return n<e?-1:n>e?1:0}e:{var ND=Vt.navigator;if(ND){var aA=ND.userAgent;if(aA){Oi=aA;break e}}Oi=""}function u0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function MD(n){const e={};for(const t in n)e[t]=n[t];return e}var OD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dp(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<OD.length;l++)t=OD[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function c0(n){return c0[" "](n),n}c0[" "]=vp;var Cp,n,hx=ds(Oi,"Opera"),Tp=ds(Oi,"Trident")||ds(Oi,"MSIE"),RD=ds(Oi,"Edge"),d0=RD||Tp,xD=ds(Oi,"Gecko")&&!(ds(Oi.toLowerCase(),"webkit")&&!ds(Oi,"Edge"))&&!(ds(Oi,"Trident")||ds(Oi,"MSIE"))&&!ds(Oi,"Edge"),fx=ds(Oi.toLowerCase(),"webkit")&&!ds(Oi,"Edge");function PD(){var n=Vt.document;return n?n.documentMode:void 0}e:{var r_="",kD=(n=Oi,xD?/rv:([^\);]+)(\)|;)/.exec(n):RD?/Edge\/([\d\.]+)/.exec(n):Tp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):fx?/WebKit\/(\S+)/.exec(n):hx?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(kD&&(r_=kD?kD[1]:""),Tp){var Vs=PD();if(null!=Vs&&Vs>parseFloat(r_)){Cp=String(Vs);break e}}Cp=r_}var lA={};var oo=Vt.document&&Tp&&(PD()||parseInt(Cp,10))||void 0,cA=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",vp,e),Vt.removeEventListener("test",vp,e)}catch{}return n}();function ri(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Sp(n,e){if(ri.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(xD){e:{try{c0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:dA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Sp.Z.h.call(this)}}ri.prototype.h=function(){this.defaultPrevented=!0},Mi(Sp,ri);var dA={2:"touch",3:"pen",4:"mouse"};Sp.prototype.h=function(){Sp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Uc="closure_listenable_"+(1e6*Math.random()|0),FD=0;function LD(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++FD,this.ca=this.fa=!1}function i_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Ip(n){this.src=n,this.g={},this.h=0}function s_(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=oA(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(i_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function p0(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}Ip.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var c=p0(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new LD(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var o_="closure_lm_"+(1e6*Math.random()|0),g0={};function a_(n,e,t,r,i){if(r&&r.once)return m0(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)a_(n,e[l],t,r,i);return null}return t=v0(t),n&&n[Uc]?n.N(e,t,vh(r)?!!r.capture:!!r,i):Ia(n,e,t,!1,r,i)}function Ia(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var c=vh(i)?!!i.capture:!!i,f=_0(n);if(f||(n[o_]=f=new Ip(n)),(t=f.add(e,t,r,c,l)).proxy)return t;if(r=function hu(){var e=px;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)cA||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(UD(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function m0(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)m0(n,e[l],t,r,i);return null}return t=v0(t),n&&n[Uc]?n.O(e,t,vh(r)?!!r.capture:!!r,i):Ia(n,e,t,!0,r,i)}function l_(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)l_(n,e[l],t,r,i);else r=vh(r)?!!r.capture:!!r,t=v0(t),n&&n[Uc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=p0(l=n.g[e],t,r,i))&&(i_(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=_0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=p0(e,t,r,i)),(t=-1<n?e[n]:null)&&u_(t))}function u_(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Uc])s_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(UD(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=_0(e))?(s_(t,n),0==t.h&&(t.src=null,e[o_]=null)):i_(n)}}}function UD(n){return n in g0?g0[n]:g0[n]="on"+n}function px(n,e){if(n.ca)n=!0;else{e=new Sp(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&u_(n),n=t.call(r,e)}return n}function _0(n){return(n=n[o_])instanceof Ip?n:null}var y0="__closure_events_fn_"+(1e9*Math.random()>>>0);function v0(n){return"function"==typeof n?n:(n[y0]||(n[y0]=function(e){return n.handleEvent(e)}),n[y0])}function ii(){Lc.call(this),this.i=new Ip(this),this.P=this,this.I=null}function si(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ri(e,n);else if(e instanceof ri)e.target=e.target||n;else{var i=e;Dp(e=new ri(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var c=e.g=t[l];i=b0(c,r,!0,e)&&i}if(i=b0(c=e.g=n,r,!0,e)&&i,i=b0(c,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=b0(c=e.g=t[l],r,!1,e)&&i}function b0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var c=e[l];if(c&&!c.ca&&c.capture==t){var f=c.listener,_=c.ia||c.src;c.fa&&s_(n.i,c),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Mi(ii,Lc),ii.prototype[Uc]=!0,ii.prototype.removeEventListener=function(n,e,t,r){l_(this,n,e,t,r)},ii.prototype.M=function(){if(ii.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)i_(t[r]);delete n.g[e],n.h--}}this.I=null},ii.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ii.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var c_=Vt.JSON.stringify;function hA(){var n=Ap;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var h_,fA=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new w0,n=>n.reset());class w0{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function VD(n){Vt.setTimeout(()=>{throw n},0)}function d_(n,e){h_||function jD(){var n=Vt.Promise.resolve(void 0);h_=function(){n.then(p_)}}(),f_||(h_(),f_=!0),Ap.add(n,e)}var f_=!1,Ap=new class BD{constructor(){this.h=this.g=null}add(e,t){const r=fA.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function p_(){for(var n;n=hA();){try{n.h.call(n.g)}catch(t){VD(t)}var e=fA;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}f_=!1}function Np(n,e){ii.call(this),this.h=n||1,this.g=e||Vt,this.j=Ni(this.kb,this),this.l=Date.now()}function E0(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function D0(n,e,t){if("function"==typeof n)t&&(n=Ni(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ni(n.handleEvent,n)}return 2147483647<Number(e)?-1:Vt.setTimeout(n,e||0)}function pA(n){n.g=D0(()=>{n.g=null,n.i&&(n.i=!1,pA(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Mi(Np,ii),(ct=Np.prototype).da=!1,ct.S=null,ct.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),si(this,"tick"),this.da&&(E0(this),this.start()))}},ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.M=function(){Np.Z.M.call(this),E0(this),delete this.g};class gx extends Lc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pA(this)}M(){super.M(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function g_(n){Lc.call(this),this.h=n,this.g={}}Mi(g_,Lc);var T0=[];function HD(n,e,t,r){Array.isArray(t)||(t&&(T0[0]=t.toString()),t=T0);for(var i=0;i<t.length;i++){var l=a_(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function GD(n){u0(n.g,function(e,t){this.g.hasOwnProperty(t)&&u_(e)},n),n.g={}}function m_(){this.g=!0}function Mp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vx(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var c=1;c<i.length;c++)i[c]=""}}}return c_(t)}catch{return e}}(n,t)+(r?" "+r:"")})}g_.prototype.M=function(){g_.Z.M.call(this),GD(this)},g_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},m_.prototype.Aa=function(){this.g=!1},m_.prototype.info=function(){};var Bc={},Op=null;function __(){return Op=Op||new ii}function $D(n){ri.call(this,Bc.Ma,n)}function wh(n){const e=__();si(e,new $D(e,n))}function fu(n,e){ri.call(this,Bc.STAT_EVENT,n),this.stat=e}function Ri(n){const e=__();si(e,new fu(e,n))}function y_(n,e){ri.call(this,Bc.Na,n),this.size=e}function Vc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},e)}Bc.Ma="serverreachability",Mi($D,ri),Bc.STAT_EVENT="statevent",Mi(fu,ri),Bc.Na="timingevent",Mi(y_,ri);var v_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},b_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Rp(){}function gA(){}Rp.prototype.h=null;var E_,w_={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zD(){ri.call(this,"d")}function ZD(){ri.call(this,"c")}function D_(){}function Pp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new g_(this),this.P=mA,this.W=new Np(n=d0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new qD}function qD(){this.i=null,this.g="",this.h=!1}Mi(zD,ri),Mi(ZD,ri),Mi(D_,Rp),D_.prototype.g=function(){return new XMLHttpRequest},D_.prototype.i=function(){return{}},E_=new D_;var mA=45e3,T_={},kp={};function C_(n,e,t){n.K=1,n.v=x0(yl(e)),n.s=t,n.U=!0,WD(n,null)}function WD(n,e){n.F=Date.now(),S_(n),n.A=yl(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),ye(t.h,"t",r),n.C=0,t=n.l.H,n.h=new qD,n.g=jx(n.l,t?e:null,!n.s),0<n.O&&(n.L=new gx(Ni(n.Ia,n,n.g),n.O)),HD(n.V,n.g,"readystatechange",n.gb),e=n.H?MD(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),wh(1),function mx(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var c="",f=l.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var D=b[0];b=b[1];var A=D.split("_");c=2<=A.length&&"type"==A[1]?c+(D+"=")+b+"&":c+(D+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function YD(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function C0(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=S0(n,t),i==kp){4==e&&(n.o=4,Ri(14),r=!1),Mp(n.j,n.m,null,"[Incomplete Response]");break}if(i==T_){n.o=4,Ri(15),Mp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Mp(n.j,n.m,i,null),KD(n,i)}YD(n)&&i!=kp&&i!=T_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ri(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),CA(e),e.L=!0,Ri(11))):(Mp(n.j,n.m,t,"[Invalid Chunked Response]"),jc(n),Fp(n))}function S0(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?kp:(t=Number(e.substring(t,r)),isNaN(t)?T_:(r+=1)+t>e.length?kp:(e=e.substr(r,t),n.C=r+t,e))}function S_(n){n.Y=Date.now()+n.P,I0(n,n.P)}function I0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Vc(Ni(n.eb,n),e)}function Eh(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function Fp(n){0==n.l.G||n.I||Lx(n.l,n)}function jc(n){Eh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,E0(n.W),GD(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function KD(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||tr(t.i,n)))if(t.I=n.N,!n.J&&tr(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;r1(t),t1(t)}TA(t),Ri(18)}}else t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Vc(Ni(t.ab,t),6e3));if(1>=Hn(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else Lp(t,11)}else if((n.J||t.g==n)&&r1(t),!wp(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const D=b[3];null!=D&&(t.ma=D,t.h.info("VER="+t.ma));const A=b[4];null!=A&&(t.za=A,t.h.info("SVER="+t.za));const x=b[5];null!=x&&"number"==typeof x&&0<x&&(t.K=r=1.5*x,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const P=n.g;if(P){const j=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var l=r.i;!l.g&&(ds(j,"spdy")||ds(j,"quic")||ds(j,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(JD(l,l.h),l.h=null))}if(r.D){const Y=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(r.sa=Y,qn(r.F,r.D,Y))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=Vx(r,r.H?r.la:null,r.W),c.J){Ex(r.i,c);var f=c,_=r.K;_&&f.setTimeout(_),f.B&&(Eh(f),S_(f)),r.g=c}else kx(r);0<t.l.length&&n1(t)}else"stop"!=b[0]&&"close"!=b[0]||Lp(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Lp(t,7):EA(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}wh(4)}catch{}}function A0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(n_(n)||"string"==typeof n)bp(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(n_(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function bx(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(n_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function Dh(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Dh)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function N0(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Th(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Th(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Th(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ct=Pp.prototype).setTimeout=function(n){this.P=n},ct.gb=function(n){n=n.target;const e=this.L;e&&3==Hc(n)?e.l():this.Ia(n)},ct.Ia=function(n){try{if(n==this.g)e:{const D=Hc(this.g);var e=this.g.Da();const A=this.g.ba();if(!(3>D)&&(3!=D||d0||this.g&&(this.h.h||this.g.ga()||Mx(this.g)))){this.I||4!=D||7==e||wh(8==e||0>=A?3:2),Eh(this);var t=this.g.ba();this.N=t;t:if(YD(this)){var r=Mx(this.g);n="";var i=r.length,l=4==Hc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){jc(this),Fp(this);var c="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function _x(n,e,t,r,i,l,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+c})}(this.j,this.u,this.A,this.m,this.X,D,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wp(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Ri(12),jc(this),Fp(this);break e}Mp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,KD(this,t)}this.U?(C0(this,D,c),d0&&this.i&&3==D&&(HD(this.V,this.W,"tick",this.fb),this.W.start())):(Mp(this.j,this.m,c,null),KD(this,c)),4==D&&jc(this),this.i&&!this.I&&(4==D?Lx(this.l,this):(this.i=!1,S_(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Ri(12)):(this.o=0,Ri(13)),jc(this),Fp(this)}}}catch{}},ct.fb=function(){if(this.g){var n=Hc(this.g),e=this.g.ga();this.C<e.length&&(Eh(this),C0(this,n,e),this.i&&4!=n&&S_(this))}},ct.cancel=function(){this.I=!0,jc(this)},ct.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function yx(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(wh(3),Ri(17)),jc(this),this.o=2,Fp(this)):I0(this,this.Y-n)},(ct=Dh.prototype).R=function(){N0(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ct.T=function(){return N0(this),this.g.concat()},ct.get=function(n,e){return Th(this.h,n)?this.h[n]:e},ct.set=function(n,e){Th(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ct.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var _A=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ch(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ch){this.g=void 0!==e?e:n.g,M0(this,n.j),this.s=n.s,O0(this,n.i),R0(this,n.m),this.l=n.l,e=n.h;var t=new O;t.i=e.i,e.g&&(t.g=new Dh(e.g),t.h=e.h),yA(this,t),this.o=n.o}else n&&(t=String(n).match(_A))?(this.g=!!e,M0(this,t[1]||"",!0),this.s=u(t[2]||""),O0(this,t[3]||"",!0),R0(this,t[4]),this.l=u(t[5]||"",!0),yA(this,t[6]||"",!0),this.o=u(t[7]||"")):(this.g=!!e,this.h=new O(null,this.g))}function yl(n){return new Ch(n)}function M0(n,e,t){n.j=t?u(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function O0(n,e,t){n.i=t?u(e,!0):e}function R0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function yA(n,e,t){e instanceof O?(n.h=e,function nt(n,e){e&&!n.j&&(L(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(J(this,r),ye(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=d(e,T)),n.h=new O(e,n.g))}function qn(n,e,t){n.h.set(e,t)}function x0(n){return qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function u(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function d(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,h),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function h(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ch.prototype.toString=function(){var n=[],e=this.j;e&&n.push(d(e,g,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(d(e,g,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(d(t,"/"==t.charAt(0)?E:v,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",d(t,I)),n.join("")};var g=/[#\/\?@]/g,v=/[#\?:]/g,E=/[#\?]/g,T=/[#\?@]/g,I=/#/g;function O(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function L(n){n.g||(n.g=new Dh,n.h=0,n.i&&function wx(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function J(n,e){L(n),e=Ve(n,e),Th(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Th((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&N0(n)))}function re(n,e){return L(n),e=Ve(n,e),Th(n.g.h,e)}function ye(n,e,t){J(n,e),0<t.length&&(n.i=null,n.g.set(Ve(n,e),bh(t)),n.h+=t.length)}function Ve(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(ct=O.prototype).add=function(n,e){L(this),this.i=null,n=Ve(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ct.forEach=function(n,e){L(this),this.g.forEach(function(t,r){bp(t,function(i){n.call(e,i,r,this)},this)},this)},ct.T=function(){L(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},ct.R=function(n){L(this);var e=[];if("string"==typeof n)re(this,n)&&(e=a0(e,this.g.get(Ve(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=a0(e,n[t])}return e},ct.set=function(n,e){return L(this),this.i=null,re(this,n=Ve(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ct.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var c=i;""!==r[l]&&(c+="="+encodeURIComponent(String(r[l]))),n.push(c)}}return this.i=n.join("&")};var ht=class{constructor(n,e){this.h=n,this.g=e}};function Nt(n){this.l=n||Oe,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ea&&Vt.g.Ea()&&Vt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Oe=10;function jt(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Hn(n){return n.h?1:n.g?n.g.size:0}function tr(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function JD(n,e){n.g?n.g.add(e):n.h=e}function Ex(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Dx(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return bh(n.i)}function vA(){}function mB(){this.g=new vA}function _B(n,e,t){const r=t||"";try{A0(n,function(i,l){let c=i;vh(i)&&(c=c_(i)),e.push(r+l+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function QD(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function P0(n){this.l=n.$b||null,this.j=n.ib||!1}function XD(n,e){ii.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=bA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nt.prototype.cancel=function(){if(this.i=Dx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},vA.prototype.stringify=function(n){return Vt.JSON.stringify(n,void 0)},vA.prototype.parse=function(n){return Vt.JSON.parse(n,void 0)},Mi(P0,Rp),P0.prototype.g=function(){return new XD(this.l,this.j)},P0.prototype.i=function(n){return function(){return n}}({}),Mi(XD,ii);var bA=0;function Tx(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function k0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,F0(n)}function F0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=XD.prototype).open=function(n,e){if(this.readyState!=bA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,F0(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Vt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,k0(this)),this.readyState=bA},ct.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,F0(this)),this.g&&(this.readyState=3,F0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Vt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tx(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ct.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?k0(this):F0(this),3==this.readyState&&Tx(this)}},ct.Ua=function(n){this.g&&(this.response=this.responseText=n,k0(this))},ct.Ta=function(n){this.g&&(this.response=n,k0(this))},ct.ha=function(){this.g&&k0(this)},ct.setRequestHeader=function(n,e){this.v.append(n,e)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(XD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var vB=Vt.JSON.parse;function oi(n){ii.call(this),this.headers=new Dh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Cx,this.K=this.L=!1}Mi(oi,ii);var Cx="",bB=/^https?$/i,wB=["POST","PUT"];function DB(n){return"content-type"==n.toLowerCase()}function Sx(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Ix(n),e1(n)}function Ix(n){n.D||(n.D=!0,si(n,"complete"),si(n,"error"))}function Ax(n){if(n.h&&typeof r0<"u"&&(!n.C[1]||4!=Hc(n)||2!=n.ba()))if(n.v&&4==Hc(n))D0(n.Fa,0,n);else if(si(n,"readystatechange"),4==Hc(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(_A)[1]||null;if(!i&&Vt.self&&Vt.self.location){var l=Vt.self.location.protocol;i=l.substr(0,l.length-1)}r=!bB.test(i?i.toLowerCase():"")}t=r}if(t)si(n,"complete"),si(n,"success");else{n.m=6;try{var c=2<Hc(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",Ix(n)}}finally{e1(n)}}}function e1(n,e){if(n.g){Nx(n);const t=n.g,r=n.C[0]?vp:null;n.g=null,n.C=null,e||si(n,"ready");try{t.onreadystatechange=r}catch{}}}function Nx(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function Hc(n){return n.g?n.g.readyState:0}function Mx(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Cx:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function wA(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function TB(n){let e="";return u0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):qn(n,e,t))}function L0(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Ox(n){this.za=0,this.l=[],this.h=new m_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=L0("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=L0("baseRetryDelayMs",5e3,n),this.$a=L0("retryDelaySeedMs",1e4,n),this.Ya=L0("forwardChannelMaxRetries",2,n),this.ra=L0("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Nt(n&&n.concurrentRequestLimit),this.Ca=new mB,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function EA(n){if(Rx(n),3==n.G){var e=n.V++,t=yl(n.F);qn(t,"SID",n.J),qn(t,"RID",e),qn(t,"TYPE","terminate"),U0(n,t),(e=new Pp(n,n.h,e,void 0)).K=2,e.v=x0(yl(t)),t=!1,Vt.navigator&&Vt.navigator.sendBeacon&&(t=Vt.navigator.sendBeacon(e.v.toString(),"")),!t&&Vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=jx(e.l,null),e.g.ea(e.v)),e.F=Date.now(),S_(e)}Bx(n)}function t1(n){n.g&&(CA(n),n.g.cancel(),n.g=null)}function Rx(n){t1(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),r1(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function DA(n,e){n.l.push(new ht(n.Za++,e)),3==n.G&&n1(n)}function n1(n){jt(n.i)||n.m||(n.m=!0,d_(n.Ha,n),n.C=0)}function xx(n,e){var t;t=e?e.m:n.V++;const r=yl(n.F);qn(r,"SID",n.J),qn(r,"RID",t),qn(r,"AID",n.U),U0(n,r),n.o&&n.s&&wA(r,n.o,n.s),t=new Pp(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Px(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),JD(n.i,t),C_(t,r,e)}function U0(n,e){n.j&&A0({},function(t,r){qn(e,r,t)})}function Px(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Ni(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const c=["count="+t];-1==l?0<t?(l=i[0].h,c.push("ofs="+l)):l=0:c.push("ofs="+l);let f=!0;for(let _=0;_<t;_++){let b=i[_].h;const D=i[_].g;if(b-=l,0>b)l=Math.max(0,i[_].h-100),f=!1;else try{_B(D,c,"req"+b+"_")}catch{r&&r(D)}}if(f){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function kx(n){n.g||n.u||(n.Y=1,d_(n.Ga,n),n.A=0)}function TA(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Vc(Ni(n.Ga,n),Ux(n,n.A)),n.A++,0))}function CA(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function Fx(n){n.g=new Pp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=yl(n.oa);qn(e,"RID","rpc"),qn(e,"SID",n.J),qn(e,"CI",n.N?"0":"1"),qn(e,"AID",n.U),U0(n,e),qn(e,"TYPE","xmlhttp"),n.o&&n.s&&wA(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=x0(yl(e)),t.s=null,t.U=!0,WD(t,n)}function r1(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function Lx(n,e){var t=null;if(n.g==e){r1(n),CA(n),n.g=null;var r=2}else{if(!tr(n.i,e))return;t=e.D,Ex(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;si(r=__(),new y_(r,t,e,i)),n1(n)}else kx(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function CB(n,e){return!(Hn(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Vc(Ni(n.Ha,n,e),Ux(n,n.C)),n.C++,0)))}(n,e)||2==r&&TA(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Lp(n,5);break;case 4:Lp(n,10);break;case 3:Lp(n,6);break;default:Lp(n,2)}}function Ux(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Lp(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Ni(n.jb,n);t||(t=new Ch("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||M0(t,"https"),x0(t)),function yB(n,e){const t=new m_;if(Vt.Image){const r=new Image;r.onload=o0(QD,t,r,"TestLoadImage: loaded",!0,e),r.onerror=o0(QD,t,r,"TestLoadImage: error",!1,e),r.onabort=o0(QD,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=o0(QD,t,r,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ri(2);n.G=0,n.j&&n.j.va(e),Bx(n),Rx(n)}function Bx(n){n.G=0,n.I=-1,n.j&&((0!=Dx(n.i).length||0!=n.l.length)&&(n.i.i.length=0,bh(n.l),n.l.length=0),n.j.ua())}function Vx(n,e,t){let r=function o(n){return n instanceof Ch?yl(n):new Ch(n,void 0)}(t);if(""!=r.i)e&&O0(r,e+"."+r.i),R0(r,r.m);else{const i=Vt.location;r=function a(n,e,t,r){var i=new Ch(null,void 0);return n&&M0(i,n),e&&O0(i,e),t&&R0(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&u0(n.aa,function(i,l){qn(r,l,i)}),t=n.sa,(e=n.D)&&t&&qn(r,e,t),qn(r,"VER",n.ma),U0(n,r),r}function jx(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new oi(t&&n.Ba&&!n.qa?new P0({ib:!0}):n.qa)).L=n.H,e}function Hx(){}function i1(){if(Tp&&!(10<=Number(oo)))throw Error("Environmental error: no available transport.")}function $o(n,e){ii.call(this),this.g=new Ox(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!wp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new I_(this)}function Gx(n){zD.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function $x(){ZD.call(this),this.status=1}function I_(n){this.g=n}(ct=oi.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():E_.g(),this.C=function xp(n){return n.h||(n.h=n.i())}(this.u?this.u:E_),this.g.onreadystatechange=Ni(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Sx(this,l)}n=t||"";const i=new Dh(this.headers);r&&A0(r,function(l,c){i.set(c,l)}),r=function cx(n){e:{var e=DB;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Vt.FormData&&n instanceof Vt.FormData,!(0<=oA(wB,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,c){this.g.setRequestHeader(c,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Nx(this),0<this.B&&((this.K=function EB(n){return Tp&&function h0(){return function dx(n){var e=lA;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=l0(String(Cp)).split("."),t=l0("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",l=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Ep(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Ep(0==i[2].length,0==l[2].length)||Ep(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ni(this.pa,this)):this.A=D0(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Sx(this,l)}},ct.pa=function(){typeof r0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,si(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,si(this,"complete"),si(this,"abort"),e1(this))},ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),e1(this,!0)),oi.Z.M.call(this)},ct.Fa=function(){this.s||(this.F||this.v||this.l?Ax(this):this.cb())},ct.cb=function(){Ax(this)},ct.ba=function(){try{return 2<Hc(this)?this.g.status:-1}catch{return-1}},ct.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},ct.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),vB(e)}},ct.Da=function(){return this.m},ct.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=Ox.prototype).ma=8,ct.G=1,ct.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},ct.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Pp(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=MD(l),Dp(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Px(this,i,e),qn(t=yl(this.F),"RID",n),qn(t,"CVER",22),this.D&&qn(t,"X-HTTP-Session-Id",this.D),U0(this,t),this.o&&l&&wA(t,this.o,l),JD(this.i,i),this.Ra&&qn(t,"TYPE","init"),this.ja?(qn(t,"$req",e),qn(t,"SID","null"),i.$=!0,C_(i,t,null)):C_(i,t,e),this.G=2}}else 3==this.G&&(n?xx(this,n):0==this.l.length||jt(this.i)||xx(this))},ct.Ga=function(){if(this.u=null,Fx(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Vc(Ni(this.bb,this),n)}},ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ri(10),t1(this),Fx(this))},ct.ab=function(){null!=this.v&&(this.v=null,t1(this),TA(this),Ri(19))},ct.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ri(2)):(this.h.info("Failed to ping google.com"),Ri(1))},(ct=Hx.prototype).xa=function(){},ct.wa=function(){},ct.va=function(){},ct.ua=function(){},ct.Oa=function(){},i1.prototype.g=function(n,e){return new $o(n,e)},Mi($o,ii),$o.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),d_(Ni(n.hb,n,e))),Ri(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Vx(n,null,n.W),n1(n)},$o.prototype.close=function(){EA(this.g)},$o.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,DA(this.g,e)}else this.v?((e={}).__data__=c_(n),DA(this.g,e)):DA(this.g,n)},$o.prototype.M=function(){this.g.j=null,delete this.j,EA(this.g),delete this.g,$o.Z.M.call(this)},Mi(Gx,zD),Mi($x,ZD),Mi(I_,Hx),I_.prototype.xa=function(){si(this.g,"a")},I_.prototype.wa=function(n){si(this.g,new Gx(n))},I_.prototype.va=function(n){si(this.g,new $x(n))},I_.prototype.ua=function(){si(this.g,"b")},i1.prototype.createWebChannel=i1.prototype.g,$o.prototype.send=$o.prototype.u,$o.prototype.open=$o.prototype.m,$o.prototype.close=$o.prototype.close,v_.NO_ERROR=0,v_.TIMEOUT=8,v_.HTTP_ERROR=6,b_.COMPLETE="complete",gA.EventType=w_,w_.OPEN="a",w_.CLOSE="b",w_.ERROR="c",w_.MESSAGE="d",ii.prototype.listen=ii.prototype.N,oi.prototype.listenOnce=oi.prototype.O,oi.prototype.getLastError=oi.prototype.La,oi.prototype.getLastErrorCode=oi.prototype.Da,oi.prototype.getStatus=oi.prototype.ba,oi.prototype.getResponseJson=oi.prototype.Qa,oi.prototype.getResponseText=oi.prototype.ga,oi.prototype.send=oi.prototype.ea;var SB=_l.createWebChannelTransport=function(){return new i1},IB=_l.getStatEventTarget=function(){return __()},SA=_l.ErrorCode=v_,AB=_l.EventType=b_,NB=_l.Event=Bc,zx=_l.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},MB=_l.FetchXmlHttpFactory=P0,s1=_l.WebChannel=gA,OB=_l.XhrIo=oi;const Zx="@firebase/firestore";class xi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xi.UNAUTHENTICATED=new xi(null),xi.GOOGLE_CREDENTIALS=new xi("google-credentials-uid"),xi.FIRST_PARTY=new xi("first-party-uid"),xi.MOCK_USER=new xi("mock-user");let A_="9.9.1";const Sh=new ml.Yd("@firebase/firestore");function IA(){return Sh.logLevel}function He(n,...e){if(Sh.logLevel<=ml.in.DEBUG){const t=e.map(AA);Sh.debug(`Firestore (${A_}): ${n}`,...t)}}function ai(n,...e){if(Sh.logLevel<=ml.in.ERROR){const t=e.map(AA);Sh.error(`Firestore (${A_}): ${n}`,...t)}}function B0(n,...e){if(Sh.logLevel<=ml.in.WARN){const t=e.map(AA);Sh.warn(`Firestore (${A_}): ${n}`,...t)}}function AA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function mt(n="Unexpected state"){const e=`FIRESTORE (${A_}) INTERNAL ASSERTION FAILED: `+n;throw ai(e),new Error(e)}function Ht(n,e){n||mt()}function at(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Qt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class qx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xi.UNAUTHENTICATED))}shutdown(){}}class kB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class FB{constructor(e){this.t=e,this.currentUser=xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Pi,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const b=c;e.enqueueRetryable((0,_e.Z)(function*(){yield b.promise,yield l(r.currentUser)}))},_=b=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Pi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht("string"==typeof r.accessToken),new qx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ht(null===e||"string"==typeof e),new xi(e)}}class LB{constructor(e,t,r){this.type="FirstParty",this.user=xi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class UB{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new LB(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BB{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.p;return this.p=l.token,He("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?i(l):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ht("string"==typeof t.token),this.p=t.token,new Wx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function VB(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Yx{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=VB(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Wt(n,e){return n<e?-1:n>e?1:0}function N_(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Kx(n){return n+"\0"}class dr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dr.fromMillis(Date.now())}static fromDate(e){return dr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new dr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new dr(0,0))}static max(){return new Bt(new dr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class V0{constructor(e,t,r){void 0===t?t=0:t>e.length&&mt(),void 0===r?r=e.length-t:r>e.length-t&&mt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===V0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof V0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),c=t.get(i);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pn extends V0{construct(e,t,r){return new pn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new pn(t)}static emptyPath(){return new pn([])}}const jB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $r extends V0{construct(e,t,r){return new $r(e,t,r)}static isValidIdentifier(e){return jB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $r(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Re(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Re(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Re(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(l(),i++)}if(l(),c)throw new Re(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $r(t)}static emptyPath(){return new $r([])}}class rt{constructor(e){this.path=e}static fromPath(e){return new rt(pn.fromString(e))}static fromName(e){return new rt(pn.fromString(e).popFirst(5))}static empty(){return new rt(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new pn(e.slice()))}}class o1{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function NA(n){return n.fields.find(e=>2===e.kind)}function Up(n){return n.fields.filter(e=>2!==e.kind)}o1.UNKNOWN_ID=-1;class a1{constructor(e,t){this.fieldPath=e,this.kind=t}}class j0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new j0(0,zo.min())}}function Jx(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Bt.fromTimestamp(1e9===r?new dr(t+1,0):new dr(t,r));return new zo(i,rt.empty(),e)}function Qx(n){return new zo(n.readTime,n.key,-1)}class zo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new zo(Bt.min(),rt.empty(),-1)}static max(){return new zo(Bt.max(),rt.empty(),-1)}}function MA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=rt.comparator(n.documentKey,e.documentKey),0!==t?t:Wt(n.largestBatchId,e.largestBatchId))}const Xx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ih(n){return OA.apply(this,arguments)}function OA(){return OA=(0,_e.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==Xx)throw n;He("LocalStore","Unexpectedly lost primary lease")}),OA.apply(this,arguments)}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let i=0,l=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++l,c&&l===i&&t()},_=>r(_))}),c=!0,l===i&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(i=>i?le.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}static mapArray(e,t){return new le((r,i)=>{const l=e.length,c=new Array(l);let f=0;for(let _=0;_<l;_++){const b=_;t(e[b]).next(D=>{c[b]=D,++f,f===l&&r(c)},D=>i(D))}})}static doWhile(e,t){return new le((r,i)=>{const l=()=>{!0===e()?t().next(()=>{l()},i):r()};l()})}}class l1{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new Pi,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new H0(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const i=RA(r.target.error);this.T.reject(new H0(e,i))}}static open(e,t,r,i){try{return new l1(t,e.transaction(i,r))}catch(l){throw new H0(t,l)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(He("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new GB(t)}}class vl{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===vl.v((0,Qt.z$)())&&ai("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return He("SimpleDb","Removing database:",e),Bp(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Qt.hl)())return!1;if(vl.S())return!0;const e=(0,Qt.z$)(),t=vl.v(e),r=0<t&&t<10,i=vl.D(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,_e.Z)(function*(){return t.db||(He("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=c=>{r(c.target.result)},l.onblocked=()=>{i(new H0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new Re(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Re(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new H0(e,f))},l.onupgradeneeded=c=>{He("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.P.O(c.target.result,l.transaction,c.oldVersion,t.version).next(()=>{He("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=r=>t.M(r)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,_e.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{l.db=yield l.k(e);const _=l1.open(l.db,e,c?"readonly":"readwrite",r),b=i(_).next(D=>(_.R(),D)).catch(D=>(_.abort(D),le.reject(D))).toPromise();return b.catch(()=>{}),yield _.A,b}catch(_){const b=_,D="FirebaseError"!==b.name&&f<3;if(He("SimpleDb","Transaction failed with error:",b.message,"Retrying:",D),l.close(),!D)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class HB{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Bp(this.$.delete())}}class H0 extends Re{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ah(n){return"IndexedDbTransactionError"===n.name}class GB{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(He("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Bp(r)}add(e){return He("SimpleDb","ADD",this.store.name,e,e),Bp(this.store.add(e))}get(e){return Bp(this.store.get(e)).next(t=>(void 0===t&&(t=null),He("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return He("SimpleDb","DELETE",this.store.name,e),Bp(this.store.delete(e))}count(){return He("SimpleDb","COUNT",this.store.name),Bp(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.G(i,(c,f)=>{l.push(f)}).next(()=>l)}{const i=this.store.getAll(r.range);return new le((l,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{l(f.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new le((i,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}W(e,t){He("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.G(i,(l,c,f)=>f.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Y(e){const t=this.cursor({});return new le((r,i)=>{t.onerror=l=>{const c=RA(l.target.error);i(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}G(e,t){const r=[];return new le((i,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const _=new HB(f),b=t(f.primaryKey,f.value,_);if(b instanceof le){const D=b.catch(A=>(_.done(),le.reject(A)));r.push(D)}_.isDone?i():null===_.U?f.continue():f.continue(_.U)}}).next(()=>le.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Bp(n){return new le((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=RA(r.target.error);t(i)}})}let tP=!1;function RA(n){const e=vl.v((0,Qt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return tP||(tP=!0,setTimeout(()=>{throw r},0)),r}}return n}class $B{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;He("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_e.Z)(function*(){t.task=null;try{He("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){Ah(r)?He("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ih(r)}yield t.Z(1)}))}}class zB{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,_e.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let i=t,l=!0;return le.doWhile(()=>!0===l&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return He("IndexBackiller",`Processing collection: ${c}`),this.nt(e,c,i).next(f=>{i-=f,r.add(c)});l=!1})).next(()=>t-i)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.st(i,l)).next(f=>(He("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}st(e,t){let r=e;return t.changes.forEach((i,l)=>{const c=Qx(l);MA(c,r)>0&&(r=c)}),new zo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ao{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function nP(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}ao.ot=-1;class Rr{constructor(e,t){this.comparator=e,this.root=t||zi.EMPTY}insert(e,t){return new Rr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zi.BLACK,null,null))}remove(e){return new Rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new u1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new u1(this.root,e,this.comparator,!1)}getReverseIterator(){return new u1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new u1(this.root,e,this.comparator,!0)}}class u1{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zi{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=r??zi.RED,this.left=i??zi.EMPTY,this.right=l??zi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new zi(e??this.key,t??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return zi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}zi.EMPTY=null,zi.RED=!0,zi.BLACK=!1,zi.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new zi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(e){this.comparator=e,this.data=new Rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iP(this.data.getIterator())}getIteratorFrom(e){return new iP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fn(this.comparator);return t.data=e,t}}class iP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function M_(n){return n.hasNext()?n.getNext():void 0}class Zo{constructor(e){this.fields=e,e.sort($r.comparator)}static empty(){return new Zo([])}unionWith(e){let t=new Fn($r.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return N_(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class wi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new wi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new wi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wi.EMPTY_BYTE_STRING=new wi("");const qB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nh(n){if(Ht(!!n),"string"==typeof n){let e=0;const t=qB.exec(n);if(Ht(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xr(n.seconds),nanos:xr(n.nanos)}}function xr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function jp(n){return"string"==typeof n?wi.fromBase64String(n):wi.fromUint8Array(n)}function xA(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function sP(n){const e=n.mapValue.fields.__previous_value__;return xA(e)?sP(e):e}function G0(n){const e=Nh(n.mapValue.fields.__local_write_time__.timestampValue);return new dr(e.seconds,e.nanos)}class WB{constructor(e,t,r,i,l,c,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class Gc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Gc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Gc&&e.projectId===this.projectId&&e.database===this.database}}function $0(n){return null==n}function z0(n){return 0===n&&1/n==-1/0}function oP(n){return"number"==typeof n&&Number.isInteger(n)&&!z0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Mh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},c1={nullValue:"NULL_VALUE"};function Hp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xA(n)?4:cP(n)?9007199254740991:10:mt()}function pu(n,e){if(n===e)return!0;const t=Hp(n);if(t!==Hp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return G0(n).isEqual(G0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Nh(r.timestampValue),c=Nh(i.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,jp(n.bytesValue).isEqual(jp(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return xr(r.geoPointValue.latitude)===xr(i.geoPointValue.latitude)&&xr(r.geoPointValue.longitude)===xr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return xr(r.integerValue)===xr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=xr(r.doubleValue),c=xr(i.doubleValue);return l===c?z0(l)===z0(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return N_(n.arrayValue.values||[],e.arrayValue.values||[],pu);case 10:return function(r,i){const l=r.mapValue.fields||{},c=i.mapValue.fields||{};if(nP(l)!==nP(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===c[f]||!pu(l[f],c[f])))return!1;return!0}(n,e);default:return mt()}var i}function Z0(n,e){return void 0!==(n.values||[]).find(t=>pu(t,e))}function Oh(n,e){if(n===e)return 0;const t=Hp(n),r=Hp(e);if(t!==r)return Wt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const c=xr(i.integerValue||i.doubleValue),f=xr(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return aP(n.timestampValue,e.timestampValue);case 4:return aP(G0(n),G0(e));case 5:return Wt(n.stringValue,e.stringValue);case 6:return function(i,l){const c=jp(i),f=jp(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const c=i.split("/"),f=l.split("/");for(let _=0;_<c.length&&_<f.length;_++){const b=Wt(c[_],f[_]);if(0!==b)return b}return Wt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const c=Wt(xr(i.latitude),xr(l.latitude));return 0!==c?c:Wt(xr(i.longitude),xr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const c=i.values||[],f=l.values||[];for(let _=0;_<c.length&&_<f.length;++_){const b=Oh(c[_],f[_]);if(b)return b}return Wt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===Mh.mapValue&&l===Mh.mapValue)return 0;if(i===Mh.mapValue)return 1;if(l===Mh.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),_=l.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let D=0;D<f.length&&D<b.length;++D){const A=Wt(f[D],b[D]);if(0!==A)return A;const x=Oh(c[f[D]],_[b[D]]);if(0!==x)return x}return Wt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw mt()}}function aP(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Wt(n,e);const t=Nh(n),r=Nh(e),i=Wt(t.seconds,r.seconds);return 0!==i?i:Wt(t.nanos,r.nanos)}function O_(n){return PA(n)}function PA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Nh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?jp(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const c of r.values||[])l?l=!1:i+=",",i+=PA(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const f of i)c?c=!1:l+=",",l+=`${f}:${PA(r.fields[f])}`;return l+"}"}(n.mapValue):mt();var e}function Gp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function kA(n){return!!n&&"integerValue"in n}function q0(n){return!!n&&"arrayValue"in n}function lP(n){return!!n&&"nullValue"in n}function uP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function d1(n){return!!n&&"mapValue"in n}function W0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Vp(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=W0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=W0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cP(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function YB(n){return"nullValue"in n?c1:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Gp(Gc.empty(),rt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:mt()}function KB(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Gp(Gc.empty(),rt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Mh:mt()}function dP(n,e){const t=Oh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function hP(n,e){const t=Oh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Zi{constructor(e){this.value=e}static empty(){return new Zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!d1(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=W0(t)}setAll(e){let t=$r.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=W0(c):i.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());d1(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];d1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Vp(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new Zi(W0(this.value))}}function fP(n){const e=[];return Vp(n.fields,(t,r)=>{const i=new $r([t]);if(d1(r)){const l=fP(r.mapValue).fields;if(0===l.length)e.push(i);else for(const c of l)e.push(i.child(c))}else e.push(i)}),new Zo(e)}class Wn{constructor(e,t,r,i,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Wn(e,0,Bt.min(),Bt.min(),Zi.empty(),0)}static newFoundDocument(e,t,r){return new Wn(e,1,t,Bt.min(),r,0)}static newNoDocument(e,t){return new Wn(e,2,t,Bt.min(),Zi.empty(),0)}static newUnknownDocument(e,t){return new Wn(e,3,t,Bt.min(),Zi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class JB{constructor(e,t=null,r=[],i=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=c,this.endAt=f,this.ut=null}}function pP(n,e=null,t=[],r=[],i=null,l=null,c=null){return new JB(n,e,t,r,i,l,c)}function $p(n){const e=at(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+O_(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),$0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>O_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>O_(r)).join(",")),e.ut=t}return e.ut}function Y0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!oV(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!pu(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vP(n.startAt,e.startAt)&&vP(n.endAt,e.endAt)}function h1(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function f1(n,e){return n.filters.filter(t=>t instanceof qi&&t.field.isEqual(e))}function gP(n,e,t){let r=c1,i=!0;for(const l of f1(n,e)){let c=c1,f=!0;switch(l.op){case"<":case"<=":c=YB(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,f=!1;break;case"!=":case"not-in":c=c1}dP({value:r,inclusive:i},{value:c,inclusive:f})<0&&(r=c,i=f)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];dP({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function mP(n,e,t){let r=Mh,i=!0;for(const l of f1(n,e)){let c=Mh,f=!0;switch(l.op){case">=":case">":c=KB(l.value),f=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,f=!1;break;case"!=":case"not-in":c=Mh}hP({value:r,inclusive:i},{value:c,inclusive:f})>0&&(r=c,i=f)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];hP({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class qi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new XB(e,t,r):"array-contains"===t?new nV(e,r):"in"===t?new rV(e,r):"not-in"===t?new iV(e,r):"array-contains-any"===t?new sV(e,r):new qi(e,t,r)}static ct(e,t,r){return"in"===t?new eV(e,r):new tV(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Oh(t,this.value)):null!==t&&Hp(this.value)===Hp(t)&&this.at(Oh(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class XB extends qi{constructor(e,t,r){super(e,t,r),this.key=rt.fromName(r.referenceValue)}matches(e){const t=rt.comparator(e.key,this.key);return this.at(t)}}class eV extends qi{constructor(e,t){super(e,"in",t),this.keys=_P(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tV extends qi{constructor(e,t){super(e,"not-in",t),this.keys=_P(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _P(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>rt.fromName(r.referenceValue))}class nV extends qi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return q0(t)&&Z0(t.arrayValue,this.value)}}class rV extends qi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Z0(this.value.arrayValue,t)}}class iV extends qi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Z0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Z0(this.value.arrayValue,t)}}class sV extends qi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!q0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Z0(this.value.arrayValue,r))}}class Rh{constructor(e,t){this.position=e,this.inclusive=t}}class R_{constructor(e,t="asc"){this.field=e,this.dir=t}}function oV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function yP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],c=n.position[i];if(r=l.field.isKeyField()?rt.comparator(rt.fromName(c.referenceValue),t.key):Oh(c,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function vP(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pu(n.position[t],e.position[t]))return!1;return!0}class $c{constructor(e,t=null,r=[],i=[],l=null,c="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=_,this.lt=null,this.ft=null}}function bP(n,e,t,r,i,l,c,f){return new $c(n,e,t,r,i,l,c,f)}function x_(n){return new $c(n)}function FA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function LA(n){for(const e of n.filters)if(e.ht())return e.field;return null}function UA(n){return null!==n.collectionGroup}function P_(n){const e=at(n);if(null===e.lt){e.lt=[];const t=LA(e),r=FA(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new R_(t)),e.lt.push(new R_($r.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.lt.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new R_($r.keyField(),l))}}}return e.lt}function Aa(n){const e=at(n);if(!e.ft)if("F"===e.limitType)e.ft=pP(e.path,e.collectionGroup,P_(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of P_(e))t.push(new R_(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Rh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Rh(e.startAt.position,e.startAt.inclusive):null;e.ft=pP(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.ft}function wP(n,e,t){return new $c(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function K0(n,e){return Y0(Aa(n),Aa(e))&&n.limitType===e.limitType}function EP(n){return`${$p(Aa(n))}|lt:${n.limitType}`}function BA(n){return`Query(target=${function QB(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${O_(r.value)}`;var r}).join(", ")}]`),$0(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>O_(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>O_(t)).join(",")),`Target(${e})`}(Aa(n))}; limitType=${n.limitType})`}function VA(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):rt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,c){const f=yP(i,l,c);return i.inclusive?f<=0:f<0}(t.startAt,P_(t),r)||t.endAt&&!function(i,l,c){const f=yP(i,l,c);return i.inclusive?f>=0:f>0}(t.endAt,P_(t),r)));var t,r}function DP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function TP(n){return(e,t)=>{let r=!1;for(const i of P_(n)){const l=lV(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function lV(n,e,t){const r=n.field.isKeyField()?rt.comparator(e.key,t.key):function(i,l,c){const f=l.data.field(i),_=c.data.field(i);return null!==f&&null!==_?Oh(f,_):mt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return mt()}}function CP(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:z0(e)?"-0":e}}function SP(n){return{integerValue:""+n}}function IP(n,e){return oP(e)?SP(e):CP(n,e)}class p1{constructor(){this._=void 0}}function uV(n,e,t){return n instanceof k_?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof zp?NP(n,e):n instanceof Zp?MP(n,e):function(r,i){const l=AP(r,i),c=OP(l)+OP(r._t);return kA(l)&&kA(r._t)?SP(c):CP(r.wt,c)}(n,e)}function cV(n,e,t){return n instanceof zp?NP(n,e):n instanceof Zp?MP(n,e):t}function AP(n,e){return n instanceof F_?kA(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class k_ extends p1{}class zp extends p1{constructor(e){super(),this.elements=e}}function NP(n,e){const t=RP(e);for(const r of n.elements)t.some(i=>pu(i,r))||t.push(r);return{arrayValue:{values:t}}}class Zp extends p1{constructor(e){super(),this.elements=e}}function MP(n,e){let t=RP(e);for(const r of n.elements)t=t.filter(i=>!pu(i,r));return{arrayValue:{values:t}}}class F_ extends p1{constructor(e,t){super(),this.wt=e,this._t=t}}function OP(n){return xr(n.integerValue||n.doubleValue)}function RP(n){return q0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class J0{constructor(e,t){this.field=e,this.transform=t}}class hV{constructor(e,t){this.version=e,this.transformResults=t}}class Er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function g1(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class m1{}function xP(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new U_(n.key,Er.none()):new L_(n.key,n.data,Er.none());{const t=n.data,r=Zi.empty();let i=new Fn($r.comparator);for(let l of e.fields)if(!i.has(l)){let c=t.field(l);null===c&&l.length>1&&(l=l.popLast(),c=t.field(l)),null===c?r.delete(l):r.set(l,c),i=i.add(l)}return new zc(n.key,r,new Zo(i.toArray()),Er.none())}}function fV(n,e,t){n instanceof L_?function(r,i,l){const c=r.value.clone(),f=FP(r.fieldTransforms,i,l.transformResults);c.setAll(f),i.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof zc?function(r,i,l){if(!g1(r.precondition,i))return void i.convertToUnknownDocument(l.version);const c=FP(r.fieldTransforms,i,l.transformResults),f=i.data;f.setAll(kP(r)),f.setAll(c),i.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Q0(n,e,t,r){return n instanceof L_?function(i,l,c,f){if(!g1(i.precondition,l))return c;const _=i.value.clone(),b=LP(i.fieldTransforms,f,l);return _.setAll(b),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof zc?function(i,l,c,f){if(!g1(i.precondition,l))return c;const _=LP(i.fieldTransforms,f,l),b=l.data;return b.setAll(kP(i)),b.setAll(_),l.convertToFoundDocument(l.version,b).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(n,e,t,r):(c=t,g1(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c);var l,c}function pV(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=AP(r.transform,i||null);null!=l&&(null===t&&(t=Zi.empty()),t.set(r.field,l))}return t||null}function PP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&N_(t,r,(i,l)=>function dV(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof zp&&r instanceof zp||t instanceof Zp&&r instanceof Zp?N_(t.elements,r.elements,pu):t instanceof F_&&r instanceof F_?pu(t._t,r._t):t instanceof k_&&r instanceof k_);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class L_ extends m1{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zc extends m1{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function kP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function FP(n,e,t){const r=new Map;Ht(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],c=l.transform,f=e.data.field(l.field);r.set(l.field,cV(c,f,t[i]))}return r}function LP(n,e,t){const r=new Map;for(const i of n){const l=i.transform,c=t.data.field(i.field);r.set(i.field,uV(l,c,e))}return r}class U_ extends m1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jA extends m1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gV{constructor(e){this.count=e}}var li,gn;function UP(n){switch(n){default:return mt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function BP(n){if(void 0===n)return ai("GRPC error has no .code"),fe.UNKNOWN;switch(n){case li.OK:return fe.OK;case li.CANCELLED:return fe.CANCELLED;case li.UNKNOWN:return fe.UNKNOWN;case li.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case li.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case li.INTERNAL:return fe.INTERNAL;case li.UNAVAILABLE:return fe.UNAVAILABLE;case li.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case li.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case li.NOT_FOUND:return fe.NOT_FOUND;case li.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case li.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case li.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case li.ABORTED:return fe.ABORTED;case li.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case li.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case li.DATA_LOSS:return fe.DATA_LOSS;default:return mt()}}(gn=li||(li={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class xh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vp(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return rP(this.inner)}size(){return this.innerSize}}const mV=new Rr(rt.comparator);function lo(){return mV}const VP=new Rr(rt.comparator);function X0(...n){let e=VP;for(const t of n)e=e.insert(t.key,t);return e}function jP(n){let e=VP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function gu(){return eb()}function HP(){return eb()}function eb(){return new xh(n=>n.toString(),(n,e)=>n.isEqual(e))}const _V=new Rr(rt.comparator),yV=new Fn(rt.comparator);function Xt(...n){let e=yV;for(const t of n)e=e.add(t);return e}const vV=new Fn(Wt);function _1(){return vV}class tb{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,nb.createSynthesizedTargetChangeForCurrentChange(e,t)),new tb(Bt.min(),r,_1(),lo(),Xt())}}class nb{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new nb(wi.EMPTY_BYTE_STRING,t,Xt(),Xt(),Xt())}}class y1{constructor(e,t,r,i){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=i}}class GP{constructor(e,t){this.targetId=e,this.It=t}}class $P{constructor(e,t,r=wi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class zP{constructor(){this.Tt=0,this.Et=qP(),this.At=wi.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Xt(),t=Xt(),r=Xt();return this.Et.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:mt()}}),new nb(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=qP()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class bV{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=lo(),this.Bt=ZP(),this.Lt=new Fn(Wt)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,i)=>{this.jt(i)&&t(i)})}zt(e){const t=e.targetId,r=e.It.count,i=this.Ht(t);if(i){const l=i.target;if(h1(l))if(0===r){const c=new rt(l.path);this.Kt(t,c,Wn.newNoDocument(c,Bt.min()))}else Ht(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((l,c)=>{const f=this.Ht(c);if(f){if(l.current&&h1(f.target)){const _=new rt(f.target.path);null!==this.$t.get(_)||this.Xt(c,_)||this.Kt(c,_,Wn.newNoDocument(_,e))}l.vt&&(t.set(c,l.St()),l.Dt())}});let r=Xt();this.Bt.forEach((l,c)=>{let f=!0;c.forEachWhile(_=>{const b=this.Ht(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(r=r.add(l))}),this.$t.forEach((l,c)=>c.setReadTime(e));const i=new tb(e,t,this.Lt,this.$t,r);return this.$t=lo(),this.Bt=ZP(),this.Lt=new Fn(Wt),i}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,t)?i.Ct(t,1):i.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new zP,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Fn(Wt),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||He("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new zP),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function ZP(){return new Rr(rt.comparator)}function qP(){return new Rr(rt.comparator)}const wV={asc:"ASCENDING",desc:"DESCENDING"},EV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class DV{constructor(e,t){this.databaseId=e,this.dt=t}}function rb(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WP(n,e){return n.dt?e.toBase64():e.toUint8Array()}function TV(n,e){return rb(n,e.toTimestamp())}function ki(n){return Ht(!!n),Bt.fromTimestamp(function(e){const t=Nh(e);return new dr(t.seconds,t.nanos)}(n))}function HA(n,e){return(t=n,new pn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function YP(n){const e=pn.fromString(n);return Ht(ik(e)),e}function ib(n,e){return HA(n.databaseId,e.path)}function mu(n,e){const t=YP(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new rt(JP(t))}function GA(n,e){return HA(n.databaseId,e)}function KP(n){const e=YP(n);return 4===e.length?pn.emptyPath():JP(e)}function sb(n){return new pn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function JP(n){return Ht(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function QP(n,e,t){return{name:ib(n,e),fields:t.value.mapValue.fields}}function XP(n,e,t){const r=mu(n,e.name),i=ki(e.updateTime),l=new Zi({mapValue:{fields:e.fields}}),c=Wn.newFoundDocument(r,i,l);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function ob(n,e){let t;if(e instanceof L_)t={update:QP(n,e.key,e.value)};else if(e instanceof U_)t={delete:ib(n,e.key)};else if(e instanceof zc)t={update:QP(n,e.key,e.data),updateMask:xV(e.fieldMask)};else{if(!(e instanceof jA))return mt();t={verify:ib(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const c=l.transform;if(c instanceof k_)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof zp)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Zp)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof F_)return{fieldPath:l.field.canonicalString(),increment:c._t};throw mt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:TV(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:mt()),t;var i}function $A(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Er.updateTime(ki(i.updateTime)):void 0!==i.exists?Er.exists(i.exists):Er.none():Er.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,c){let f=null;"setToServerValue"in c?(Ht("REQUEST_TIME"===c.setToServerValue),f=new k_):"appendMissingElements"in c?f=new zp(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new Zp(c.removeAllFromArray.values||[]):"increment"in c?f=new F_(l,c.increment):mt();const _=$r.fromServerFormat(c.fieldPath);return new J0(_,f)}(n,i)):[];var i;if(e.update){const i=mu(n,e.update.name),l=new Zi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Zo((e.updateMask.fieldPaths||[]).map(b=>$r.fromServerFormat(b)));return new zc(i,l,c,t,r)}return new L_(i,l,t,r)}if(e.delete){const i=mu(n,e.delete);return new U_(i,t)}if(e.verify){const i=mu(n,e.verify);return new jA(i,t)}return mt()}function ek(n,e){return{documents:[GA(n,e.path)]}}function tk(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=GA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=GA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const b=_.map(D=>function(A){if("=="===A.op){if(uP(A.value))return{unaryFilter:{field:B_(A.field),op:"IS_NAN"}};if(lP(A.value))return{unaryFilter:{field:B_(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(uP(A.value))return{unaryFilter:{field:B_(A.field),op:"IS_NOT_NAN"}};if(lP(A.value))return{unaryFilter:{field:B_(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:B_(A.field),op:MV(A.op),value:A.value}}}(D));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(_){if(0!==_.length)return _.map(b=>{return{field:B_((D=b).field),direction:NV(D.dir)};var D})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=(b=e.limit,n.dt||$0(b)?b:{value:b});var b,f,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function nk(n){let e=KP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ht(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let l=[];t.where&&(l=rk(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(D=>{return new R_(V_((A=D).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(D){let A;return A="object"==typeof D?D.value:D,$0(A)?null:A}(t.limit));let _=null;var D;t.startAt&&(_=new Rh((D=t.startAt).values||[],!!D.before));let b=null;return t.endAt&&(b=function(D){return new Rh(D.values||[],!D.before)}(t.endAt)),bP(e,i,c,l,f,"F",_,b)}function rk(n){return n?void 0!==n.unaryFilter?[RV(n)]:void 0!==n.fieldFilter?[OV(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>rk(e)).reduce((e,t)=>e.concat(t)):mt():[]}function NV(n){return wV[n]}function MV(n){return EV[n]}function B_(n){return{fieldPath:n.canonicalString()}}function V_(n){return $r.fromServerFormat(n.fieldPath)}function OV(n){return qi.create(V_(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(n.fieldFilter.op),n.fieldFilter.value)}function RV(n){switch(n.unaryFilter.op){case"IS_NAN":const e=V_(n.unaryFilter.field);return qi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=V_(n.unaryFilter.field);return qi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=V_(n.unaryFilter.field);return qi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=V_(n.unaryFilter.field);return qi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}function xV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ik(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function js(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=sk(e)),e=PV(n.get(t),e);return sk(e)}function PV(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function sk(n){return n+"\x01\x01"}function _u(n){const e=n.length;if(Ht(e>=2),2===e)return Ht("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),pn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const c=n.indexOf("\x01",l);switch((c<0||c>t)&&mt(),n.charAt(c+1)){case"\x01":const f=n.substring(l,c);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(l,c),i+="\0";break;case"\x11":i+=n.substring(l,c+1);break;default:mt()}l=c+2}return new pn(r)}const ok=["userId","batchId"];function v1(n,e){return[n,js(e)]}function ak(n,e,t){return[n,js(e),t]}const kV={},FV=["prefixPath","collectionGroup","readTime","documentId"],LV=["prefixPath","collectionGroup","documentId"],UV=["collectionGroup","readTime","prefixPath","documentId"],BV=["canonicalId","targetId"],VV=["targetId","path"],jV=["path","targetId"],HV=["collectionId","parent"],GV=["indexId","uid"],$V=["uid","sequenceNumber"],zV=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ZV=["indexId","uid","orderedDocumentKey"],qV=["userId","collectionPath","documentId"],WV=["userId","collectionPath","largestBatchId"],YV=["userId","collectionGroup","largestBatchId"],lk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],KV=[...lk,"documentOverlays"],uk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ck=uk,JV=[...ck,"indexConfiguration","indexState","indexEntries"];class zA extends eP{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Fi(n,e){const t=at(n);return vl.N(t.ee,e)}class ZA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&fV(l,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Q0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Q0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=HP();return this.mutations.forEach(i=>{const l=e.get(i.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(i.key)?null:f;const _=xP(c,f);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(Bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xt())}isEqual(e){return this.batchId===e.batchId&&N_(this.mutations,e.mutations,(t,r)=>PP(t,r))&&N_(this.baseMutations,e.baseMutations,(t,r)=>PP(t,r))}}class qA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ht(e.mutations.length===r.length);let i=_V;const l=e.mutations;for(let c=0;c<l.length;c++)i=i.insert(l[c].key,r[c].version);return new qA(e,t,r,i)}}class WA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ph{constructor(e,t,r,i,l=Bt.min(),c=Bt.min(),f=wi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new Ph(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ph(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ph(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class dk{constructor(e){this.ne=e}}function hk(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:b1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:ib(i=n.ne,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:rb(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:qp(e.version)};else{if(!e.isUnknownDocument())return mt();r.unknownDocument={path:t.path.toArray(),version:qp(e.version)}}var i,l;return r}function b1(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function qp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wp(n){const e=new dr(n.seconds,n.nanoseconds);return Bt.fromTimestamp(e)}function Yp(n,e){const t=(e.baseMutations||[]).map(l=>$A(n.ne,l));for(let l=0;l<e.mutations.length-1;++l)l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(e.mutations[l].updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l);const r=e.mutations.map(l=>$A(n.ne,l)),i=dr.fromMillis(e.localWriteTimeMs);return new ZA(e.batchId,i,t,r)}function ab(n){const e=Wp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Wp(n.lastLimboFreeSnapshotVersion):Bt.min();let r;var i;return void 0!==n.query.documents?(Ht(1===(i=n.query).documents.length),r=Aa(x_(KP(i.documents[0])))):r=Aa(nk(n.query)),new Ph(r,n.targetId,0,n.lastListenSequenceNumber,e,t,wi.fromBase64String(n.resumeToken))}function fk(n,e){const t=qp(e.snapshotVersion),r=qp(e.lastLimboFreeSnapshotVersion);let i;i=h1(e.target)?ek(n.ne,e.target):tk(n.ne,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:$p(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function YA(n){const e=nk({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?wP(e,e.limit,"L"):e}function KA(n,e){return new WA(e.largestBatchId,$A(n.ne,e.overlayMutation))}function pk(n,e){const t=e.path.lastSegment();return[n,js(e.path.popLast()),t]}function gk(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:qp(r.readTime),documentKey:js(r.documentKey.path),largestBatchId:r.largestBatchId}}class XV{getBundleMetadata(e,t){return mk(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Wp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return mk(e).put({bundleId:(r=t).id,createTime:qp(ki(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return _k(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:YA(i.bundledQuery),readTime:Wp(i.readTime)};var i})}saveNamedQuery(e,t){return _k(e).put({name:(r=t).name,readTime:qp(ki(r.readTime)),bundledQuery:r.bundledQuery});var r}}function mk(n){return Fi(n,"bundles")}function _k(n){return Fi(n,"namedQueries")}class w1{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new w1(e,t.uid||"")}getOverlay(e,t){return lb(e).get(pk(this.userId,t)).next(r=>r?KA(this.wt,r):null)}getOverlays(e,t){const r=gu();return le.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((l,c)=>{const f=new WA(t,c);i.push(this.ie(e,f))}),le.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(js(c.getCollectionPath())));const l=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(lb(e).W("collectionPathOverlayIndex",f))}),le.waitFor(l)}getOverlaysForCollection(e,t,r){const i=gu(),l=js(t),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return lb(e).K("collectionPathOverlayIndex",c).next(f=>{for(const _ of f){const b=KA(this.wt,_);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=gu();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return lb(e).J({index:"collectionGroupOverlayIndex",range:f},(_,b,D)=>{const A=KA(this.wt,b);l.size()<i||A.largestBatchId===c?(l.set(A.getKey(),A),c=A.largestBatchId):D.done()}).next(()=>l)}ie(e,t){return lb(e).put(function(r,i,l){const[c,f,_]=pk(i,l.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:ob(r.ne,l.mutation)}}(this.wt,this.userId,t))}}function lb(n){return Fi(n,"documentOverlays")}class Kp{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(xr(e.integerValue));else if("doubleValue"in e){const r=xr(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),z0(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(jp(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?cP(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):mt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const i of Object.keys(r))this.le(i,t),this.oe(r[i],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const i of r)this.oe(i,t)}_e(e,t){this.ce(t,37),rt.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function e3(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function yk(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=e3(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Kp.ye=new Kp;class t3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const i=t.codePointAt(0);this.Ie(240|i>>>18),this.Ie(128|63&i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}ve(e){const t=this.Ve(e),r=yk(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}De(e){const t=this.Ve(e),r=yk(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class n3{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class r3{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class ub{constructor(){this.Me=new t3,this.Fe=new n3(this.Me),this.$e=new r3(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Jp{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Jp(this.indexId,this.documentKey,this.arrayValue,r)}}function Qp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=vk(n.arrayValue,e.arrayValue),0!==t?t:(t=vk(n.directionalValue,e.directionalValue),0!==t?t:rt.comparator(n.documentKey,e.documentKey)))}function vk(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class i3{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=NA(e);if(void 0!==t&&!this.Qe(t))return!1;const r=Up(e);let i=0,l=0;for(;i<r.length&&this.Qe(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ke){const c=r[i];if(!this.je(this.Ke,c)||!this.We(this.Ue[l++],c))return!1;++i}for(;i<r.length;++i)if(l>=this.Ue.length||!this.We(this.Ue[l++],r[i]))return!1;return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class s3{constructor(){this.ze=new JA}addToCollectionParentIndex(e,t){return this.ze.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(zo.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(zo.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class JA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Fn(pn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fn(pn.comparator)).toArray()}}const E1=new Uint8Array(0);class o3{constructor(e,t){this.user=e,this.databaseId=t,this.He=new JA,this.Je=new xh(r=>$p(r),(r,i)=>Y0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const l={collectionId:r,parent:js(i)};return bk(e).put(l)}return le.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Kx(t),""],!1,!0);return bk(e).K(i).next(l=>{for(const c of l){if(c.collectionId!==t)break;r.push(_u(c.parent))}return r})}addFieldIndex(e,t){const r=D1(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete i.indexId;const l=r.add(i);if(t.indexState){const c=db(e);return l.next(f=>{c.put(gk(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=D1(e),i=db(e),l=cb(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=cb(e);let i=!0;const l=new Map;return le.forEach(this.Ye(t),c=>this.Xe(e,c).next(f=>{i&&(i=!!f),l.set(c,f)})).next(()=>{if(i){let c=Xt();const f=[];return le.forEach(l,(_,b)=>{var D;He("IndexedDbIndexManager",`Using index ${D=_,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Qe=>`${Qe.fieldPath}:${Qe.kind}`).join(",")}`} to execute ${$p(t)}`);const A=function(Qe,je){const et=NA(je);if(void 0===et)return null;for(const it of f1(Qe,et.fieldPath))switch(it.op){case"array-contains-any":return it.value.arrayValue.values||[];case"array-contains":return[it.value]}return null}(b,_),x=function(Qe,je){const et=new Map;for(const it of Up(je))for(const Tt of f1(Qe,it.fieldPath))switch(Tt.op){case"==":case"in":et.set(it.fieldPath.canonicalString(),Tt.value);break;case"not-in":case"!=":return et.set(it.fieldPath.canonicalString(),Tt.value),Array.from(et.values())}return null}(b,_),P=function(Qe,je){const et=[];let it=!0;for(const Tt of Up(je)){const zt=0===Tt.kind?gP(Qe,Tt.fieldPath,Qe.startAt):mP(Qe,Tt.fieldPath,Qe.startAt);et.push(zt.value),it&&(it=zt.inclusive)}return new Rh(et,it)}(b,_),j=function(Qe,je){const et=[];let it=!0;for(const Tt of Up(je)){const zt=0===Tt.kind?mP(Qe,Tt.fieldPath,Qe.endAt):gP(Qe,Tt.fieldPath,Qe.endAt);et.push(zt.value),it&&(it=zt.inclusive)}return new Rh(et,it)}(b,_),Y=this.Ze(_,b,P),ie=this.Ze(_,b,j),we=this.tn(_,b,x),ke=this.en(_.indexId,A,Y,P.inclusive,ie,j.inclusive,we);return le.forEach(ke,Qe=>r.j(Qe,t.limit).next(je=>{je.forEach(et=>{const it=rt.fromSegments(et.documentKey);c.has(it)||(c=c.add(it),f.push(it))})}))}).next(()=>f)}return le.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,i,l,c,f){const _=(null!=t?t.length:1)*Math.max(r.length,l.length),b=_/(null!=t?t.length:1),D=[];for(let A=0;A<_;++A){const x=t?this.nn(t[A/b]):E1,P=this.sn(e,x,r[A%b],i),j=this.rn(e,x,l[A%b],c),Y=f.map(ie=>this.sn(e,x,ie,!0));D.push(...this.createRange(P,j,Y))}return D}sn(e,t,r,i){const l=new Jp(e,rt.empty(),t,r);return i?l:l.Le()}rn(e,t,r,i){const l=new Jp(e,rt.empty(),t,r);return i?l.Le():l}Xe(e,t){const r=new i3(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let c=null;for(const f of l)r.Ge(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let r=2;return le.forEach(this.Ye(t),i=>this.Xe(e,i).next(l=>{l?0!==r&&l.fields.length<function(c){let f=new Fn($r.comparator),_=!1;for(const b of c.filters){const D=b;D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?_=!0:f=f.add(D.field))}for(const b of c.orderBy)b.field.isKeyField()||(f=f.add(b.field));return f.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new ub;for(const i of Up(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const c=r.Be(i.kind);Kp.ye.re(l,c)}return r.Oe()}nn(e){const t=new ub;return Kp.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const r=new ub;return Kp.ye.re(Gp(this.databaseId,t),r.Be(function(i){const l=Up(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.Oe()}tn(e,t,r){if(null===r)return[];let i=[];i.push(new ub);let l=0;for(const c of Up(e)){const f=r[l++];for(const _ of i)if(this.cn(t,c.fieldPath)&&q0(f))i=this.an(i,c,f);else{const b=_.Be(c.kind);Kp.ye.re(f,b)}}return this.hn(i)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Oe();return t}an(e,t,r){const i=[...e],l=[];for(const c of r.arrayValue.values||[])for(const f of i){const _=new ub;_.seed(f.Oe()),Kp.ye.re(c,_.Be(t.kind)),l.push(_)}return l}cn(e,t){return!!e.filters.find(r=>r instanceof qi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=D1(e),i=db(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(l=>{const c=[];return le.forEach(l,f=>i.get([f.indexId,this.uid]).next(_=>{c.push(function(b,D){const A=D?new j0(D.sequenceNumber,new zo(Wp(D.readTime),new rt(_u(D.documentKey)),D.largestBatchId)):j0.empty(),x=b.fields.map(([P,j])=>new a1($r.fromServerFormat(P),j));return new o1(b.indexId,b.collectionGroup,x,A)}(f,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Wt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=D1(e),l=db(e);return this.ln(e).next(c=>i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>le.forEach(f,_=>l.put(gk(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return le.forEach(t,(i,l)=>{const c=r.get(i.collectionGroup);return(c?le.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),le.forEach(f,_=>this.fn(e,i,_).next(b=>{const D=this.dn(l,_);return b.isEqual(D)?le.resolve():this._n(e,l,_,b,D)}))))})}wn(e,t,r,i){return cb(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,i){return cb(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const i=cb(e);let l=new Fn(Qp);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(c,f)=>{l=l.add(new Jp(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>l)}dn(e,t){let r=new Fn(Qp);const i=this.on(t,e);if(null==i)return r;const l=NA(t);if(null!=l){const c=e.data.field(l.fieldPath);if(q0(c))for(const f of c.arrayValue.values||[])r=r.add(new Jp(t.indexId,e.key,this.nn(f),i))}else r=r.add(new Jp(t.indexId,e.key,E1,i));return r}_n(e,t,r,i,l){He("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,_,b,D,A){const x=f.getIterator(),P=_.getIterator();let j=M_(x),Y=M_(P);for(;j||Y;){let ie=!1,we=!1;if(j&&Y){const ke=b(j,Y);ke<0?we=!0:ke>0&&(ie=!0)}else null!=j?we=!0:ie=!0;ie?(D(Y),Y=M_(P)):we?(A(j),j=M_(x)):(j=M_(x),Y=M_(P))}}(i,l,Qp,f=>{c.push(this.wn(e,t,r,f))},f=>{c.push(this.mn(e,t,r,f))}),le.waitFor(c)}ln(e){let t=1;return db(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>Qp(c,f)).filter((c,f,_)=>!f||0!==Qp(c,_[f-1]));const i=[];i.push(e);for(const c of r){const f=Qp(c,e),_=Qp(c,t);if(0===f)i[0]=e.Le();else if(f>0&&_<0)i.push(c),i.push(c.Le());else if(_>0)break}i.push(t);const l=[];for(let c=0;c<i.length;c+=2)l.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,E1,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,E1,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(wk)}getMinOffset(e,t){return le.mapArray(this.Ye(t),r=>this.Xe(e,r).next(i=>i||mt())).next(wk)}}function bk(n){return Fi(n,"collectionParents")}function cb(n){return Fi(n,"indexEntries")}function D1(n){return Fi(n,"indexConfiguration")}function db(n){return Fi(n,"indexState")}function wk(n){Ht(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;MA(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new zo(e.readTime,e.documentKey,t)}const Ek={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class uo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new uo(e,uo.DEFAULT_COLLECTION_PERCENTILE,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Dk(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],c=IDBKeyRange.only(t.batchId);let f=0;const _=r.J({range:c},(D,A,x)=>(f++,x.delete()));l.push(_.next(()=>{Ht(1===f)}));const b=[];for(const D of t.mutations){const A=ak(e,D.key.path,t.batchId);l.push(i.delete(A)),b.push(D.key)}return le.waitFor(l).next(()=>b)}function T1(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw mt();e=n.noDocument}return JSON.stringify(e).length}uo.DEFAULT_COLLECTION_PERCENTILE=10,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uo.DEFAULT=new uo(41943040,uo.DEFAULT_COLLECTION_PERCENTILE,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uo.DISABLED=new uo(-1,0,0);class C1{constructor(e,t,r,i){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=i,this.gn={}}static se(e,t,r,i){Ht(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new C1(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kh(e).J({index:"userMutationsIndex",range:r},(i,l,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=j_(e),c=kh(e);return c.add({}).next(f=>{Ht("number"==typeof f);const _=new ZA(f,t,r,i),b=function(x,P,j){const Y=j.baseMutations.map(we=>ob(x.ne,we)),ie=j.mutations.map(we=>ob(x.ne,we));return{userId:P,batchId:j.batchId,localWriteTimeMs:j.localWriteTime.toMillis(),baseMutations:Y,mutations:ie}}(this.wt,this.userId,_),D=[];let A=new Fn((x,P)=>Wt(x.canonicalString(),P.canonicalString()));for(const x of i){const P=ak(this.userId,x.key.path,f);A=A.add(x.key.path.popLast()),D.push(c.put(b)),D.push(l.put(P,kV))}return A.forEach(x=>{D.push(this.indexManager.addToCollectionParentIndex(e,x))}),e.addOnCommittedListener(()=>{this.gn[f]=_.keys()}),le.waitFor(D).next(()=>_)})}lookupMutationBatch(e,t){return kh(e).get(t).next(r=>r?(Ht(r.userId===this.userId),Yp(this.wt,r)):null)}yn(e,t){return this.gn[t]?le.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.gn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return kh(e).J({index:"userMutationsIndex",range:i},(c,f,_)=>{f.userId===this.userId&&(Ht(f.batchId>=r),l=Yp(this.wt,f)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return kh(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,l,c)=>{r=l.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kh(e).K("userMutationsIndex",t).next(r=>r.map(i=>Yp(this.wt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=v1(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return j_(e).J({range:i},(c,f,_)=>{const[b,D,A]=c,x=_u(D);if(b===this.userId&&t.path.isEqual(x))return kh(e).get(A).next(P=>{if(!P)throw mt();Ht(P.userId===this.userId),l.push(Yp(this.wt,P))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn(Wt);const i=[];return t.forEach(l=>{const c=v1(this.userId,l.path),f=IDBKeyRange.lowerBound(c),_=j_(e).J({range:f},(b,D,A)=>{const[x,P,j]=b,Y=_u(P);x===this.userId&&l.path.isEqual(Y)?r=r.add(j):A.done()});i.push(_)}),le.waitFor(i).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=v1(this.userId,r),c=IDBKeyRange.lowerBound(l);let f=new Fn(Wt);return j_(e).J({range:c},(_,b,D)=>{const[A,x,P]=_,j=_u(x);A===this.userId&&r.isPrefixOf(j)?j.length===i&&(f=f.add(P)):D.done()}).next(()=>this.pn(e,f))}pn(e,t){const r=[],i=[];return t.forEach(l=>{i.push(kh(e).get(l).next(c=>{if(null===c)throw mt();Ht(c.userId===this.userId),r.push(Yp(this.wt,c))}))}),le.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Dk(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),le.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return le.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return j_(e).J({range:r},(l,c,f)=>{if(l[0]===this.userId){const _=_u(l[1]);i.push(_)}else f.done()}).next(()=>{Ht(0===i.length)})})}containsKey(e,t){return Tk(e,this.userId,t)}Tn(e){return Ck(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Tk(n,e,t){const r=v1(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return j_(n).J({range:l,H:!0},(f,_,b)=>{const[D,A,x]=f;D===e&&A===i&&(c=!0),b.done()}).next(()=>c)}function kh(n){return Fi(n,"mutations")}function j_(n){return Fi(n,"documentMutations")}function Ck(n){return Fi(n,"mutationQueues")}class Xp{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Xp(0)}static Rn(){return new Xp(-1)}}class a3{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new Xp(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Bt.fromTimestamp(new dr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Pn(e,i)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>H_(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(Ht(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return H_(e).J((c,f)=>{const _=ab(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,l.push(this.removeTargetData(e,_)))}).next(()=>le.waitFor(l)).next(()=>i)}forEachTarget(e,t){return H_(e).J((r,i)=>{const l=ab(i);t(l)})}bn(e){return Sk(e).get("targetGlobalKey").next(t=>(Ht(null!==t),t))}Pn(e,t){return Sk(e).put("targetGlobalKey",t)}vn(e,t){return H_(e).put(fk(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=$p(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return H_(e).J({range:i,index:"queryTargetsIndex"},(c,f,_)=>{const b=ab(f);Y0(t,b.target)&&(l=b,_.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Fh(e);return t.forEach(c=>{const f=js(c.path);i.push(l.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),le.waitFor(i)}removeMatchingKeys(e,t,r){const i=Fh(e);return le.forEach(t,l=>{const c=js(l.path);return le.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Fh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Fh(e);let l=Xt();return i.J({range:r,H:!0},(c,f,_)=>{const b=_u(c[1]),D=new rt(b);l=l.add(D)}).next(()=>l)}containsKey(e,t){const r=js(t.path),i=IDBKeyRange.bound([r],[Kx(r)],!1,!0);let l=0;return Fh(e).J({index:"documentTargetsIndex",H:!0,range:i},([c,f],_,b)=>{0!==c&&(l++,b.done())}).next(()=>l>0)}te(e,t){return H_(e).get(t).next(r=>r?ab(r):null)}}function H_(n){return Fi(n,"targets")}function Sk(n){return Fi(n,"targetGlobal")}function Fh(n){return Fi(n,"targetDocuments")}function Ik([n,e],[t,r]){const i=Wt(n,t);return 0===i?Wt(e,r):i}class l3{constructor(e){this.Sn=e,this.buffer=new Fn(Ik),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Ik(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class u3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;He("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_e.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ah(r)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ih(r)}yield t.kn(3e5)}))}}class c3{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return le.resolve(ao.ot);const r=new l3(t);return this.On.forEachTarget(e,i=>r.xn(i.sequenceNumber)).next(()=>this.On.Fn(e,i=>r.xn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.On.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Ek)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ek):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let r,i,l,c,f,_,b;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,c=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(e,r,t))).next(A=>(l=A,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(b=Date.now(),IA()<=ml.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-D}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${l} targets in `+(_-f)+`ms\n\tRemoved ${A} documents in `+(b-_)+`ms\nTotal Duration: ${b-D}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:A})))}}class d3{constructor(e,t){this.db=e,this.garbageCollector=new c3(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,i)=>t(i))}addReference(e,t,r){return S1(e,r)}removeReference(e,t,r){return S1(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return S1(e,t)}Un(e,t){return function(r,i){let l=!1;return Ck(r).Y(c=>Tk(r,c,i).next(f=>(f&&(l=!0),le.resolve(!f)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Ln(e,(c,f)=>{if(f<=t){const _=this.Un(e,c).next(b=>{if(!b)return l++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Bt.min()),Fh(e).delete([0,js(c.path)])))});i.push(_)}}).next(()=>le.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return S1(e,t)}Ln(e,t){const r=Fh(e);let i,l=ao.ot;return r.J({index:"documentTargetsIndex"},([c,f],{path:_,sequenceNumber:b})=>{0===c?(l!==ao.ot&&t(new rt(_u(i)),l),l=b,i=_):l=ao.ot}).next(()=>{l!==ao.ot&&t(new rt(_u(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function S1(n,e){return Fh(n).put((r=n.currentSequenceNumber,{targetId:0,path:js(e.path),sequenceNumber:r}));var r}class Ak{constructor(){this.changes=new xh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class h3{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return eg(e).put(r)}removeEntry(e,t,r){return eg(e).delete(function(i,l){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],b1(l),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=Wn.newInvalidDocument(t);return eg(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hb(t))},(i,l)=>{r=this.Kn(t,l)}).next(()=>r)}Gn(e,t){let r={size:0,document:Wn.newInvalidDocument(t)};return eg(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hb(t))},(i,l)=>{r={document:this.Kn(t,l),size:T1(l)}}).next(()=>r)}getEntries(e,t){let r=lo();return this.Qn(e,t,(i,l)=>{const c=this.Kn(i,l);r=r.insert(i,c)}).next(()=>r)}jn(e,t){let r=lo(),i=new Rr(rt.comparator);return this.Qn(e,t,(l,c)=>{const f=this.Kn(l,c);r=r.insert(l,f),i=i.insert(l,T1(c))}).next(()=>({documents:r,Wn:i}))}Qn(e,t,r){if(t.isEmpty())return le.resolve();let i=new Fn(Rk);t.forEach(_=>i=i.add(_));const l=IDBKeyRange.bound(hb(i.first()),hb(i.last())),c=i.getIterator();let f=c.getNext();return eg(e).J({index:"documentKeyIndex",range:l},(_,b,D)=>{const A=rt.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&Rk(f,A)<0;)r(f,null),f=c.getNext();f&&f.isEqual(A)&&(r(f,b),f=c.hasNext()?c.getNext():null),f?D.q(hb(f)):D.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),b1(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return eg(e).K(IDBKeyRange.bound(i,l,!0)).next(c=>{let f=lo();for(const _ of c){const b=this.Kn(rt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(e,t,r,i){let l=lo();const c=Ok(t,r),f=Ok(t,zo.max());return eg(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(_,b,D)=>{const A=this.Kn(rt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);l=l.insert(A.key,A),l.size===i&&D.done()}).next(()=>l)}newChangeBuffer(e){return new f3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Mk(e).get("remoteDocumentGlobalKey").next(t=>(Ht(!!t),t))}qn(e,t){return Mk(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function QV(n,e){let t;if(e.document)t=XP(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=rt.fromSegments(e.noDocument.path),i=Wp(e.noDocument.readTime);t=Wn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return mt();{const r=rt.fromSegments(e.unknownDocument.path),i=Wp(e.unknownDocument.version);t=Wn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new dr(r[0],r[1]);return Bt.fromTimestamp(i)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(Bt.min()))return r}return Wn.newInvalidDocument(e)}}function Nk(n){return new h3(n)}class f3 extends Ak{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new xh(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Fn((l,c)=>Wt(l.canonicalString(),c.canonicalString()));return this.changes.forEach((l,c)=>{const f=this.Hn.get(l);if(t.push(this.zn.removeEntry(e,l,f.readTime)),c.isValidDocument()){const _=hk(this.zn.wt,c);i=i.add(l.path.popLast());const b=T1(_);r+=b-f.size,t.push(this.zn.addEntry(e,l,_))}else if(r-=f.size,this.trackRemovals){const _=hk(this.zn.wt,c.convertToNoDocument(Bt.min()));t.push(this.zn.addEntry(e,l,_))}}),i.forEach(l=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.zn.updateMetadata(e,r)),le.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:i})=>(i.forEach((l,c)=>{this.Hn.set(l,{size:c,readTime:r.get(l).readTime})}),r))}}function Mk(n){return Fi(n,"remoteDocumentGlobal")}function eg(n){return Fi(n,"remoteDocumentsV14")}function hb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ok(n,e){const t=e.documentKey.path.toArray();return[n,b1(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Rk(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Wt(t[l],r[l]),i)return i;return i=Wt(t.length,r.length),i||(i=Wt(t[t.length-2],r[r.length-2]),i||Wt(t[t.length-1],r[r.length-1]))}class p3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class xk{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Q0(r.mutation,i,Zo.empty(),dr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Xt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Xt()){const i=gu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(l=>{let c=X0();return l.forEach((f,_)=>{c=c.insert(f,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=gu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Xt()))}populateOverlays(e,t,r){const i=[];return r.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let l=lo();const c=eb(),f=eb();return t.forEach((_,b)=>{const D=r.get(b.key);i.has(b.key)&&(void 0===D||D.mutation instanceof zc)?l=l.insert(b.key,b):void 0!==D&&(c.set(b.key,D.mutation.getFieldMask()),Q0(D.mutation,b,D.mutation.getFieldMask(),dr.now()))}),this.recalculateAndSaveOverlays(e,l).next(_=>(_.forEach((b,D)=>c.set(b,D)),t.forEach((b,D)=>{var A;return f.set(b,new p3(D,null!==(A=c.get(b))&&void 0!==A?A:null))}),f))}recalculateAndSaveOverlays(e,t){const r=eb();let i=new Rr((c,f)=>c-f),l=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let D=r.get(_)||Zo.empty();D=f.applyToLocalView(b,D),r.set(_,D);const A=(i.get(f.batchId)||Xt()).add(_);i=i.insert(f.batchId,A)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),b=_.key,D=_.value,A=HP();D.forEach(x=>{if(!l.has(x)){const P=xP(t.get(x),r.get(x));null!==P&&A.set(x,P),l=l.add(x)}}),c.push(this.documentOverlayCache.saveOverlays(e,b,A))}return le.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return rt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):UA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(l=>{const c=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-l.size):le.resolve(gu());let f=-1,_=l;return c.next(b=>le.forEach(b,(D,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),l.get(D)?le.resolve():this.getBaseDocument(e,D,A).next(x=>{_=_.insert(D,x)}))).next(()=>this.populateOverlays(e,b,l)).next(()=>this.computeViews(e,_,b,Xt())).next(D=>({batchId:f,changes:jP(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rt(t)).next(r=>{let i=X0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let l=X0();return this.indexManager.getCollectionParents(e,i).next(c=>le.forEach(c,f=>{const _=(b=t,D=f.child(i),new $c(D,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,D;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(b=>{b.forEach((D,A)=>{l=l.insert(D,A)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((f,_)=>{const b=_.getKey();null===i.get(b)&&(i=i.insert(b,Wn.newInvalidDocument(b)))});let c=X0();return i.forEach((f,_)=>{const b=l.get(f);void 0!==b&&Q0(b.mutation,_,Zo.empty(),dr.now()),VA(t,_)&&(c=c.insert(f,_))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):le.resolve(Wn.newInvalidDocument(t))}}class g3{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return le.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:ki(r.createTime)}),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:YA(r.bundledQuery),readTime:ki(r.readTime)}),le.resolve();var r}}class m3{constructor(){this.overlays=new Rr(rt.comparator),this.Xn=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=gu();return le.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.ie(e,t,l)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.Xn.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const i=gu(),l=t.length+1,c=new rt(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===l&&_.largestBatchId>r&&i.set(_.getKey(),_)}return le.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new Rr((b,D)=>b-D);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let D=l.get(b.largestBatchId);null===D&&(D=gu(),l=l.insert(b.largestBatchId,D)),D.set(b.getKey(),b)}}const f=gu(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,D)=>f.set(b,D)),!(f.size()>=i)););return le.resolve(f)}ie(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new WA(t,r));let l=this.Xn.get(t);void 0===l&&(l=Xt(),this.Xn.set(t,l)),this.Xn.set(t,l.add(r.key))}}class QA{constructor(){this.Zn=new Fn(Li.ts),this.es=new Fn(Li.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Li(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Li(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new rt(new pn([])),r=new Li(t,e),i=new Li(t,e+1),l=[];return this.es.forEachInRange([r,i],c=>{this.rs(c),l.push(c.key)}),l}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new rt(new pn([])),r=new Li(t,e),i=new Li(t,e+1);let l=Xt();return this.es.forEachInRange([r,i],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Li(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Li{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return rt.comparator(e.key,t.key)||Wt(e.ls,t.ls)}static ns(e,t){return Wt(e.ls,t.ls)||rt.comparator(e.key,t.key)}}class _3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Fn(Li.ts)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const l=this.fs;this.fs++;const c=new ZA(l,t,r,i);this.mutationQueue.push(c);for(const f of i)this.ds=this.ds.add(new Li(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ws(t+1),l=i<0?0:i;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Li(t,0),i=new Li(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([r,i],c=>{const f=this._s(c.ls);l.push(f)}),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn(Wt);return t.forEach(i=>{const l=new Li(i,0),c=new Li(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,c],f=>{r=r.add(f.ls)})}),le.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;rt.isDocumentKey(l)||(l=l.child(""));const c=new Li(new rt(l),0);let f=new Fn(Wt);return this.ds.forEachWhile(_=>{const b=_.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(f=f.add(_.ls)),!0)},c),le.resolve(this.gs(f))}gs(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ht(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return le.forEach(t.mutations,i=>{const l=new Li(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new Li(t,0),i=this.ds.firstAfterOrEqual(r);return le.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return le.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class y3{constructor(e){this.ps=e,this.docs=new Rr(rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,c=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():Wn.newInvalidDocument(t))}getEntries(e,t){let r=lo();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Wn.newInvalidDocument(i))}),le.resolve(r)}getAllFromCollection(e,t,r){let i=lo();const l=new rt(t.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:_}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||MA(Qx(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,t,r,i){mt()}Is(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new v3(this)}getSize(e){return le.resolve(this.size)}}class v3 extends Ak{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class b3{constructor(e){this.persistence=e,this.Ts=new xh(t=>$p(t),Y0),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.Es=0,this.As=new QA,this.targetCount=0,this.Rs=Xp.An()}forEachTarget(e,t){return this.Ts.forEach((r,i)=>t(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),le.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Xp(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.vn(t),le.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Ts.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Ts.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),le.waitFor(l).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(c=>{l.push(i.markPotentiallyOrphaned(e,c))}),le.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.As.containsKey(t))}}class Pk{constructor(e,t){this.bs={},this.overlays={},this.Ps=new ao(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new b3(this),this.indexManager=new s3,this.remoteDocumentCache=new y3(r=>this.referenceDelegate.Ss(r)),this.wt=new dk(t),this.Ds=new g3(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new m3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new _3(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){He("MemoryPersistence","Starting transaction:",e);const i=new w3(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(l=>this.referenceDelegate.xs(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ns(e,t){return le.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class w3 extends eP{constructor(e){super(),this.currentSequenceNumber=e}}class I1{constructor(e){this.persistence=e,this.ks=new QA,this.Os=null}static Ms(e){return new I1(e)}get Fs(){if(this.Os)return this.Os;throw mt()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),le.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Fs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Fs,r=>{const i=rt.fromPath(r);return this.$s(e,i).next(l=>{l||t.removeEntry(i,Bt.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return le.or([()=>le.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class E3{constructor(e){this.wt=e}O(e,t,r,i){const l=new l1("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ok,{unique:!0}),f.createObjectStore("documentMutations"),kk(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=le.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),kk(e)),c=c.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(l))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,_){return _.store("mutations").K().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ok,{unique:!0});const D=_.store("mutations"),A=b.map(x=>D.put(x));return le.waitFor(A)})}(e,l))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Bs(l))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(l)))),r<7&&i>=7&&(c=c.next(()=>this.Us(l))),r<8&&i>=8&&(c=c.next(()=>this.qs(e,l))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.Ks(l))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:qV});_.createIndex("collectionPathOverlayIndex",WV,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",YV,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:FV});_.createIndex("documentKeyIndex",LV),_.createIndex("collectionGroupIndex",UV)}(e)).next(()=>this.Gs(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.Qs(e,l))),r<15&&i>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:GV}).createIndex("sequenceNumberIndex",$V,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:zV}).createIndex("documentKeyIndex",ZV,{unique:!1})}(e))),c}Ls(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=T1(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(i=>le.forEach(i,l=>{const c=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",c).next(f=>le.forEach(f,_=>{Ht(_.userId===l.userId);const b=Yp(this.wt,_);return Dk(e,l.userId,b).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.J((c,f)=>{const _=new pn(c),b=[0,js(_)];l.push(t.get(b).next(D=>D?le.resolve():t.put({targetId:0,path:js(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>le.waitFor(l))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:HV});const r=t.store("collectionParents"),i=new JA,l=c=>{if(i.add(c)){const f=c.lastSegment(),_=c.popLast();return r.put({collectionId:f,parent:js(_)})}};return t.store("remoteDocuments").J({H:!0},(c,f)=>{const _=new pn(c);return l(_.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([c,f,_],b)=>{const D=_u(f);return l(D.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,i)=>{const l=ab(i),c=fk(this.wt,l);return t.put(c)})}Gs(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((l,c)=>{const f=t.store("remoteDocumentsV14"),_=(b=c,b.document?new rt(pn.fromString(b.document.name).popFirst(5)):b.noDocument?rt.fromSegments(b.noDocument.path):b.unknownDocument?rt.fromSegments(b.unknownDocument.path):mt()).path.toArray();var b;const D={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(D))}).next(()=>le.waitFor(i))}Qs(e,t){const r=t.store("mutations"),i=Nk(this.wt),l=new Pk(I1.Ms,this.wt.ne);return r.K().next(c=>{const f=new Map;return c.forEach(_=>{var b;let D=null!==(b=f.get(_.userId))&&void 0!==b?b:Xt();Yp(this.wt,_).keys().forEach(A=>D=D.add(A)),f.set(_.userId,D)}),le.forEach(f,(_,b)=>{const D=new xi(b),A=w1.se(this.wt,D),x=l.getIndexManager(D),P=C1.se(D,this.wt,x,l.referenceDelegate);return new xk(i,P,A,x).recalculateAndSaveOverlaysForDocumentKeys(new zA(t,ao.ot),_).next()})})}}function kk(n){n.createObjectStore("targetDocuments",{keyPath:VV}).createIndex("documentTargetsIndex",jV,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",BV,{unique:!0}),n.createObjectStore("targetGlobal")}const XA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class eN{constructor(e,t,r,i,l,c,f,_,b,D,A=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=l,this.window=c,this.document=f,this.Ws=b,this.zs=D,this.Hs=A,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=x=>Promise.resolve(),!eN.V())throw new Re(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new d3(this,i),this.ei=t+"main",this.wt=new dk(_),this.ni=new vl(this.ei,this.Hs,new E3(this.wt)),this.Vs=new a3(this.referenceDelegate,this.wt),this.remoteDocumentCache=Nk(this.wt),this.Ds=new XV,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===D&&ai("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(fe.FAILED_PRECONDITION,XA);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new ao(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,_e.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,_e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>A1(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Ah(e))return He("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return fb(e).get("owner").next(t=>le.resolve(this.di(t)))}_i(e){return A1(e).delete(this.clientId)}wi(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Fi(r,"clientMetadata");return i.K().next(l=>{const c=e.gi(l,18e5),f=l.filter(_=>-1===c.indexOf(_));return le.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?le.resolve(!0):fb(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Re(fe.FAILED_PRECONDITION,XA);return!1}}return!(!this.networkEnabled||!this.inForeground)||A1(e).K().next(r=>void 0===this.gi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&He("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new zA(t,ao.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>A1(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return C1.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new o3(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return w1.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){He("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=15===(c=this.Hs)?JV:14===c?ck:13===c?uk:12===c?KV:11===c?lk:void mt();var c;let f;return this.ni.runTransaction(e,i,l,_=>(f=new zA(_,this.Ps?this.Ps.next():ao.ot),"readwrite-primary"===t?this.ai(f).next(b=>!!b||this.hi(f)).next(b=>{if(!b)throw ai(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Re(fe.FAILED_PRECONDITION,Xx);return r(f)}).next(b=>this.fi(f).next(()=>b)):this.bi(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}bi(e){return fb(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(fe.FAILED_PRECONDITION,XA)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fb(e).put("owner",t)}static V(){return vl.V()}li(e){const t=fb(e);return t.get("owner").next(r=>this.di(r)?(He("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):le.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ai(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Qt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return He("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ai("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){ai("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function fb(n){return Fi(n,"owner")}function A1(n){return Fi(n,"clientMetadata")}function tN(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class nN{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=i}static Vi(e,t){let r=Xt(),i=Xt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new nN(e,t.fromCache,r,i)}}class Fk{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ci(e,t).next(l=>l||this.xi(e,t,i,r)).next(l=>l||this.Ni(e,t))}Ci(e,t){return le.resolve(null)}xi(e,t,r,i){return function aV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(Bt.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(l=>{const c=this.ki(t,l);return this.Oi(t,c,r,i)?this.Ni(e,t):(IA()<=ml.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),BA(t)),this.Mi(e,c,t,Jx(i,-1)))})}ki(e,t){let r=new Fn(TP(e));return t.forEach((i,l)=>{VA(e,l)&&(r=r.add(l))}),r}Oi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Ni(e,t){return IA()<=ml.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",BA(t)),this.Di.getDocumentsMatchingQuery(e,t,zo.min())}Mi(e,t,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}class D3{constructor(e,t,r,i){this.persistence=e,this.Fi=t,this.wt=i,this.$i=new Rr(Wt),this.Bi=new xh(l=>$p(l),Y0),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xk(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function Lk(n,e,t,r){return new D3(n,e,t,r)}function Uk(n,e){return rN.apply(this,arguments)}function rN(){return rN=(0,_e.Z)(function*(n,e){const t=at(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(l=>(i=l,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let _=Xt();for(const b of i){c.push(b.batchId);for(const D of b.mutations)_=_.add(D.key)}for(const b of l){f.push(b.batchId);for(const D of b.mutations)_=_.add(D.key)}return t.localDocuments.getDocuments(r,_).next(b=>({Ki:b,removedBatchIds:c,addedBatchIds:f}))})})}),rN.apply(this,arguments)}function Bk(n){const e=at(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function Vk(n,e,t){let r=Xt(),i=Xt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let c=lo();return t.forEach((f,_)=>{const b=l.get(f);_.isFoundDocument()!==b.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(Bt.min())?(e.removeEntry(f,_.readTime),c=c.insert(f,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),c=c.insert(f,_)):He("LocalStore","Ignoring outdated watch update for ",f,". Current version:",b.version," Watch version:",_.version)}),{Gi:c,Qi:i}})}function S3(n,e){const t=at(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function G_(n,e){const t=at(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Vs.getTargetData(r,e).next(l=>l?(i=l,le.resolve(i)):t.Vs.allocateTargetId(r).next(c=>(i=new Ph(e,c,0,r.currentSequenceNumber),t.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function $_(n,e,t){return iN.apply(this,arguments)}function iN(){return iN=(0,_e.Z)(function*(n,e,t){const r=at(n),i=r.$i.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Ah(c))throw c;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}),iN.apply(this,arguments)}function N1(n,e,t){const r=at(n);let i=Bt.min(),l=Xt();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,_,b){const D=at(f),A=D.Bi.get(b);return void 0!==A?le.resolve(D.$i.get(A)):D.Vs.getTargetData(_,b)}(r,c,Aa(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(c,f.targetId).next(_=>{l=_})}).next(()=>r.Fi.getDocumentsMatchingQuery(c,e,t?i:Bt.min(),t?l:Xt())).next(f=>(Gk(r,DP(e),f),{documents:f,ji:l})))}function jk(n,e){const t=at(n),r=at(t.Vs),i=t.$i.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.te(l,e).next(c=>c?c.target:null))}function Hk(n,e){const t=at(n),r=t.Li.get(e)||Bt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Ui.getAllFromCollectionGroup(i,e,Jx(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Gk(t,e,i),i))}function Gk(n,e,t){let r=Bt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Li.set(e,r)}function sN(){return sN=(0,_e.Z)(function*(n,e,t,r){const i=at(n);let l=Xt(),c=lo();for(const b of t){const D=e.Wi(b.metadata.name);b.document&&(l=l.add(D));const A=e.zi(b);A.setReadTime(e.Hi(b.metadata.readTime)),c=c.insert(D,A)}const f=i.Ui.newChangeBuffer({trackRemovals:!0}),_=yield G_(i,(b=r,Aa(x_(pn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>Vk(b,f,c).next(D=>(f.apply(b),D)).next(D=>i.Vs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>i.Vs.addMatchingKeys(b,l,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(b,D.Gi,D.Qi)).next(()=>D.Gi)))}),sN.apply(this,arguments)}function A3(n,e){return oN.apply(this,arguments)}function oN(){return oN=(0,_e.Z)(function*(n,e,t=Xt()){const r=yield G_(n,Aa(YA(e.bundledQuery))),i=at(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const c=ki(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ds.saveNamedQuery(l,e);const f=r.withResumeToken(wi.EMPTY_BYTE_STRING,c);return i.$i=i.$i.insert(f.targetId,f),i.Vs.updateTargetData(l,f).next(()=>i.Vs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.Vs.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ds.saveNamedQuery(l,e))})}),oN.apply(this,arguments)}function $k(n,e){return`firestore_clients_${n}_${e}`}function zk(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function aN(n,e){return`firestore_targets_${n}_${e}`}class M1{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let l,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(l=new Re(i.error.code,i.error.message))),c?new M1(e,t,i.state,l):(ai("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Re(r.error.code,r.error.message))),l?new pb(e,r.state,i):(ai("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class O1{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=_1();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=oP(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return i?new O1(e,l):(ai("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class lN{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new lN(t.clientId,t.onlineState):(ai("SharedClientState",`Failed to parse online state: ${e}`),null)}}class uN{constructor(){this.activeTargetIds=_1()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cN{constructor(e,t,r,i,l){this.window=e,this.js=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Rr(Wt),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=$k(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new uN),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.Ri();for(const i of t){if(i===e.tr)continue;const l=e.getItem($k(e.persistenceKey,i));if(l){const c=O1.Ji(i,l);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(aN(this.persistenceKey,e));if(r){const i=pb.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(aN(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return He("SharedClientState","READ",e,t),t}setItem(e,t){He("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){He("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(He("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void ai("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(l){let c=ao.ot;if(null!=l)try{const f=JSON.parse(l);Ht("number"==typeof f),c=f}catch(f){ai("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==ao.ot&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new M1(this.currentUser,e,t,r),l=zk(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Yi())}pr(e){const t=zk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=aN(this.persistenceKey,e),l=new pb(e,t,r);this.setItem(i,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return O1.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),i=Number(r[1]);return M1.Ji(new xi(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return pb.Ji(i,t)}wr(e){return lN.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);He("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),l=this.gr(r),c=[],f=[];return l.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{l.has(_)||f.push(_)}),this.syncEngine.Mr(c,f).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=_1();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Zk{constructor(){this.Fr=new uN,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new uN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class N3{Br(e){}shutdown(){}}class qk{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const M3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class O3{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class R3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,l){const c=this.oo(e,t);He("RestConnection","Sending: ",c,r);const f={};return this.uo(f,i,l),this.co(e,c,f,r).then(_=>(He("RestConnection","Received: ",_),_),_=>{throw B0("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}ao(e,t,r,i,l,c){return this.ro(e,t,r,i,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+A_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}oo(e,t){return`${this.so}/v1/${t}:${M3[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((l,c)=>{const f=new OB;f.listenOnce(AB.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case SA.NO_ERROR:const b=f.getResponseJson();He("Connection","XHR received:",JSON.stringify(b)),l(b);break;case SA.TIMEOUT:He("Connection",'RPC "'+e+'" timed out'),c(new Re(fe.DEADLINE_EXCEEDED,"Request time out"));break;case SA.HTTP_ERROR:const D=f.getStatus();if(He("Connection",'RPC "'+e+'" failed with status:',D,"response text:",f.getResponseText()),D>0){const A=f.getResponseJson().error;if(A&&A.status&&A.message){const x=function(P){const j=P.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(j)>=0?j:fe.UNKNOWN}(A.status);c(new Re(x,A.message))}else c(new Re(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Re(fe.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{He("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=SB(),c=IB(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new MB({})),this.uo(f.initMessageHeaders,t,r),(0,Qt.uI)()||(0,Qt.b$)()||(0,Qt.d)()||(0,Qt.w1)()||(0,Qt.Mn)()||(0,Qt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");He("Connection","Creating WebChannel: "+_,f);const b=l.createWebChannel(_,f);let D=!1,A=!1;const x=new O3({jr:j=>{A?He("Connection","Not sending because WebChannel is closed:",j):(D||(He("Connection","Opening WebChannel transport."),b.open(),D=!0),He("Connection","WebChannel sending:",j),b.send(j))},Wr:()=>b.close()}),P=(j,Y,ie)=>{j.listen(Y,we=>{try{ie(we)}catch(ke){setTimeout(()=>{throw ke},0)}})};return P(b,s1.EventType.OPEN,()=>{A||He("Connection","WebChannel transport opened.")}),P(b,s1.EventType.CLOSE,()=>{A||(A=!0,He("Connection","WebChannel transport closed"),x.eo())}),P(b,s1.EventType.ERROR,j=>{A||(A=!0,B0("Connection","WebChannel transport errored:",j),x.eo(new Re(fe.UNAVAILABLE,"The operation could not be completed")))}),P(b,s1.EventType.MESSAGE,j=>{var Y;if(!A){const ie=j.data[0];Ht(!!ie);const ke=ie.error||(null===(Y=ie[0])||void 0===Y?void 0:Y.error);if(ke){He("Connection","WebChannel received error:",ke);const Qe=ke.status;let je=function(it){const Tt=li[it];if(void 0!==Tt)return BP(Tt)}(Qe),et=ke.message;void 0===je&&(je=fe.INTERNAL,et="Unknown error status: "+Qe+" with message "+ke.message),A=!0,x.eo(new Re(je,et)),b.close()}else He("Connection","WebChannel received:",ie),x.no(ie)}}),P(c,NB.STAT_EVENT,j=>{j.stat===zx.PROXY?He("Connection","Detected buffering proxy"):j.stat===zx.NOPROXY&&He("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.Zr()},0),x}}function Wk(){return typeof window<"u"?window:null}function R1(){return typeof document<"u"?document:null}function gb(n){return new DV(n,!0)}class dN{constructor(e,t,r=1e3,i=1.5,l=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=i,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Yk{constructor(e,t,r,i,l,c,f,_){this.js=e,this.Ao=r,this.Ro=i,this.bo=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new dN(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,_e.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,_e.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(ai(t.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Re(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,_e.Z)(function*(){e.state=0,e.start()}))}qo(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class x3 extends Yk{constructor(e,t,r,i,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.wt=l}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function SV(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:mt(),i=e.targetChange.targetIds||[],l=function(_,b){return _.dt?(Ht(void 0===b||"string"==typeof b),wi.fromBase64String(b||"")):(Ht(void 0===b||b instanceof Uint8Array),wi.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(_){const b=void 0===_.code?fe.UNKNOWN:BP(_.code);return new Re(b,_.message||"")}(c);t=new $P(r,i,l,f||null)}else if("documentChange"in e){const r=e.documentChange,i=mu(n,r.document.name),l=ki(r.document.updateTime),c=new Zi({mapValue:{fields:r.document.fields}}),f=Wn.newFoundDocument(i,l,c);t=new y1(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=mu(n,r.document),l=r.readTime?ki(r.readTime):Bt.min(),c=Wn.newNoDocument(i,l);t=new y1([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=mu(n,r.document);t=new y1([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return mt();{const r=e.filter,l=new gV(r.count||0);t=new GP(r.targetId,l)}}var _;return t}(this.wt,e),r=function(i){if(!("targetChange"in i))return Bt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Bt.min():l.readTime?ki(l.readTime):Bt.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=sb(this.wt),t.addTarget=function(i,l){let c;const f=l.target;return c=h1(f)?{documents:ek(i,f)}:{query:tk(i,f)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?c.resumeToken=WP(i,l.resumeToken):l.snapshotVersion.compareTo(Bt.min())>0&&(c.readTime=rb(i,l.snapshotVersion.toTimestamp())),c}(this.wt,e);const r=function AV(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return mt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Mo(t)}jo(e){const t={};t.database=sb(this.wt),t.removeTarget=e,this.Mo(t)}}class P3 extends Yk{constructor(e,t,r,i,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.wt=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function IV(n,e){return n&&n.length>0?(Ht(void 0!==e),n.map(t=>function(r,i){let l=ki(r.updateTime?r.updateTime:i);return l.isEqual(Bt.min())&&(l=ki(i)),new hV(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ki(e.commitTime);return this.listener.Jo(r,t)}return Ht(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=sb(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ob(this.wt,r))};this.Mo(t)}}class k3 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new Re(fe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.ro(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(fe.UNKNOWN,i.toString())})}ao(e,t,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.bo.ao(e,t,r,l,c,i)).catch(l=>{throw"FirebaseError"===l.name?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Re(fe.UNKNOWN,l.toString())})}terminate(){this.Zo=!0}}class F3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(ai(t),this.su=!1):He("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class L3{constructor(e,t,r,i,l){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(f=>{r.enqueueAndForget((0,_e.Z)(function*(){var _;Lh(c)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,_e.Z)(function*(b){const D=at(b);D.lu.add(4),yield z_(D),D._u.set("Unknown"),D.lu.delete(4),yield mb(D)}),function(b){return _.apply(this,arguments)})(c))}))}),this._u=new F3(r,i)}}function mb(n){return hN.apply(this,arguments)}function hN(){return hN=(0,_e.Z)(function*(n){if(Lh(n))for(const e of n.fu)yield e(!0)}),hN.apply(this,arguments)}function z_(n){return fN.apply(this,arguments)}function fN(){return fN=(0,_e.Z)(function*(n){for(const e of n.fu)yield e(!1)}),fN.apply(this,arguments)}function x1(n,e){const t=at(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),mN(t)?gN(t):q_(t).Co()&&pN(t,e))}function _b(n,e){const t=at(n),r=q_(t);t.hu.delete(e),r.Co()&&Kk(t,e),0===t.hu.size&&(r.Co()?r.ko():Lh(t)&&t._u.set("Unknown"))}function pN(n,e){n.wu.Nt(e.targetId),q_(n).Qo(e)}function Kk(n,e){n.wu.Nt(e),q_(n).jo(e)}function gN(n){n.wu=new bV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),q_(n).start(),n._u.iu()}function mN(n){return Lh(n)&&!q_(n).Do()&&n.hu.size>0}function Lh(n){return 0===at(n).lu.size}function Jk(n){n.wu=void 0}function U3(n){return _N.apply(this,arguments)}function _N(){return _N=(0,_e.Z)(function*(n){n.hu.forEach((e,t)=>{pN(n,e)})}),_N.apply(this,arguments)}function B3(n,e){return yN.apply(this,arguments)}function yN(){return yN=(0,_e.Z)(function*(n,e){Jk(n),mN(n)?(n._u.uu(e),gN(n)):n._u.set("Unknown")}),yN.apply(this,arguments)}function V3(n,e,t){return vN.apply(this,arguments)}function vN(){return vN=(0,_e.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof $P&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(i,l){const c=l.cause;for(const f of l.targetIds)i.hu.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.hu.delete(f),i.wu.removeTarget(f))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield P1(n,r)}else if(e instanceof y1?n.wu.Ut(e):e instanceof GP?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(Bt.min()))try{const r=yield Bk(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const c=i.wu.Yt(l);return c.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=i.hu.get(_);b&&i.hu.set(_,b.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach(f=>{const _=i.hu.get(f);if(!_)return;i.hu.set(f,_.withResumeToken(wi.EMPTY_BYTE_STRING,_.snapshotVersion)),Kk(i,f);const b=new Ph(_.target,f,1,_.sequenceNumber);pN(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){He("RemoteStore","Failed to raise snapshot:",r),yield P1(n,r)}var r}),vN.apply(this,arguments)}function P1(n,e,t){return bN.apply(this,arguments)}function bN(){return bN=(0,_e.Z)(function*(n,e,t){if(!Ah(e))throw e;n.lu.add(1),yield z_(n),n._u.set("Offline"),t||(t=()=>Bk(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield mb(n)}))}),bN.apply(this,arguments)}function Qk(n,e){return e().catch(t=>P1(n,t,e))}function Z_(n){return wN.apply(this,arguments)}function wN(){return wN=(0,_e.Z)(function*(n){const e=at(n),t=Uh(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;j3(e);)try{const i=yield S3(e.localStore,r);if(null===i){0===e.au.length&&t.ko();break}r=i.batchId,H3(e,i)}catch(i){yield P1(e,i)}Xk(e)&&eF(e)}),wN.apply(this,arguments)}function j3(n){return Lh(n)&&n.au.length<10}function H3(n,e){n.au.push(e);const t=Uh(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function Xk(n){return Lh(n)&&!Uh(n).Do()&&n.au.length>0}function eF(n){Uh(n).start()}function G3(n){return EN.apply(this,arguments)}function EN(){return EN=(0,_e.Z)(function*(n){Uh(n).Xo()}),EN.apply(this,arguments)}function $3(n){return DN.apply(this,arguments)}function DN(){return DN=(0,_e.Z)(function*(n){const e=Uh(n);for(const t of n.au)e.Ho(t.mutations)}),DN.apply(this,arguments)}function z3(n,e,t){return TN.apply(this,arguments)}function TN(){return TN=(0,_e.Z)(function*(n,e,t){const r=n.au.shift(),i=qA.from(r,e,t);yield Qk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Z_(n)}),TN.apply(this,arguments)}function Z3(n,e){return CN.apply(this,arguments)}function CN(){return CN=(0,_e.Z)(function*(n,e){var t;e&&Uh(n).zo&&(yield(t=(0,_e.Z)(function*(r,i){if(UP(l=i.code)&&l!==fe.ABORTED){const c=r.au.shift();Uh(r).No(),yield Qk(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Z_(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),Xk(n)&&eF(n)}),CN.apply(this,arguments)}function tF(n,e){return SN.apply(this,arguments)}function SN(){return SN=(0,_e.Z)(function*(n,e){const t=at(n);t.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const r=Lh(t);t.lu.add(3),yield z_(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield mb(t)}),SN.apply(this,arguments)}function IN(n,e){return AN.apply(this,arguments)}function AN(){return AN=(0,_e.Z)(function*(n,e){const t=at(n);e?(t.lu.delete(2),yield mb(t)):e||(t.lu.add(2),yield z_(t),t._u.set("Unknown"))}),AN.apply(this,arguments)}function q_(n){return n.mu||(n.mu=function(e,t,r){const i=at(e);return i.tu(),new x3(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:U3.bind(null,n),Jr:B3.bind(null,n),Go:V3.bind(null,n)}),n.fu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.mu.No(),mN(n)?gN(n):n._u.set("Unknown")):(yield n.mu.stop(),Jk(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Uh(n){return n.gu||(n.gu=function(e,t,r){const i=at(e);return i.tu(),new P3(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:G3.bind(null,n),Jr:Z3.bind(null,n),Yo:$3.bind(null,n),Jo:z3.bind(null,n)}),n.fu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.gu.No(),yield Z_(n)):(yield n.gu.stop(),n.au.length>0&&(He("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class NN{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,l){const c=Date.now()+r,f=new NN(e,t,c,i,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W_(n,e){if(ai("AsyncQueue",`${e}: ${n}`),Ah(n))return new Re(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class Y_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||rt.comparator(t.key,r.key):(t,r)=>rt.comparator(t.key,r.key),this.keyedMap=X0(),this.sortedSet=new Rr(this.comparator)}static emptySet(e){return new Y_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Y_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Y_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class nF{constructor(){this.yu=new Rr(rt.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):mt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class K_{constructor(e,t,r,i,l,c,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new K_(e,t,Y_.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&K0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class q3{constructor(){this.Iu=void 0,this.listeners=[]}}class W3{constructor(){this.queries=new xh(e=>EP(e),K0),this.onlineState="Unknown",this.Tu=new Set}}function MN(n,e){return ON.apply(this,arguments)}function ON(){return ON=(0,_e.Z)(function*(n,e){const t=at(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new q3),i)try{l.Iu=yield t.onListen(r)}catch(c){const f=W_(c,`Initialization of query '${BA(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&PN(t)}),ON.apply(this,arguments)}function RN(n,e){return xN.apply(this,arguments)}function xN(){return xN=(0,_e.Z)(function*(n,e){const t=at(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const c=l.listeners.indexOf(e);c>=0&&(l.listeners.splice(c,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),xN.apply(this,arguments)}function Y3(n,e){const t=at(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Au(i)&&(r=!0);c.Iu=i}}r&&PN(t)}function K3(n,e,t){const r=at(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function PN(n){n.Tu.forEach(e=>{e.next()})}class kN{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new K_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=K_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class J3{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class rF{constructor(e){this.wt=e}Wi(e){return mu(this.wt,e)}zi(e){return e.metadata.exists?XP(this.wt,e.document,!1):Wn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return ki(e)}}class Q3{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=iF(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=pn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new rF(this.wt);for(const i of e)if(i.metadata.queries){const l=r.Wi(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||Xt()).add(l);t.set(c,f)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function I3(n,e,t,r){return sN.apply(this,arguments)}(e.localStore,new rF(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield A3(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function iF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class sF{constructor(e){this.key=e}}class oF{constructor(e){this.key=e}}class aF{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Xt(),this.mutatedKeys=Xt(),this.Lu=TP(e),this.Uu=new Y_(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new nF,i=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,b="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,A)=>{const x=i.get(D),P=VA(this.query,A)?A:null,j=!!x&&this.mutatedKeys.has(x.key),Y=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let ie=!1;x&&P?x.data.isEqual(P.data)?j!==Y&&(r.track({type:3,doc:P}),ie=!0):this.Qu(x,P)||(r.track({type:2,doc:P}),ie=!0,(_&&this.Lu(P,_)>0||b&&this.Lu(P,b)<0)&&(f=!0)):!x&&P?(r.track({type:0,doc:P}),ie=!0):x&&!P&&(r.track({type:1,doc:x}),ie=!0,(_||b)&&(f=!0)),ie&&(P?(c=c.add(P),l=Y?l.add(D):l.delete(D)):(c=c.delete(D),l=l.delete(D)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const D="F"===this.query.limitType?c.last():c.first();c=c.delete(D.key),l=l.delete(D.key),r.track({type:1,doc:D})}return{Uu:c,Gu:r,Oi:f,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Gu.pu();l.sort((b,D)=>function(A,x){const P=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return P(A)-P(x)}(b.type,D.type)||this.Lu(b.doc,D.doc)),this.ju(r);const c=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,_=f!==this.$u;return this.$u=f,0!==l.length||_?{snapshot:new K_(this.query,e.Uu,i,l,e.mutatedKeys,0===f,_,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new nF,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Xt(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new oF(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new sF(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=Xt();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return K_.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class X3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ej{constructor(e){this.key=e,this.Xu=!1}}class tj{constructor(e,t,r,i,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new xh(f=>EP(f),K0),this.ec=new Map,this.nc=new Set,this.sc=new Rr(rt.comparator),this.ic=new Map,this.rc=new QA,this.oc={},this.uc=new Map,this.cc=Xp.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function nj(n,e){return FN.apply(this,arguments)}function FN(){return FN=(0,_e.Z)(function*(n,e){const t=sM(n);let r,i;const l=t.tc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.Yu();else{const c=yield G_(t.localStore,Aa(e));t.isPrimaryClient&&x1(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield LN(t,e,r,"current"===f)}return i}),FN.apply(this,arguments)}function LN(n,e,t,r){return UN.apply(this,arguments)}function UN(){return UN=(0,_e.Z)(function*(n,e,t,r){n.hc=(D,A,x)=>{return(P=(0,_e.Z)(function*(j,Y,ie,we){let ke=Y.view.Ku(ie);ke.Oi&&(ke=yield N1(j.localStore,Y.query,!1).then(({documents:et})=>Y.view.Ku(et,ke)));const Qe=we&&we.targetChanges.get(Y.targetId),je=Y.view.applyChanges(ke,j.isPrimaryClient,Qe);return WN(j,Y.targetId,je.zu),je.snapshot}),function(j,Y,ie,we){return P.apply(this,arguments)})(n,D,A,x);var P};const i=yield N1(n.localStore,e,!0),l=new aF(e,i.ji),c=l.Ku(i.documents),f=nb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=l.applyChanges(c,n.isPrimaryClient,f);WN(n,t,_.zu);const b=new X3(e,t,l);return n.tc.set(e,b),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),_.snapshot}),UN.apply(this,arguments)}function rj(n,e){return BN.apply(this,arguments)}function BN(){return BN=(0,_e.Z)(function*(n,e){const t=at(n),r=t.tc.get(e),i=t.ec.get(r.targetId);if(i.length>1)return t.ec.set(r.targetId,i.filter(l=>!K0(l,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield $_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),_b(t.remoteStore,r.targetId),J_(t,r.targetId)}).catch(Ih))):(J_(t,r.targetId),yield $_(t.localStore,r.targetId,!0))}),BN.apply(this,arguments)}function VN(){return VN=(0,_e.Z)(function*(n,e,t){const r=oM(n);try{const i=yield function(l,c){const f=at(l),_=dr.now(),b=c.reduce((x,P)=>x.add(P.key),Xt());let D,A;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let P=lo(),j=Xt();return f.Ui.getEntries(x,b).next(Y=>{P=Y,P.forEach((ie,we)=>{we.isValidDocument()||(j=j.add(ie))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,P)).next(Y=>{D=Y;const ie=[];for(const we of c){const ke=pV(we,D.get(we.key).overlayedDocument);null!=ke&&ie.push(new zc(we.key,ke,fP(ke.value.mapValue),Er.exists(!0)))}return f.mutationQueue.addMutationBatch(x,_,ie,c)}).next(Y=>{A=Y;const ie=Y.applyToLocalDocumentSet(D,j);return f.documentOverlayCache.saveOverlays(x,Y.batchId,ie)})}).then(()=>({batchId:A.batchId,changes:jP(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,f){let _=l.oc[l.currentUser.toKey()];_||(_=new Rr(Wt)),_=_.insert(c,f),l.oc[l.currentUser.toKey()]=_}(r,i.batchId,t),yield Zc(r,i.changes),yield Z_(r.remoteStore)}catch(i){const l=W_(i,"Failed to persist write");t.reject(l)}}),VN.apply(this,arguments)}function lF(n,e){return jN.apply(this,arguments)}function jN(){return jN=(0,_e.Z)(function*(n,e){const t=at(n);try{const r=yield function C3(n,e){const t=at(n),r=e.snapshotVersion;let i=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Ui.newChangeBuffer({trackRemovals:!0});i=t.$i;const f=[];e.targetChanges.forEach((D,A)=>{const x=i.get(A);if(!x)return;f.push(t.Vs.removeMatchingKeys(l,D.removedDocuments,A).next(()=>t.Vs.addMatchingKeys(l,D.addedDocuments,A)));let P=x.withSequenceNumber(l.currentSequenceNumber);var j,Y,ie;e.targetMismatches.has(A)?P=P.withResumeToken(wi.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):D.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(D.resumeToken,r)),i=i.insert(A,P),Y=P,ie=D,(0===(j=x).resumeToken.approximateByteSize()||Y.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0)&&f.push(t.Vs.updateTargetData(l,P))});let _=lo(),b=Xt();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,D))}),f.push(Vk(l,c,e.documentUpdates).next(D=>{_=D.Gi,b=D.Qi})),!r.isEqual(Bt.min())){const D=t.Vs.getLastRemoteSnapshotVersion(l).next(A=>t.Vs.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(D)}return le.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,_,b)).next(()=>_)}).then(l=>(t.$i=i,l))}(t.localStore,e);e.targetChanges.forEach((i,l)=>{const c=t.ic.get(l);c&&(Ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Xu=!0:i.modifiedDocuments.size>0?Ht(c.Xu):i.removedDocuments.size>0&&(Ht(c.Xu),c.Xu=!1))}),yield Zc(t,r,e)}catch(r){yield Ih(r)}}),jN.apply(this,arguments)}function uF(n,e,t){const r=at(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.tc.forEach((l,c)=>{const f=c.view.Eu(e);f.snapshot&&i.push(f.snapshot)}),function(l,c){const f=at(l);f.onlineState=c;let _=!1;f.queries.forEach((b,D)=>{for(const A of D.listeners)A.Eu(c)&&(_=!0)}),_&&PN(f)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function sj(n,e,t){return HN.apply(this,arguments)}function HN(){return HN=(0,_e.Z)(function*(n,e,t){const r=at(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ic.get(e),l=i&&i.key;if(l){let c=new Rr(rt.comparator);c=c.insert(l,Wn.newNoDocument(l,Bt.min()));const f=Xt().add(l),_=new tb(Bt.min(),new Map,new Fn(Wt),c,f);yield lF(r,_),r.sc=r.sc.remove(l),r.ic.delete(e),YN(r)}else yield $_(r.localStore,e,!1).then(()=>J_(r,e,t)).catch(Ih)}),HN.apply(this,arguments)}function oj(n,e){return GN.apply(this,arguments)}function GN(){return GN=(0,_e.Z)(function*(n,e){const t=at(n),r=e.batch.batchId;try{const i=yield function T3(n,e){const t=at(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Ui.newChangeBuffer({trackRemovals:!0});return function(c,f,_,b){const D=_.batch,A=D.keys();let x=le.resolve();return A.forEach(P=>{x=x.next(()=>b.getEntry(f,P)).next(j=>{const Y=_.docVersions.get(P);Ht(null!==Y),j.version.compareTo(Y)<0&&(D.applyToRemoteDocument(j,_),j.isValidDocument()&&(j.setReadTime(_.commitVersion),b.addEntry(j)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(f,D))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Xt();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(f=f.add(c.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);qN(t,r,null),ZN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Zc(t,i)}catch(i){yield Ih(i)}}),GN.apply(this,arguments)}function aj(n,e,t){return $N.apply(this,arguments)}function $N(){return $N=(0,_e.Z)(function*(n,e,t){const r=at(n);try{const i=yield function(l,c){const f=at(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.mutationQueue.lookupMutationBatch(_,c).next(D=>(Ht(null!==D),b=D.keys(),f.mutationQueue.removeMutationBatch(_,D))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,b,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>f.localDocuments.getDocuments(_,b))})}(r.localStore,e);qN(r,e,t),ZN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Zc(r,i)}catch(i){yield Ih(i)}}),$N.apply(this,arguments)}function zN(){return zN=(0,_e.Z)(function*(n,e){const t=at(n);Lh(t.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const c=at(l);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.uc.get(r)||[];i.push(e),t.uc.set(r,i)}catch(r){const i=W_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),zN.apply(this,arguments)}function ZN(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function qN(n,e,t){const r=at(n);let i=r.oc[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function J_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||cF(n,r)})}function cF(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(_b(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),YN(n))}function WN(n,e,t){for(const r of t)r instanceof sF?(n.rc.addReference(r.key,e),uj(n,r)):r instanceof oF?(He("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||cF(n,r.key)):mt()}function uj(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(He("SyncEngine","New document in limbo: "+t),n.nc.add(r),YN(n))}function YN(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new rt(pn.fromString(e)),r=n.cc.next();n.ic.set(r,new ej(t)),n.sc=n.sc.insert(t,r),x1(n.remoteStore,new Ph(Aa(x_(t.path)),r,2,ao.ot))}}function Zc(n,e,t){return KN.apply(this,arguments)}function KN(){return KN=(0,_e.Z)(function*(n,e,t){const r=at(n),i=[],l=[],c=[];var f;r.tc.isEmpty()||(r.tc.forEach((f,_)=>{c.push(r.hc(_,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),i.push(b);const D=nN.Vi(_.targetId,b);l.push(D)}}))}),yield Promise.all(c),r.Zu.Go(i),yield(f=(0,_e.Z)(function*(_,b){const D=at(_);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>le.forEach(b,x=>le.forEach(x.Pi,P=>D.persistence.referenceDelegate.addReference(A,x.targetId,P)).next(()=>le.forEach(x.vi,P=>D.persistence.referenceDelegate.removeReference(A,x.targetId,P)))))}catch(A){if(!Ah(A))throw A;He("LocalStore","Failed to update sequence numbers: "+A)}for(const A of b){const x=A.targetId;if(!A.fromCache){const P=D.$i.get(x),Y=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);D.$i=D.$i.insert(x,Y)}}}),function(_,b){return f.apply(this,arguments)})(r.localStore,l))}),KN.apply(this,arguments)}function cj(n,e){return JN.apply(this,arguments)}function JN(){return JN=(0,_e.Z)(function*(n,e){const t=at(n);if(!t.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const r=yield Uk(t.localStore,e);t.currentUser=e,(i=t).uc.forEach(c=>{c.forEach(f=>{f.reject(new Re(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Zc(t,r.Ki)}var i}),JN.apply(this,arguments)}function dj(n,e){const t=at(n),r=t.ic.get(e);if(r&&r.Xu)return Xt().add(r.key);{let i=Xt();const l=t.ec.get(e);if(!l)return i;for(const c of l){const f=t.tc.get(c);i=i.unionWith(f.view.qu)}return i}}function hj(n,e){return QN.apply(this,arguments)}function QN(){return QN=(0,_e.Z)(function*(n,e){const t=at(n),r=yield N1(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&WN(t,e.targetId,i.zu),i}),QN.apply(this,arguments)}function fj(n,e){return XN.apply(this,arguments)}function XN(){return XN=(0,_e.Z)(function*(n,e){const t=at(n);return Hk(t.localStore,e).then(r=>Zc(t,r))}),XN.apply(this,arguments)}function pj(n,e,t,r){return eM.apply(this,arguments)}function eM(){return eM=(0,_e.Z)(function*(n,e,t,r){const i=at(n),l=yield function(c,f){const _=at(c),b=at(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",D=>b.yn(D,f).next(A=>A?_.localDocuments.getDocuments(D,A):le.resolve(null)))}(i.localStore,e);var f;null!==l?("pending"===t?yield Z_(i.remoteStore):"acknowledged"===t||"rejected"===t?(qN(i,e,r||null),ZN(i,e),f=e,at(at(i.localStore).mutationQueue).In(f)):mt(),yield Zc(i,l)):He("SyncEngine","Cannot apply mutation batch with id: "+e)}),eM.apply(this,arguments)}function tM(){return tM=(0,_e.Z)(function*(n,e){const t=at(n);if(sM(t),oM(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield dF(t,r.toArray());t.ac=!0,yield IN(t.remoteStore,!0);for(const l of i)x1(t.remoteStore,l)}else if(!1===e&&!1!==t.ac){const r=[];let i=Promise.resolve();t.ec.forEach((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(J_(t,c),$_(t.localStore,c,!0))),_b(t.remoteStore,c)}),yield i,yield dF(t,r),function(l){const c=at(l);c.ic.forEach((f,_)=>{_b(c.remoteStore,_)}),c.rc.cs(),c.ic=new Map,c.sc=new Rr(rt.comparator)}(t),t.ac=!1,yield IN(t.remoteStore,!1)}}),tM.apply(this,arguments)}function dF(n,e,t){return nM.apply(this,arguments)}function nM(){return nM=(0,_e.Z)(function*(n,e,t){const r=at(n),i=[],l=[];for(const c of e){let f;const _=r.ec.get(c);if(_&&0!==_.length){f=yield G_(r.localStore,Aa(_[0]));for(const b of _){const D=r.tc.get(b),A=yield hj(r,D);A.snapshot&&l.push(A.snapshot)}}else{const b=yield jk(r.localStore,c);f=yield G_(r.localStore,b),yield LN(r,hF(b),c,!1)}i.push(f)}return r.Zu.Go(l),i}),nM.apply(this,arguments)}function hF(n){return bP(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function mj(n){const e=at(n);return at(at(e.localStore).persistence).Ri()}function _j(n,e,t,r){return rM.apply(this,arguments)}function rM(){return rM=(0,_e.Z)(function*(n,e,t,r){const i=at(n);if(i.ac)return void He("SyncEngine","Ignoring unexpected query state notification.");const l=i.ec.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=yield Hk(i.localStore,DP(l[0])),f=tb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Zc(i,c,f);break}case"rejected":yield $_(i.localStore,e,!0),J_(i,e,r);break;default:mt()}}),rM.apply(this,arguments)}function yj(n,e,t){return iM.apply(this,arguments)}function iM(){return iM=(0,_e.Z)(function*(n,e,t){const r=sM(n);if(r.ac){for(const i of e){if(r.ec.has(i)){He("SyncEngine","Adding an already active target "+i);continue}const l=yield jk(r.localStore,i),c=yield G_(r.localStore,l);yield LN(r,hF(l),c.targetId,!1),x1(r.remoteStore,c)}for(const i of t)r.ec.has(i)&&(yield $_(r.localStore,i,!1).then(()=>{_b(r.remoteStore,i),J_(r,i)}).catch(Ih))}}),iM.apply(this,arguments)}function sM(n){const e=at(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sj.bind(null,e),e.Zu.Go=Y3.bind(null,e.eventManager),e.Zu.lc=K3.bind(null,e.eventManager),e}function oM(n){const e=at(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aj.bind(null,e),e}class fF{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.wt=gb(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return Lk(this.persistence,new Fk,e.initialUser,this.wt)}_c(e){return new Pk(I1.Ms,this.wt)}dc(e){return new Zk}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class pF extends fF{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield oM(r.yc.syncEngine),yield Z_(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return Lk(this.persistence,new Fk,e.initialUser,this.wt)}mc(e,t){return new u3(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new zB(t,this.persistence);return new $B(e.asyncQueue,r)}_c(e){const t=tN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?uo.withCacheSize(this.cacheSizeBytes):uo.DEFAULT;return new eN(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Wk(),R1(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new Zk}}class bj extends pF{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e);const i=r.yc.syncEngine;r.sharedClientState instanceof cN&&(r.sharedClientState.syncEngine={kr:pj.bind(null,i),Or:_j.bind(null,i),Mr:yj.bind(null,i),Ri:mj.bind(null,i),Nr:fj.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var l=(0,_e.Z)(function*(c){yield function gj(n,e){return tM.apply(this,arguments)}(r.yc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return l.apply(this,arguments)}}())})()}dc(e){const t=Wk();if(!cN.V(t))throw new Re(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=tN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cN(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class aM{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>uF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=cj.bind(null,r.syncEngine),yield IN(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new W3}createDatastore(e){const t=gb(e.databaseInfo.databaseId),r=new R3(e.databaseInfo);return new k3(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=f=>uF(this.syncEngine,f,0),c=qk.V()?new qk:new N3,new L3(t,r,i,l,c);var t,r,i,l,c}createSyncEngine(e,t){return function(r,i,l,c,f,_,b){const D=new tj(r,i,l,c,f,_);return b&&(D.ac=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=at(t);He("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield z_(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function gF(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class k1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wj{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new Pi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),i=Number(r);isNaN(i)&&e.Pc(`length string (${r}) is not valid number`);const l=yield e.vc(i);return new J3(JSON.parse(l),t.length+i)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,_e.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Ej{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,_e.Z)(function*(l,c){const f=at(l),_=sb(f.wt)+"/documents",b={documents:c.map(P=>ib(f.wt,P))},D=yield f.ao("BatchGetDocuments",_,b,c.length),A=new Map;D.forEach(P=>{const j=function CV(n,e){return"found"in e?function(t,r){Ht(!!r.found);const i=mu(t,r.found.name),l=ki(r.found.updateTime),c=new Zi({mapValue:{fields:r.found.fields}});return Wn.newFoundDocument(i,l,c)}(n,e):"missing"in e?function(t,r){Ht(!!r.missing),Ht(!!r.readTime);const i=mu(t,r.missing),l=ki(r.readTime);return Wn.newNoDocument(i,l)}(n,e):mt()}(f.wt,P);A.set(j.key.toString(),j)});const x=[];return c.forEach(P=>{const j=A.get(P.toString());Ht(!!j),x.push(j)}),x}),function(l,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new U_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=rt.fromPath(i);e.mutations.push(new jA(l,e.precondition(l)))}),yield(r=(0,_e.Z)(function*(i,l){const c=at(i),f=sb(c.wt)+"/documents",_={writes:l.map(b=>ob(c.wt,b))};yield c.ro("Commit",f,_)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw mt();t=Bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Re(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Er.updateTime(t):Er.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Bt.min()))throw new Re(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Er.updateTime(t)}return Er.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Dj{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.Dc=r.maxAttempts,this.So=new dN(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,_e.Z)(function*(){const t=new Ej(e.datastore),r=e.xc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Nc(l)}))}).catch(i=>{e.Nc(i)})}))}xc(e){try{const t=this.updateFunction(e);return!$0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!UP(t)}return!1}}class Tj{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=xi.UNAUTHENTICATED,this.clientId=Yx.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,_e.Z)(function*(f){He("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(He("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=W_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function mF(n,e){return lM.apply(this,arguments)}function lM(){return lM=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,_e.Z)(function*(l){r.isEqual(l)||(yield Uk(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),lM.apply(this,arguments)}function _F(n,e){return uM.apply(this,arguments)}function uM(){return uM=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield cM(n);He("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>tF(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>tF(e.remoteStore,l)),n.onlineComponents=e}),uM.apply(this,arguments)}function cM(n){return dM.apply(this,arguments)}function dM(){return dM=(0,_e.Z)(function*(n){return n.offlineComponents||(He("FirestoreClient","Using default OfflineComponentProvider"),yield mF(n,new fF)),n.offlineComponents}),dM.apply(this,arguments)}function F1(n){return hM.apply(this,arguments)}function hM(){return hM=(0,_e.Z)(function*(n){return n.onlineComponents||(He("FirestoreClient","Using default OnlineComponentProvider"),yield _F(n,new aM)),n.onlineComponents}),hM.apply(this,arguments)}function yF(n){return cM(n).then(e=>e.persistence)}function fM(n){return cM(n).then(e=>e.localStore)}function vF(n){return F1(n).then(e=>e.remoteStore)}function pM(n){return F1(n).then(e=>e.syncEngine)}function Q_(n){return gM.apply(this,arguments)}function gM(){return gM=(0,_e.Z)(function*(n){const e=yield F1(n),t=e.eventManager;return t.onListen=nj.bind(null,e.syncEngine),t.onUnlisten=rj.bind(null,e.syncEngine),t}),gM.apply(this,arguments)}function bF(n,e,t={}){const r=new Pi;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,l,c,f,_){const b=new k1({next:A=>{l.enqueueAndForget(()=>RN(i,D));const x=A.docs.has(c);!x&&A.fromCache?_.reject(new Re(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&A.fromCache&&f&&"server"===f.source?_.reject(new Re(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),D=new kN(x_(c.path),b,{includeMetadataChanges:!0,Du:!0});return MN(i,D)}(yield Q_(n),n.asyncQueue,e,t,r)})),r.promise}function wF(n,e,t={}){const r=new Pi;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,l,c,f,_){const b=new k1({next:A=>{l.enqueueAndForget(()=>RN(i,D)),A.fromCache&&"server"===f.source?_.reject(new Re(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),D=new kN(c,b,{includeMetadataChanges:!0,Du:!0});return MN(i,D)}(yield Q_(n),n.asyncQueue,e,t,r)})),r.promise}const EF=new Map;function mM(n,e,t){if(!t)throw new Re(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DF(n,e,t,r){if(!0===e&&!0===r)throw new Re(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TF(n){if(!rt.isDocumentKey(n))throw new Re(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CF(n){if(rt.isDocumentKey(n))throw new Re(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function L1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":mt()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=L1(n);throw new Re(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function SF(n,e){if(e<=0)throw new Re(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class IF{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,DF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yb{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IF({}),this._settingsFrozen=!1,e instanceof Gc?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Re(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gc(i.options.projectId)}(e))}get app(){if(!this._app)throw new Re(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new PB;switch(t.type){case"gapi":const r=t.client;return Ht(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new UB(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Re(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=EF.get(e);t&&(He("ComponentProvider","Removing Datastore"),EF.delete(e),t.terminate())}(this),Promise.resolve()}}class nr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nr(this.firestore,e,this._key)}}class hs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class yu extends hs{constructor(e,t,r){super(e,t,x_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nr(this.firestore,null,new rt(e))}withConverter(e){return new yu(this.firestore,e,this._path)}}function AF(n,e,...t){if(n=(0,Qt.m9)(n),mM("collection","path",e),n instanceof yb){const r=pn.fromString(e,...t);return CF(r),new yu(n,null,r)}{if(!(n instanceof nr||n instanceof yu))throw new Re(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pn.fromString(e,...t));return CF(r),new yu(n.firestore,null,r)}}function U1(n,e,...t){if(n=(0,Qt.m9)(n),1===arguments.length&&(e=Yx.I()),mM("doc","path",e),n instanceof yb){const r=pn.fromString(e,...t);return TF(r),new nr(n,null,new rt(r))}{if(!(n instanceof nr||n instanceof yu))throw new Re(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pn.fromString(e,...t));return TF(r),new nr(n.firestore,n instanceof yu?n.converter:null,new rt(r))}}function NF(n,e){return n=(0,Qt.m9)(n),e=(0,Qt.m9)(e),(n instanceof nr||n instanceof yu)&&(e instanceof nr||e instanceof yu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function MF(n,e){return n=(0,Qt.m9)(n),e=(0,Qt.m9)(e),n instanceof hs&&e instanceof hs&&n.firestore===e.firestore&&K0(n._query,e._query)&&n.converter===e.converter}class kj{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new dN(this,"async_queue_retry"),this.Kc=()=>{const t=R1();t&&He("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=R1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=R1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Pi;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!Ah(t))throw t;He("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,ai("INTERNAL UNHANDLED ERROR: ",function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),c}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Oc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const i=NN.createAndSchedule(this,e,t,r,l=>this.Wc(l));return this.$c.push(i),i}Gc(){this.Bc&&mt()}verifyOperationInProgress(){}zc(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function _M(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Fj{constructor(){this._progressObserver={},this._taskCompletionResolver=new Pi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class hr extends yb{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new kj,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||OF(this),this._firestoreClient.terminate()}}function ui(n){return n._firestoreClient||OF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function OF(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new WB(n._databaseId,l,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new Tj(n._authCredentials,n._appCheckCredentials,n._queue,r)}function RF(n,e,t){const r=new Pi;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield mF(n,t),yield _F(n,e),r.resolve()}catch(i){const l=i;if(!("FirebaseError"===(c=l).name?c.code===fe.FAILED_PRECONDITION||c.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var c})).then(()=>r.promise)}function xF(n){if(n._initialized||n._terminated)throw new Re(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vu(wi.fromBase64String(e))}catch(t){throw new Re(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vu(wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tg{constructor(e){this._methodName=e}}class B1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}}const Zj=/^__.*__$/;class qj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new zc(e,this.data,this.fieldMask,t,this.fieldTransforms):new L_(e,this.data,t,this.fieldTransforms)}}class PF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new zc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class V1{constructor(e,t,r,i,l,c){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=i,void 0===l&&this.Xc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new V1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return G1(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(kF(this.Zc)&&Zj.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class Wj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||gb(e)}aa(e,t,r,i=!1){return new V1({Zc:e,methodName:t,ca:r,path:$r.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function ng(n){const e=n._freezeSettings(),t=gb(n._databaseId);return new Wj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function j1(n,e,t,r,i,l={}){const c=n.aa(l.merge||l.mergeFields?2:0,e,t,i);wM("Data must be an object, but it was:",c,r);const f=UF(r,c);let _,b;if(l.merge)_=new Zo(c.fieldMask),b=c.fieldTransforms;else if(l.mergeFields){const D=[];for(const A of l.mergeFields){const x=EM(e,A,t);if(!c.contains(x))throw new Re(fe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);VF(D,x)||D.push(x)}_=new Zo(D),b=c.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,b=c.fieldTransforms;return new qj(new Zi(f),_,b)}class vb extends tg{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vb}}function FF(n,e,t){return new V1({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class yM extends tg{_toFieldTransform(e){return new J0(e.path,new k_)}isEqual(e){return e instanceof yM}}class Yj extends tg{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=FF(this,e,!0),r=this.ha.map(l=>rg(l,t)),i=new zp(r);return new J0(e.path,i)}isEqual(e){return this===e}}class Kj extends tg{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=FF(this,e,!0),r=this.ha.map(l=>rg(l,t)),i=new Zp(r);return new J0(e.path,i)}isEqual(e){return this===e}}class Jj extends tg{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new F_(e.wt,IP(e.wt,this.la));return new J0(e.path,t)}isEqual(e){return this===e}}function vM(n,e,t,r){const i=n.aa(1,e,t);wM("Data must be an object, but it was:",i,r);const l=[],c=Zi.empty();Vp(r,(_,b)=>{const D=H1(e,_,t);b=(0,Qt.m9)(b);const A=i.ia(D);if(b instanceof vb)l.push(D);else{const x=rg(b,A);null!=x&&(l.push(D),c.set(D,x))}});const f=new Zo(l);return new PF(c,f,i.fieldTransforms)}function bM(n,e,t,r,i,l){const c=n.aa(1,e,t),f=[EM(e,r,t)],_=[i];if(l.length%2!=0)throw new Re(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)f.push(EM(e,l[x])),_.push(l[x+1]);const b=[],D=Zi.empty();for(let x=f.length-1;x>=0;--x)if(!VF(b,f[x])){const P=f[x];let j=_[x];j=(0,Qt.m9)(j);const Y=c.ia(P);if(j instanceof vb)b.push(P);else{const ie=rg(j,Y);null!=ie&&(b.push(P),D.set(P,ie))}}const A=new Zo(b);return new PF(D,A,c.fieldTransforms)}function LF(n,e,t,r=!1){return rg(t,n.aa(r?4:3,e))}function rg(n,e){if(BF(n=(0,Qt.m9)(n)))return wM("Unsupported field value:",e,n),UF(n,e);if(n instanceof tg)return function(t,r){if(!kF(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const c of t){let f=rg(c,r.ra(l));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Qt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return IP(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=dr.fromDate(t);return{timestampValue:rb(r.wt,i)}}if(t instanceof dr){const i=new dr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:rb(r.wt,i)}}if(t instanceof B1)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof vu)return{bytesValue:WP(r.wt,t._byteString)};if(t instanceof nr){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.oa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:HA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${L1(t)}`)}(n,e)}function UF(n,e){const t={};return rP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vp(n,(r,i)=>{const l=rg(i,e.ea(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function BF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof dr||n instanceof B1||n instanceof vu||n instanceof nr||n instanceof tg)}function wM(n,e,t){if(!BF(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=L1(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function EM(n,e,t){if((e=(0,Qt.m9)(e))instanceof qc)return e._internalPath;if("string"==typeof e)return H1(n,e);throw G1("Field path arguments must be of type string or ",n,!1,void 0,t)}const Qj=new RegExp("[~\\*/\\[\\]]");function H1(n,e,t){if(e.search(Qj)>=0)throw G1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qc(...e.split("."))._internalPath}catch{throw G1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function G1(n,e,t,r,i){const l=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(l||c)&&(_+=" (found",l&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Re(fe.INVALID_ARGUMENT,f+n+_)}function VF(n,e){return n.some(t=>t.isEqual(e))}class bb{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new nr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Xj extends bb{data(){return super.data()}}function $1(n,e){return"string"==typeof e?H1(n,e):e instanceof qc?e._internalPath:e._delegate._internalPath}class ig{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wc extends bb{constructor(e,t,r,i,l,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field($1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class wb extends Wc{data(e={}){return super.data(e)}}class Bh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ig(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new wb(this._firestore,this._userDataWriter,r.key,r,new ig(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new wb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ig(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new wb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ig(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,b=-1;return 0!==c.type&&(_=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),1!==c.type&&(l=l.add(c.doc),b=l.indexOf(c.doc.key)),{type:eH(c.type),doc:f,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function eH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function jF(n,e){return n instanceof Wc&&e instanceof Wc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Bh&&e instanceof Bh&&n._firestore===e._firestore&&MF(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function HF(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eb{}function Vh(n,...e){for(const t of e)n=t._apply(n);return n}class tH extends Eb{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=ng(e.firestore),r=function(i,l,c,f,_,b,D){let A;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){WF(D,b);const P=[];for(const j of D)P.push(qF(f,i,j));A={arrayValue:{values:P}}}else A=qF(f,i,D)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||WF(D,b),A=LF(c,"where",D,"in"===b||"not-in"===b);const x=qi.create(_,b,A);return function(P,j){if(j.ht()){const ie=LA(P);if(null!==ie&&!ie.isEqual(j.field))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ie.toString()}' and '${j.field.toString()}'`);const we=FA(P);null!==we&&YF(0,j.field,we)}const Y=function(ie,we){for(const ke of ie.filters)if(we.indexOf(ke.op)>=0)return ke.op;return null}(P,function(ie){switch(ie){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(j.op));if(null!==Y)throw new Re(fe.INVALID_ARGUMENT,Y===j.op?`Invalid query. You cannot use more than one '${j.op.toString()}' filter.`:`Invalid query. You cannot use '${j.op.toString()}' filters with '${Y.toString()}' filters.`)}(i,x),x}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new hs(e.firestore,e.converter,function(i,l){const c=i.filters.concat([l]);return new $c(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class rH extends Eb{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new R_(i,l);return function(f,_){if(null===FA(f)){const b=LA(f);null!==b&&YF(0,b,_.field)}}(r,c),c}(e._query,this.fa,this.wa);return new hs(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new $c(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class GF extends Eb{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new hs(e.firestore,e.converter,wP(e._query,this.ma,this.ga))}}class $F extends Eb{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=ZF(e,this.type,this.ya,this.pa);return new hs(e.firestore,e.converter,(i=t,new $c((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class zF extends Eb{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=ZF(e,this.type,this.ya,this.pa);return new hs(e.firestore,e.converter,(i=t,new $c((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function ZF(n,e,t,r){if(t[0]=(0,Qt.m9)(t[0]),t[0]instanceof bb)return function(i,l,c,f,_){if(!f)throw new Re(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const D of P_(i))if(D.field.isKeyField())b.push(Gp(l,f.key));else{const A=f.data.field(D.field);if(xA(A))throw new Re(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const x=D.field.canonicalString();throw new Re(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}b.push(A)}return new Rh(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=ng(n.firestore);return function(l,c,f,_,b,D){const A=l.explicitOrderBy;if(b.length>A.length)throw new Re(fe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let P=0;P<b.length;P++){const j=b[P];if(A[P].field.isKeyField()){if("string"!=typeof j)throw new Re(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof j}`);if(!UA(l)&&-1!==j.indexOf("/"))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${j}' contains a slash.`);const Y=l.path.child(pn.fromString(j));if(!rt.isDocumentKey(Y))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Y}' is not because it contains an odd number of segments.`);const ie=new rt(Y);x.push(Gp(c,ie))}else{const Y=LF(f,_,j);x.push(Y)}}return new Rh(x,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function qF(n,e,t){if("string"==typeof(t=(0,Qt.m9)(t))){if(""===t)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UA(e)&&-1!==t.indexOf("/"))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(pn.fromString(t));if(!rt.isDocumentKey(r))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gp(n,new rt(r))}if(t instanceof nr)return Gp(n,t._key);throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${L1(t)}.`)}function WF(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function YF(n,e,t){if(!t.isEqual(e))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const dH={maxAttempts:5};class DM{convertValue(e,t="none"){switch(Hp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mt()}}convertObject(e,t){const r={};return Vp(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new B1(xr(e.latitude),xr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sP(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(G0(e));default:return null}}convertTimestamp(e){const t=Nh(e);return new dr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=pn.fromString(e);Ht(ik(r));const i=new Gc(r.get(1),r.get(3)),l=new rt(r.popFirst(5));return i.isEqual(t)||ai(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function z1(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class hH extends DM{constructor(e){super(),this.firestore=e}convertBytes(e){return new vu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}class KF{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ng(e)}set(e,t,r){this._verifyNotCommitted();const i=jh(e,this._firestore),l=z1(i.converter,t,r),c=j1(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Er.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=jh(e,this._firestore);let c;return c="string"==typeof(t=(0,Qt.m9)(t))||t instanceof qc?bM(this._dataReader,"WriteBatch.update",l._key,t,r,i):vM(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Er.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=jh(e,this._firestore);return this._mutations=this._mutations.concat(new U_(t._key,Er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jh(n,e){if((n=(0,Qt.m9)(n)).firestore!==e)throw new Re(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class sg extends DM{constructor(e){super(),this.firestore=e}convertBytes(e){return new vu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}function JF(n,e,t){n=dn(n,nr);const r=dn(n.firestore,hr),i=z1(n.converter,e,t);return X_(r,[j1(ng(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Er.none())])}function QF(n,e,t,...r){n=dn(n,nr);const i=dn(n.firestore,hr),l=ng(i);let c;return c="string"==typeof(e=(0,Qt.m9)(e))||e instanceof qc?bM(l,"updateDoc",n._key,e,t,r):vM(l,"updateDoc",n._key,e),X_(i,[c.toMutation(n._key,Er.exists(!0))])}function XF(n,...e){var t,r,i;n=(0,Qt.m9)(n);let l={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||_M(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges};if(_M(e[c])){const A=e[c];e[c]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[c+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[c+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let _,b,D;if(n instanceof nr)b=dn(n.firestore,hr),D=x_(n._key.path),_={next:A=>{e[c]&&e[c](TM(b,n,A))},error:e[c+1],complete:e[c+2]};else{const A=dn(n,hs);b=dn(A.firestore,hr),D=A._query;const x=new sg(b);_={next:P=>{e[c]&&e[c](new Bh(b,x,A,P))},error:e[c+1],complete:e[c+2]},HF(n._query)}return function(A,x,P,j){const Y=new k1(j),ie=new kN(x,Y,P);return A.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return MN(yield Q_(A),ie)})),()=>{Y.Tc(),A.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return RN(yield Q_(A),ie)}))}}(ui(b),D,f,_)}function X_(n,e){return function(t,r){const i=new Pi;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function ij(n,e,t){return VN.apply(this,arguments)}(yield pM(t),r,i)})),i.promise}(ui(n),e)}function TM(n,e,t){const r=t.docs.get(e._key),i=new sg(n);return new Wc(n,i,e._key,r,new ig(t.hasPendingWrites,t.fromCache),e.converter)}class EH extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ng(e)}get(e){const t=jh(e,this._firestore),r=new hH(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return mt();const l=i[0];if(l.isFoundDocument())return new bb(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new bb(this._firestore,r,t._key,null,t.converter);throw mt()})}set(e,t,r){const i=jh(e,this._firestore),l=z1(i.converter,t,r),c=j1(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const l=jh(e,this._firestore);let c;return c="string"==typeof(t=(0,Qt.m9)(t))||t instanceof qc?bM(this._dataReader,"Transaction.update",l._key,t,r,i):vM(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=jh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=jh(e,this._firestore),r=new sg(this._firestore);return super.get(e).then(i=>new Wc(this._firestore,r,t._key,i._document,new ig(!1,!1),t.converter))}}!function(n,e=!0){A_=du.SDK_VERSION,(0,du._registerComponent)(new t_.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new hr(i,new FB(t.getProvider("auth-internal")),new BB(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,du.registerVersion)(Zx,"3.4.13",n),(0,du.registerVersion)(Zx,"3.4.13","esm2017")}();function CM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function tL(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function nL(){if(!function ZB(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Db{constructor(e){this._delegate=e}static fromBase64String(e){return nL(),new Db(vu.fromBase64String(e))}static fromUint8Array(e){return tL(),new Db(vu.fromUint8Array(e))}toBase64(){return nL(),this._delegate.toBase64()}toUint8Array(){return tL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function SM(n){return function OH(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class RH{enableIndexedDbPersistence(e,t){return function Uj(n,e){xF(n=dn(n,hr));const t=ui(n),r=n._freezeSettings(),i=new aM;return RF(t,i,new pF(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Bj(n){xF(n=dn(n,hr));const e=ui(n),t=n._freezeSettings(),r=new aM;return RF(e,r,new bj(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Vj(n){if(n._initialized&&!n._terminated)throw new Re(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Pi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(r){if(!vl.V())return Promise.resolve();const i=r+"main";yield vl.delete(i)}),function(r){return t.apply(this,arguments)})(tN(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class rL{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Gc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&B0("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function xj(n,e,t,r={}){var i;const l=(n=dn(n,yb))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&B0("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=xi.MOCK_USER;else{c=(0,Qt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Re(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new xi(_)}n._authCredentials=new kB(new qx(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function Hj(n){return function Cj(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield yF(n),t=yield vF(n);return e.setNetworkEnabled(!0),function(r){const i=at(r);return i.lu.delete(0),mb(i)}(t)}))}(ui(n=dn(n,hr)))}(this._delegate)}disableNetwork(){return function Gj(n){return function Sj(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield yF(n),t=yield vF(n);return e.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(i){const l=at(i);l.lu.add(0),yield z_(l),l._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(ui(n=dn(n,hr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,DF("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function jj(n){return function(e){const t=new Pi;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function lj(n,e){return zN.apply(this,arguments)}(yield pM(e),t)})),t.promise}(ui(n=dn(n,hr)))}(this._delegate)}onSnapshotsInSync(e){return function wH(n,e){return function Nj(n,e){const t=new k1(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield Q_(n),i=t,at(r).Tu.add(i),void i.next();var r,i})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield Q_(n),i=t,void at(r).Tu.delete(i);var r,i}))}}(ui(n=dn(n,hr)),_M(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ey(this,AF(this._delegate,e))}catch(t){throw Hs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Na(this,U1(this._delegate,e))}catch(t){throw Hs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Gs(this,function Pj(n,e){if(n=dn(n,yb),mM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new hs(n,null,(t=e,new $c(pn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Hs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function DH(n,e,t){n=dn(n,hr);const r=Object.assign(Object.assign({},dH),t);return function(i){if(i.maxAttempts<1)throw new Re(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function Mj(n,e,t){const r=new Pi;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const i=yield(l=n,F1(l).then(c=>c.datastore));var l;new Dj(n.asyncQueue,i,t,e,r).run()})),r.promise}(ui(n),i=>e(new EH(n,i)),r)}(this._delegate,t=>e(new iL(this,t)))}batch(){return ui(this._delegate),new sL(new KF(this._delegate,e=>X_(this._delegate,e)))}loadBundle(e){return function $j(n,e){const t=ui(n=dn(n,hr)),r=new Fj;return function Oj(n,e,t,r){const i=function(l,c){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,b){if(_ instanceof Uint8Array)return gF(_,b);if(_ instanceof ArrayBuffer)return gF(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new wj(_,c);var _}(t,gb(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function vj(n,e,t){const r=at(n);var i;(i=(0,_e.Z)(function*(l,c,f){try{const _=yield c.getMetadata();if(yield function(x,P){const j=at(x),Y=ki(P.createTime);return j.persistence.runTransaction("hasNewerBundle","readonly",ie=>j.Ds.getBundleMetadata(ie,P.id)).then(ie=>!!ie&&ie.createTime.compareTo(Y)>=0)}(l.localStore,_))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(x=_).totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}),Promise.resolve(new Set);f._updateProgress(iF(_));const b=new Q3(_,l.localStore,c.wt);let D=yield c.fc();for(;D;){const x=yield b.Nu(D);x&&f._updateProgress(x),D=yield c.fc()}const A=yield b.complete();return yield Zc(l,A.Mu,void 0),yield function(x,P){const j=at(x);return j.persistence.runTransaction("Save bundle","readwrite",Y=>j.Ds.saveBundleMetadata(Y,P))}(l.localStore,_),f._completeWith(A.progress),Promise.resolve(A.Ou)}catch(_){return B0("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var x}),function(l,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield pM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function zj(n,e){return function Rj(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,r){const i=at(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ds.getNamedQuery(l,r))}(yield fM(n),e)}))}(ui(n=dn(n,hr)),e).then(t=>t?new hs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Gs(this,t):null)}}class Z1 extends DM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Db(new vu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Na.forKey(t,this.firestore,null)}}class iL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Z1(e)}get(e){const t=ag(e);return this._delegate.get(t).then(r=>new Tb(this._firestore,new Wc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ag(e);return r?(CM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=ag(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=ag(e);return this._delegate.delete(t),this}}class sL{constructor(e){this._delegate=e}set(e,t,r){const i=ag(e);return r?(CM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=ag(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=ag(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class og{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new wb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Cb(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=og.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new og(e,new Z1(e),t),i.set(t,l)),l}}og.INSTANCES=new WeakMap;class Na{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Z1(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Na(t,new nr(t._delegate,r,new rt(e)))}static forKey(e,t,r){return new Na(t,new nr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ey(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ey(this.firestore,AF(this._delegate,e))}catch(t){throw Hs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qt.m9)(e))instanceof nr&&NF(this._delegate,e)}set(e,t){t=CM("DocumentReference.set",t);try{return t?JF(this._delegate,e,t):JF(this._delegate,e)}catch(r){throw Hs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?QF(this._delegate,e):QF(this._delegate,e,t,...r)}catch(i){throw Hs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function vH(n){return X_(dn(n.firestore,hr),[new U_(n._key,Er.none())])}(this._delegate)}onSnapshot(...e){const t=oL(e),r=aL(e,i=>new Tb(this.firestore,new Wc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return XF(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function pH(n){n=dn(n,nr);const e=dn(n.firestore,hr),t=ui(e),r=new sg(e);return function Ij(n,e){const t=new Pi;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,l,c){try{const f=yield function(_,b){const D=at(_);return D.persistence.runTransaction("read document","readonly",A=>D.localDocuments.getDocument(A,b))}(i,l);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Re(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=W_(f,`Failed to get document '${l} from cache`);c.reject(_)}}),function(i,l,c){return r.apply(this,arguments)})(yield fM(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Wc(e,r,n._key,i,new ig(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function gH(n){n=dn(n,nr);const e=dn(n.firestore,hr);return bF(ui(e),n._key,{source:"server"}).then(t=>TM(e,n,t))}(this._delegate):function fH(n){n=dn(n,nr);const e=dn(n.firestore,hr);return bF(ui(e),n._key).then(t=>TM(e,n,t))}(this._delegate),t.then(r=>new Tb(this.firestore,new Wc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Na(this.firestore,this._delegate.withConverter(e?og.getInstance(this.firestore,e):null))}}function Hs(n,e,t){return n.message=n.message.replace(e,t),n}function oL(n){for(const e of n)if("object"==typeof e&&!SM(e))return e;return{}}function aL(n,e){var t,r;let i;return i=SM(n[0])?n[0]:SM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Tb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Na(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return jF(this._delegate,e._delegate)}}class Cb extends Tb{data(e){const t=this._delegate.data(e);return function xB(n,e){n||mt()}(void 0!==t),t}}class Gs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Z1(e)}where(e,t,r){try{return new Gs(this.firestore,Vh(this._delegate,function nH(n,e,t){const r=e,i=$1("where",n);return new tH(i,r,t)}(e,t,r)))}catch(i){throw Hs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Gs(this.firestore,Vh(this._delegate,function iH(n,e="asc"){const t=e,r=$1("orderBy",n);return new rH(r,t)}(e,t)))}catch(r){throw Hs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Gs(this.firestore,Vh(this._delegate,function sH(n){return SF("limit",n),new GF("limit",n,"F")}(e)))}catch(t){throw Hs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Gs(this.firestore,Vh(this._delegate,function oH(n){return SF("limitToLast",n),new GF("limitToLast",n,"L")}(e)))}catch(t){throw Hs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Gs(this.firestore,Vh(this._delegate,function aH(...n){return new $F("startAt",n,!0)}(...e)))}catch(t){throw Hs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Gs(this.firestore,Vh(this._delegate,function lH(...n){return new $F("startAfter",n,!1)}(...e)))}catch(t){throw Hs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Gs(this.firestore,Vh(this._delegate,function uH(...n){return new zF("endBefore",n,!1)}(...e)))}catch(t){throw Hs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Gs(this.firestore,Vh(this._delegate,function cH(...n){return new zF("endAt",n,!0)}(...e)))}catch(t){throw Hs(t,"endAt()","Query.endAt()")}}isEqual(e){return MF(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function _H(n){n=dn(n,hs);const e=dn(n.firestore,hr),t=ui(e),r=new sg(e);return function Aj(n,e){const t=new Pi;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,l,c){try{const f=yield N1(i,l,!0),_=new aF(l,f.ji),b=_.Ku(f.documents),D=_.applyChanges(b,!1);c.resolve(D.snapshot)}catch(f){const _=W_(f,`Failed to execute query '${l} against cache`);c.reject(_)}}),function(i,l,c){return r.apply(this,arguments)})(yield fM(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Bh(e,r,n,i))}(this._delegate):"server"===e?.source?function yH(n){n=dn(n,hs);const e=dn(n.firestore,hr),t=ui(e),r=new sg(e);return wF(t,n._query,{source:"server"}).then(i=>new Bh(e,r,n,i))}(this._delegate):function mH(n){n=dn(n,hs);const e=dn(n.firestore,hr),t=ui(e),r=new sg(e);return HF(n._query),wF(t,n._query).then(i=>new Bh(e,r,n,i))}(this._delegate),t.then(r=>new IM(this.firestore,new Bh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=oL(e),r=aL(e,i=>new IM(this.firestore,new Bh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return XF(this._delegate,t,r)}withConverter(e){return new Gs(this.firestore,this._delegate.withConverter(e?og.getInstance(this.firestore,e):null))}}class PH{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Cb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class IM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Gs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Cb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new PH(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Cb(this._firestore,r))})}isEqual(e){return jF(this._delegate,e._delegate)}}class ey extends Gs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Na(this.firestore,e):null}doc(e){try{return new Na(this.firestore,void 0===e?U1(this._delegate):U1(this._delegate,e))}catch(t){throw Hs(t,"doc()","CollectionReference.doc()")}}add(e){return function bH(n,e){const t=dn(n.firestore,hr),r=U1(n),i=z1(n.converter,e);return X_(t,[j1(ng(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Er.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Na(this.firestore,t))}isEqual(e){return NF(this._delegate,e._delegate)}withConverter(e){return new ey(this.firestore,this._delegate.withConverter(e?og.getInstance(this.firestore,e):null))}}function ag(n){return dn(n,nr)}class AM{constructor(...e){this._delegate=new qc(...e)}static documentId(){return new AM($r.keyField().canonicalString())}isEqual(e){return(e=(0,Qt.m9)(e))instanceof qc&&this._delegate._internalPath.isEqual(e._internalPath)}}class lg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function CH(){return new yM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new lg(e)}static delete(){const e=function TH(){return new vb("deleteField")}();return e._methodName="FieldValue.delete",new lg(e)}static arrayUnion(...e){const t=function SH(...n){return new Yj("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new lg(t)}static arrayRemove(...e){const t=function IH(...n){return new Kj("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new lg(t)}static increment(e){const t=function AH(n){return new Jj("increment",n)}(e);return t._methodName="FieldValue.increment",new lg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const kH={Firestore:rL,GeoPoint:B1,Timestamp:dr,Blob:Db,Transaction:iL,WriteBatch:sL,DocumentReference:Na,DocumentSnapshot:Tb,Query:Gs,QueryDocumentSnapshot:Cb,QuerySnapshot:IM,CollectionReference:ey,FieldPath:AM,FieldValue:lg,setLogLevel:function xH(n){!function RB(n){Sh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function LH(n){(function FH(n,e){n.INTERNAL.registerComponent(new t_.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},kH)))})(n,(e,t)=>new rL(e,t,new RH)),n.registerVersion("@firebase/firestore-compat","0.1.22")}(rA.Z);var q1=k(5363),UH=k(6063);class BH extends fn.x{constructor(e=1/0,t=1/0,r=UH.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:c}=this;t||(r.push(e),!i&&r.push(l.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let c=0;c<l.length&&!e.closed;c+=r?1:2)e.next(l[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const c=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)f=_;f&&r.splice(0,f+1)}}}var VH=k(3099);function lL(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,VH.B)({connector:()=>new BH(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const W1=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Y1(n){return(0,ar.e)((e,t)=>{let r=!1;e.subscribe((0,Cn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function uL(n=HH){return(0,ar.e)((e,t)=>{let r=!1;e.subscribe((0,Cn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function HH(){return new W1}function Yc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Sn((i,l)=>n(i,l,r)):Gd.y,Xn(1),t?Y1(e):uL(()=>new W1))}function cL(n,e){return(0,ko.m)(e)?Mr(()=>n,e):Mr(()=>n)}var NM=k(9468);k(5867);const hL=new Map,qH={activated:!1,tokenObservers:[]},WH={initialized:!1,enabled:!1};function Ui(n){return hL.get(n)||qH}function bl(n,e){hL.set(n,e)}function J1(){return WH}const OM="https://content-firebaseappcheck.googleapis.com/v1",JH="exchangeDebugToken",fL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class XH{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new Qt.BH,yield function eG(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Qt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const $s=new Qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function PM(){return PM=(0,_e.Z)(function*({url:n,body:e},t){var r,i;const l={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const P=yield c.getHeartbeatsHeader();P&&(l["X-Firebase-Client"]=P)}const f={method:"POST",body:JSON.stringify(e),headers:l};let _,b;try{_=yield fetch(n,f)}catch(P){throw $s.create("fetch-network-error",{originalErrorMessage:null===(r=P)||void 0===r?void 0:r.message})}if(200!==_.status)throw $s.create("fetch-status-error",{httpStatus:_.status});try{b=yield _.json()}catch(P){throw $s.create("fetch-parse-error",{originalErrorMessage:null===(i=P)||void 0===i?void 0:i.message})}const D=b.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw $s.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const A=1e3*Number(D[1]),x=Date.now();return{token:b.token,expireTimeMillis:x+A,issuedAtTimeMillis:x}}),PM.apply(this,arguments)}const sG="firebase-app-check-database",oG=1,Sb="firebase-app-check-store";let eT=null;function kM(){return kM=(0,_e.Z)(function*(n,e){const r=(yield function mL(){return eT||(eT=new Promise((n,e)=>{var t;try{const r=indexedDB.open(sG,oG);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var l;e($s.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Sb,{keyPath:"compositeKey"})}}catch(r){e($s.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),eT)}()).transaction(Sb,"readwrite"),l=r.objectStore(Sb).put({compositeKey:n,value:e});return new Promise((c,f)=>{l.onsuccess=_=>{c()},r.onerror=_=>{var b;f($s.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),kM.apply(this,arguments)}const Ib=new ml.Yd("@firebase/app-check");function bL(n,e){return(0,Qt.hl)()?function lG(n,e){return function _L(n,e){return kM.apply(this,arguments)}(function vL(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ib.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function BM(){return BM=(0,_e.Z)(function*(){const n=J1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),BM.apply(this,arguments)}const pG={error:"UNKNOWN_ERROR"};function gG(n){return Qt.US.encodeString(JSON.stringify(n),!1)}function tT(n){return VM.apply(this,arguments)}function VM(){return VM=(0,_e.Z)(function*(n,e=!1){const t=n.app;!function pL(n){if(!Ui(n).activated)throw $s.create("use-before-activation",{appName:n.name})}(t);const r=Ui(t);let l,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&nT(_)&&(i=_)}if(!e&&i&&nT(i))return{token:i.token};let f,c=!1;if(function wL(){return J1().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function xM(n,e){return PM.apply(this,arguments)}(function iG(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${OM}/projects/${t}/apps/${r}:${JH}?key=${i}`,body:{debug_token:e}}}(t,yield function EL(){return BM.apply(this,arguments)}()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),c=!0);const _=yield r.exchangeTokenPromise;return yield bL(t,_),bl(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),c=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Ib.warn(_.message):Ib.error(_),l=_}return i?(f={token:i.token},bl(t,Object.assign(Object.assign({},r),{token:i})),yield bL(t,i)):f=function _G(n){return{token:gG(pG),error:n}}(l),c&&function TL(n,e){const t=Ui(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f}),VM.apply(this,arguments)}function HM(n,e){const t=Ui(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),bl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function DL(n){const{app:e}=n,t=Ui(e);let r=t.tokenRefresher;r||(r=function mG(n){const{app:e}=n;return new XH((0,_e.Z)(function*(){let r;if(r=Ui(e).token?yield tT(n,!0):yield tT(n),r.error)throw r.error}),()=>!0,()=>{const t=Ui(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},fL.RETRIAL_MIN_WAIT,fL.RETRIAL_MAX_WAIT)}(n),bl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function nT(n){return n.expireTimeMillis-Date.now()>0}class yG{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ui(this.app);for(const t of e)HM(this.app,t.next);return Promise.resolve()}}const RL="app-check-internal";!function RG(){(0,du._registerComponent)(new t_.wA("app-check",n=>function vG(n,e){return new yG(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(RL).initialize()})),(0,du._registerComponent)(new t_.wA(RL,n=>function bG(n){return{getToken:e=>tT(n,e),addTokenListener:e=>function jM(n,e,t,r){const{app:i}=n,l=Ui(i),c={next:t,error:r,type:e};if(bl(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,c]})),l.token&&nT(l.token)){const f=l.token;Promise.resolve().then(()=>{t({token:f.token}),DL(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>DL(n))}(n,"INTERNAL",e),removeTokenListener:e=>HM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,du.registerVersion)("@firebase/app-check","0.5.12")}();class ZM{constructor(){return(0,Ai.vb)("app-check")}}typeof window<"u"&&window;var LG=k(127);const PL=new s.OlP("angularfire2.auth.use-emulator"),kL=new s.OlP("angularfire2.auth.settings"),FL=new s.OlP("angularfire2.auth.tenant-id"),LL=new s.OlP("angularfire2.auth.langugage-code"),UL=new s.OlP("angularfire2.auth.use-device-language"),BL=new s.OlP("angularfire.auth.persistence"),VL=(n,e,t,r,i,l,c,f)=>(0,Bs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,l&&_.useDeviceLanguage(),c)for(const[b,D]of Object.entries(c))_.settings[b]=D;return f&&_.setPersistence(f),_},[t,r,i,l,c,f]);let jL=(()=>{class n{constructor(t,r,i,l,c,f,_,b,D,A,x,P){const j=new fn.x,Y=vt(void 0).pipe((0,q1.Q)(c.outsideAngular),Mr(()=>l.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,1451)))),(0,ut.U)(()=>(0,Bs.on)(t,l,r)),(0,ut.U)(ie=>VL(ie,l,f,b,D,A,_,x)),lL({bufferSize:1,refCount:!1}));if(Nl(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=vt(null);else{Y.pipe(Yc()).subscribe();const we=Y.pipe(Mr(je=>je.getRedirectResult().then(et=>et,()=>null)),Ai.iC,lL({bufferSize:1,refCount:!1})),ke=Y.pipe(Mr(je=>new On.y(et=>({unsubscribe:l.runOutsideAngular(()=>je.onAuthStateChanged(it=>et.next(it),it=>et.error(it),()=>et.complete()))})))),Qe=Y.pipe(Mr(je=>new On.y(et=>({unsubscribe:l.runOutsideAngular(()=>je.onIdTokenChanged(it=>et.next(it),it=>et.error(it),()=>et.complete()))}))));this.authState=we.pipe(cL(ke),(0,NM.R)(c.outsideAngular),(0,q1.Q)(c.insideAngular)),this.user=we.pipe(cL(Qe),(0,NM.R)(c.outsideAngular),(0,q1.Q)(c.insideAngular)),this.idToken=this.user.pipe(Mr(je=>je?(0,$t.D)(je.getIdToken()):vt(null))),this.idTokenResult=this.user.pipe(Mr(je=>je?(0,$t.D)(je.getIdTokenResult()):vt(null))),this.credential=(0,Gy.T)(we,j,this.authState.pipe(Sn(je=>!je))).pipe((0,ut.U)(je=>je?.user?je:null),(0,NM.R)(c.outsideAngular),(0,q1.Q)(c.insideAngular))}return(0,Bs.pX)(this,Y,l,{spy:{apply:(ie,we,ke)=>{(ie.startsWith("signIn")||ie.startsWith("createUser"))&&ke.then(Qe=>j.next(Qe))}}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Bs.Dh),s.LFG(Bs.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Ai.HU),s.LFG(PL,8),s.LFG(kL,8),s.LFG(FL,8),s.LFG(LL,8),s.LFG(UL,8),s.LFG(BL,8),s.LFG(ZM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function HL(n,e){return function BG(n,e=By.z){return new On.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function WM(n,e){return HL(n,e).pipe((0,ut.U)(t=>({payload:t,type:"query"})))}function iT(n,e){return WM(n,e).pipe(Ec(void 0),n0(),(0,ut.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const _=i.find(D=>D.doc.ref.isEqual(c.ref)),b=t?.payload.docs.find(D=>D.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),l}))}function GL(n,e,t){return iT(n,t).pipe(yp((r,i)=>function jG(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function HG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return YM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return YM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return YM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),Bf(),(0,ut.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function YM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function $L(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class zL{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=iT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ut.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Ec(void 0),n0(),Sn(([r,i])=>i.length>0||!r),(0,ut.U)(([r,i])=>i),Ai.iC)}auditTrail(e){return this.stateChanges(e).pipe(yp((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=$L(e);return GL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ai.iC)}valueChanges(e={}){return WM(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ai.iC)}get(e){return(0,$t.D)(this.query.get(e)).pipe(Ai.iC)}add(e){return this.ref.add(e)}doc(e){return new ZL(this.ref.doc(e),this.afs)}}class ZL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=YL(r,t);return new zL(i,l,this.afs)}snapshotChanges(){return function VG(n,e){return HL(n,e).pipe(Ec(void 0),n0(),(0,ut.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ai.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ut.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,$t.D)(this.ref.get(e)).pipe(Ai.iC)}}class GG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?iT(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Sn(t=>t.length>0),Ai.iC):iT(this.query,this.afs.schedulers.outsideAngular).pipe(Ai.iC)}auditTrail(e){return this.stateChanges(e).pipe(yp((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=$L(e);return GL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ai.iC)}valueChanges(e={}){return WM(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Ai.iC)}get(e){return(0,$t.D)(this.query.get(e)).pipe(Ai.iC)}}const qL=new s.OlP("angularfire2.enableFirestorePersistence"),WL=new s.OlP("angularfire2.firestore.persistenceSettings"),$G=new s.OlP("angularfire2.firestore.settings"),zG=new s.OlP("angularfire2.firestore.use-emulator");function YL(n,e=(t=>t)){return{query:e(n),ref:n}}let KL=(()=>{class n{constructor(t,r,i,l,c,f,_,b,D,A,x,P,j,Y,ie,we,ke){this.schedulers=_;const Qe=(0,Bs.on)(t,f,r),je=D;A&&VL(Qe,f,x,j,Y,ie,P,we),[this.firestore,this.persistenceEnabled$]=(0,Bs.cc)(`${Qe.name}.firestore`,"AngularFirestore",Qe.name,()=>{const et=f.runOutsideAngular(()=>Qe.firestore());if(l&&et.settings(l),je&&et.useEmulator(...je),i&&!Nl(c)){const it=()=>{try{return(0,$t.D)(et.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Tt){return typeof console<"u"&&console.warn(Tt),vt(!1)}};return[et,f.runOutsideAngular(it)]}return[et,vt(!1)]},[l,je,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:c}=YL(i,r),f=this.schedulers.ngZone.run(()=>l);return new zL(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),l=this.firestore.collectionGroup(t);return new GG(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new ZL(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Bs.Dh),s.LFG(Bs.xv,8),s.LFG(qL,8),s.LFG($G,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Ai.HU),s.LFG(WL,8),s.LFG(zG,8),s.LFG(jL,8),s.LFG(PL,8),s.LFG(kL,8),s.LFG(FL,8),s.LFG(LL,8),s.LFG(UL,8),s.LFG(BL,8),s.LFG(ZM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ZG=(()=>{class n{constructor(){LG.Z.registerVersion("angularfire",Ai.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:qL,useValue:!0},{provide:WL,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[KL]}),n})();class JL{}class qG{}const Kc="*";function WG(n,e){return{type:7,name:n,definitions:e,options:{}}}function QL(n,e=null){return{type:4,styles:e,timings:n}}function XL(n,e=null){return{type:2,steps:n,options:e}}function Ab(n){return{type:6,styles:n,offset:null}}function KM(n,e,t){return{type:0,name:n,styles:e,options:t}}function e2(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function t2(n){Promise.resolve().then(n)}class Nb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){t2(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class n2{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?t2(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==l&&this._onFinish()}),c.onDestroy(()=>{++r==l&&this._onDestroy()}),c.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const JM="!";function r2(n){return new s.vHH(3e3,!1)}function N$(){return typeof window<"u"&&typeof window.document<"u"}function QM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Hh(n){switch(n.length){case 0:return new Nb;case 1:return n[0];default:return new n2(n)}}function i2(n,e,t,r,i=new Map,l=new Map){const c=[],f=[];let _=-1,b=null;if(r.forEach(D=>{const A=D.get("offset"),x=A==_,P=x&&b||new Map;D.forEach((j,Y)=>{let ie=Y,we=j;if("offset"!==Y)switch(ie=e.normalizePropertyName(ie,c),we){case JM:we=i.get(Y);break;case Kc:we=l.get(Y);break;default:we=e.normalizeStyleValue(Y,ie,we,c)}P.set(ie,we)}),x||f.push(P),b=P,_=A}),c.length)throw function _$(n){return new s.vHH(3502,!1)}();return f}function XM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&eO(t,"start",n)));break;case"done":n.onDone(()=>r(t&&eO(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&eO(t,"destroy",n)))}}function eO(n,e,t){const l=tO(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(l._data=c),l}function tO(n,e,t,r,i="",l=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!c}}function qo(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function s2(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let nO=(n,e)=>!1,o2=(n,e,t)=>[],a2=null;function rO(n){const e=n.parentNode||n.host;return e===a2?null:e}(QM()||typeof Element<"u")&&(N$()?(a2=(()=>document.documentElement)(),nO=(n,e)=>{for(;e;){if(e===n)return!0;e=rO(e)}return!1}):nO=(n,e)=>n.contains(e),o2=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let ug=null,l2=!1;const u2=nO,c2=o2;let d2=(()=>{class n{validateStyleProperty(t){return function O$(n){ug||(ug=function R$(){return typeof document<"u"?document.body:null}()||{},l2=!!ug.style&&"WebkitAppearance"in ug.style);let e=!0;return ug.style&&!function M$(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ug.style,!e&&l2&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ug.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return u2(t,r)}getParentElement(t){return rO(t)}query(t,r,i){return c2(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,c,f=[],_){return new Nb(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),iO=(()=>{class n{}return n.NOOP=new d2,n})();const x$=1e3,sO="ng-enter",sT="ng-leave",oT="ng-trigger",aT=".ng-trigger",f2="ng-animating",oO=".ng-animating";function Jc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:aO(parseFloat(e[1]),e[2])}function aO(n,e){return"s"===e?n*x$:n}function lT(n,e,t){return n.hasOwnProperty("duration")?n:function k$(n,e,t){let i,l=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(r2()),{duration:0,delay:0,easing:""};i=aO(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(l=aO(parseFloat(_),f[4]));const b=f[5];b&&(c=b)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function YG(){return new s.vHH(3100,!1)}()),f=!0),l<0&&(e.push(function KG(){return new s.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,r2())}return{duration:i,delay:l,easing:c}}(n,e,t)}function Mb(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function p2(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Gh(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function m2(n,e,t){return t?e+":"+t+";":""}function _2(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=m2(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=m2(0,B$(t),n.style[t]));n.setAttribute("style",e)}function bu(n,e,t){n.style&&(e.forEach((r,i)=>{const l=uO(i);t&&!t.has(i)&&t.set(i,n.style[l]),n.style[l]=r}),QM()&&_2(n))}function cg(n,e){n.style&&(e.forEach((t,r)=>{const i=uO(r);n.style[i]=""}),QM()&&_2(n))}function Ob(n){return Array.isArray(n)?1==n.length?n[0]:XL(n):n}const lO=new RegExp("{{\\s*(.+?)\\s*}}","g");function y2(n){let e=[];if("string"==typeof n){let t;for(;t=lO.exec(n);)e.push(t[1]);lO.lastIndex=0}return e}function Rb(n,e,t){const r=n.toString(),i=r.replace(lO,(l,c)=>{let f=e[c];return null==f&&(t.push(function QG(n){return new s.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function uT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const U$=/-+([a-z0-9])/g;function uO(n){return n.replace(U$,(...e)=>e[1].toUpperCase())}function B$(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function XG(n){return new s.vHH(3004,!1)}()}}function v2(n,e){return window.getComputedStyle(n)[e]}const hT="*";function z$(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Z$(n,e,t){if(":"==n[0]){const _=function q$(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function f$(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function h$(n){return new s.vHH(3015,!1)}()),e;const i=r[1],l=r[2],c=r[3];e.push(b2(i,c));"<"==l[0]&&!(i==hT&&c==hT)&&e.push(b2(c,i))}(r,t,e)):t.push(n),t}const fT=new Set(["true","1"]),pT=new Set(["false","0"]);function b2(n,e){const t=fT.has(n)||pT.has(n),r=fT.has(e)||pT.has(e);return(i,l)=>{let c=n==hT||n==i,f=e==hT||e==l;return!c&&t&&"boolean"==typeof i&&(c=i?fT.has(n):pT.has(n)),!f&&r&&"boolean"==typeof l&&(f=l?fT.has(e):pT.has(e)),c&&f}}const W$=new RegExp("s*:selfs*,?","g");function cO(n,e,t,r){return new Y$(n).build(e,t,r)}class Y${constructor(e){this._driver=e}build(e,t,r){const i=new Q$(t);return this._resetContextStyleTimingState(i),Wo(this,Ob(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function t$(){return new s.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(D=>{_.name=D,l.push(this.visitState(_,t))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function n$(){return new s.vHH(3007,!1)}())}),{type:7,name:e.name,states:l,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,c=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{y2(_).forEach(b=>{c.hasOwnProperty(b)||l.add(b)})})}),l.size&&(uT(l.values()),t.errors.push(function r$(n,e){return new s.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Wo(this,Ob(e.animation),t);return{type:1,matchers:z$(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:dg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Wo(this,r,t)),options:dg(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(c=>{t.currentTime=r;const f=Wo(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:l,options:dg(e.options)}}visitAnimate(e,t){const r=function e6(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return dO(lT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=dO(0,0,"");return l.dynamic=!0,l.strValue=t,l}const i=lT(t,e);return dO(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:Ab({});if(5==l.type)i=this.visitKeyframes(l,t);else{let c=e.styles,f=!1;if(!c){f=!0;const b={};r.easing&&(b.easing=r.easing),c=Ab(b)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===Kc?r.push(f):t.errors.push(new s.vHH(3002,!1)):r.push(p2(f));let l=!1,c=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(c=f.get("easing"),f.delete("easing")),!l))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((f,_)=>{const b=t.collectedStyles.get(t.currentQuerySelector),D=b.get(_);let A=!0;D&&(l!=i&&l>=D.startTime&&i<=D.endTime&&(t.errors.push(function s$(n,e,t,r,i){return new s.vHH(3010,!1)}()),A=!1),l=D.startTime),A&&b.set(_,{startTime:l,endTime:i}),t.options&&function L$(n,e,t){const r=e.params||{},i=y2(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(function JG(n){return new s.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function o$(){return new s.vHH(3011,!1)}()),r;let l=0;const c=[];let f=!1,_=!1,b=0;const D=e.steps.map(we=>{const ke=this._makeStyleAst(we,t);let Qe=null!=ke.offset?ke.offset:function X$(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ke.styles),je=0;return null!=Qe&&(l++,je=ke.offset=Qe),_=_||je<0||je>1,f=f||je<b,b=je,c.push(je),ke});_&&t.errors.push(function a$(){return new s.vHH(3012,!1)}()),f&&t.errors.push(function l$(){return new s.vHH(3200,!1)}());const A=e.steps.length;let x=0;l>0&&l<A?t.errors.push(function u$(){return new s.vHH(3202,!1)}()):0==l&&(x=1/(A-1));const P=A-1,j=t.currentTime,Y=t.currentAnimateTimings,ie=Y.duration;return D.forEach((we,ke)=>{const Qe=x>0?ke==P?1:x*ke:c[ke],je=Qe*ie;t.currentTime=j+Y.delay+je,Y.duration=je,this._validateStyleAst(we,t),we.offset=Qe,r.styles.push(we)}),r}visitReference(e,t){return{type:8,animation:Wo(this,Ob(e.animation),t),options:dg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:dg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:dg(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,c]=function K$(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(W$,"")),n=n.replace(/@\*/g,aT).replace(/@\w+/g,t=>aT+"-"+t.slice(1)).replace(/:animating/g,oO),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,qo(t.collectedStyles,t.currentQuerySelector,new Map);const f=Wo(this,Ob(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:dg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function c$(){return new s.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:lT(e.timings,t.errors,!0);return{type:12,animation:Wo(this,Ob(e.animation),t),timings:r,options:null}}}class Q${constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function dg(n){return n?(n=Mb(n)).params&&(n.params=function J$(n){return n?Mb(n):null}(n.params)):n={},n}function dO(n,e,t){return{duration:n,delay:e,easing:t}}function hO(n,e,t,r,i,l,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:c,subTimeline:f}}class gT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const r6=new RegExp(":enter","g"),s6=new RegExp(":leave","g");function fO(n,e,t,r,i,l=new Map,c=new Map,f,_,b=[]){return(new o6).buildKeyframes(n,e,t,r,i,l,c,f,_,b)}class o6{buildKeyframes(e,t,r,i,l,c,f,_,b,D=[]){b=b||new gT;const A=new pO(e,t,b,i,l,D,[]);A.options=_;const x=_.delay?Jc(_.delay):0;A.currentTimeline.delayNextStep(x),A.currentTimeline.setStyles([c],null,A.errors,_),Wo(this,r,A);const P=A.timelines.filter(j=>j.containsAnimation());if(P.length&&f.size){let j;for(let Y=P.length-1;Y>=0;Y--){const ie=P[Y];if(ie.element===t){j=ie;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([f],null,A.errors,_)}return P.length?P.map(j=>j.buildKeyframes()):[hO(t,[],[],[],0,x,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);l!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const l=i?.delay;if(l){const c="number"==typeof l?l:Jc(Rb(l,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const c=null!=r.duration?Jc(r.duration):null,f=null!=r.delay?Jc(r.delay):null;return 0!==c&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,c,f);l=Math.max(l,b.duration+b.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),Wo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=mT);const c=Jc(l.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Wo(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Jc(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);l&&f.delayNextStep(l),Wo(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return lT(t.params?Rb(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*l),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?Jc(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=mT);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((b,D)=>{t.currentQueryIndex=D;const A=t.createSubContext(e.options,b);l&&A.delayNextStep(l),b===t.element&&(_=A.currentTimeline),Wo(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,c=Math.abs(l.duration),f=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const D=t.currentTimeline;_&&D.delayNextStep(_);const A=D.currentTime;Wo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const mT={};class pO{constructor(e,t,r,i,l,c,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new _T(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Jc(r.duration)),null!=r.delay&&(i.delay=Jc(r.delay));const l=r.params;if(l){let c=i.params;c||(c=this.options.params={}),Object.keys(l).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=Rb(l[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new pO(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=mT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},l=new a6(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(r6,"."+this._enterClassName)).replace(s6,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),f.push(...b)}return!l&&0==f.length&&c.push(function d$(n){return new s.vHH(3014,!1)}()),f}}class _T{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new _T(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Kc),this._currentKeyframe.set(t,Kc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const l=i&&i.params||{},c=function l6(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let l of r)t.set(l,Kc)}else Gh(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of c){const b=Rb(_,l,r);this._pendingStyles.set(f,b),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Kc),this._updateStyle(f,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const b=Gh(f,new Map,this._backFill);b.forEach((D,A)=>{D===JM?e.add(A):D===Kc&&t.add(A)}),r||b.set("offset",_/this.duration),i.push(b)});const l=e.size?uT(e.values()):[],c=t.size?uT(t.values()):[];if(r){const f=i[0],_=new Map(f);f.set("offset",0),_.set("offset",1),i=[f,_]}return hO(this.element,i,l,c,this.duration,this.startTime,this.easing,!1)}}class a6 extends _T{constructor(e,t,r,i,l,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],c=r+t,f=t/c,_=Gh(e[0]);_.set("offset",0),l.push(_);const b=Gh(e[0]);b.set("offset",D2(f)),l.push(b);const D=e.length-1;for(let A=1;A<=D;A++){let x=Gh(e[A]);const P=x.get("offset");x.set("offset",D2((t+P*r)/c)),l.push(x)}r=c,t=0,i="",e=l}return hO(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function D2(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class gO{}const u6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class c6 extends gO{normalizePropertyName(e,t){return uO(e)}normalizeStyleValue(e,t,r,i){let l="";const c=r.toString().trim();if(u6.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function e$(n,e){return new s.vHH(3005,!1)}())}return c+l}}function T2(n,e,t,r,i,l,c,f,_,b,D,A,x){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:c,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:D,totalTime:A,errors:x}}const mO={};class C2{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function d6(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,l,c,f,_,b,D){const A=[],x=this.ast.options&&this.ast.options.params||mO,j=this.buildStyles(r,f&&f.params||mO,A),Y=_&&_.params||mO,ie=this.buildStyles(i,Y,A),we=new Set,ke=new Map,Qe=new Map,je="void"===i,et={params:h6(Y,x),delay:this.ast.options?.delay},it=D?[]:fO(e,t,this.ast.animation,l,c,j,ie,et,b,A);let Tt=0;if(it.forEach(Rn=>{Tt=Math.max(Rn.duration+Rn.delay,Tt)}),A.length)return T2(t,this._triggerName,r,i,je,j,ie,[],[],ke,Qe,Tt,A);it.forEach(Rn=>{const xn=Rn.element,fr=qo(ke,xn,new Set);Rn.preStyleProps.forEach(Dr=>fr.add(Dr));const Yi=qo(Qe,xn,new Set);Rn.postStyleProps.forEach(Dr=>Yi.add(Dr)),xn!==t&&we.add(xn)});const zt=uT(we.values());return T2(t,this._triggerName,r,i,je,j,ie,it,zt,ke,Qe,Tt)}}function h6(n,e){const t=Mb(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class f6{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Mb(this.defaultParams);return Object.keys(e).forEach(l=>{const c=e[l];null!==c&&(i[l]=c)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((c,f)=>{c&&(c=Rb(c,i,t));const _=this.normalizer.normalizePropertyName(f,t);c=this.normalizer.normalizeStyleValue(f,_,c,t),r.set(f,c)})}),r}}class g6{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new f6(i.style,i.options&&i.options.params||{},r))}),S2(this.states,"true","1"),S2(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new C2(e,i,this.states))}),this.fallbackTransition=function m6(n,e,t){return new C2(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function S2(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const _6=new gT;class y6{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],l=cO(this._driver,t,r,i);if(r.length)throw function y$(n){return new s.vHH(3503,!1)}();this._animations.set(e,l)}_buildPlayer(e,t,r){const i=e.element,l=i2(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations.get(e);let c;const f=new Map;if(l?(c=fO(this._driver,t,l,sO,sT,new Map,new Map,r,_6,i),c.forEach(D=>{const A=qo(f,D.element,new Map);D.postStyleProps.forEach(x=>A.set(x,null))})):(i.push(function v$(){return new s.vHH(3300,!1)}()),c=[]),i.length)throw function b$(n){return new s.vHH(3504,!1)}();f.forEach((D,A)=>{D.forEach((x,P)=>{D.set(P,this._driver.computeStyle(A,P,Kc))})});const b=Hh(c.map(D=>{const A=f.get(D.element);return this._buildPlayer(D,new Map,A)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function w$(n){return new s.vHH(3301,!1)}();return t}listen(e,t,r,i){const l=tO(t,"","","");return XM(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const I2="ng-animate-queued",_O="ng-animate-disabled",D6=[],A2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},T6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ma="__ng_removed";class yO{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function A6(n){return n??null}(r?e.value:e),r){const l=Mb(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const xb="void",vO=new yO(xb);class C6{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Oa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function E$(n,e){return new s.vHH(3302,!1)}();if(null==r||0==r.length)throw function D$(n){return new s.vHH(3303,!1)}();if(!function N6(n){return"start"==n||"done"==n}(r))throw function T$(n,e){return new s.vHH(3400,!1)}();const l=qo(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};l.push(c);const f=qo(this._engine.statesByElement,e,new Map);return f.has(t)||(Oa(e,oT),Oa(e,oT+"-"+t),f.set(t,vO)),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(c);_>=0&&l.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function C$(n){return new s.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),c=new bO(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Oa(e,oT),Oa(e,oT+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const b=new yO(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f.set(t,b),_||(_=vO),b.value!==xb&&_.value===b.value){if(!function R6(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(_.params,b.params)){const Y=[],ie=l.matchStyles(_.value,_.params,Y),we=l.matchStyles(b.value,b.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{cg(e,ie),bu(e,we)})}return}const x=qo(this._engine.playersByElement,e,[]);x.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==t&&Y.queued&&Y.destroy()});let P=l.matchTransition(_.value,b.value,e,b.params),j=!1;if(!P){if(!i)return;P=l.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:P,fromState:_,toState:b,player:c,isFallbackTransition:j}),j||(Oa(e,I2),c.onStart(()=>{ty(e,I2)})),c.onDone(()=>{let Y=this.players.indexOf(c);Y>=0&&this.players.splice(Y,1);const ie=this._engine.playersByElement.get(e);if(ie){let we=ie.indexOf(c);we>=0&&ie.splice(we,1)}}),this.players.push(c),x.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,aT,!0);r.forEach(i=>{if(i[Ma])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),c=new Map;if(l){const f=[];if(l.forEach((_,b)=>{if(c.set(b,_.value),this._triggers.has(b)){const D=this.trigger(e,b,xb,i);D&&f.push(D)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Hh(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const c=l.name;if(i.has(c))return;i.add(c);const _=this._triggers.get(c).fallbackTransition,b=r.get(c)||vO,D=new yO(xb),A=new bO(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:b,toState:D,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Ma];(!l||l===A2)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Oa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,c=this._elementListeners.get(l);c&&c.forEach(f=>{if(f.name==r.triggerName){const _=tO(l,r.triggerName,r.fromState.value,r.toState.value);_._data=e,XM(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==l||0==c?l-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class S6{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new C6(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const b=r.indexOf(_);r.splice(b+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const l=this._fetchNamespace(i.namespaceId);l&&t.add(l)}return t}trigger(e,t,r,i){if(yT(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!yT(t))return;const l=t[Ma];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Oa(e,_O)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ty(e,_O))}removeNode(e,t,r,i){if(yT(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[Ma]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return yT(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,aT,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,oO,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Hh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ma];if(t&&t.setForRemoval){if(e[Ma]=A2,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(_O)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Oa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Hh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function S$(n){return new s.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new gT,i=[],l=new Map,c=[],f=new Map,_=new Map,b=new Map,D=new Set;this.disabledNodes.forEach(st=>{D.add(st);const _t=this.driver.query(st,".ng-animate-queued",!0);for(let Mt=0;Mt<_t.length;Mt++)D.add(_t[Mt])});const A=this.bodyNode,x=Array.from(this.statesByElement.keys()),P=O2(x,this.collectedEnterElements),j=new Map;let Y=0;P.forEach((st,_t)=>{const Mt=sO+Y++;j.set(_t,Mt),st.forEach(en=>Oa(en,Mt))});const ie=[],we=new Set,ke=new Set;for(let st=0;st<this.collectedLeaveElements.length;st++){const _t=this.collectedLeaveElements[st],Mt=_t[Ma];Mt&&Mt.setForRemoval&&(ie.push(_t),we.add(_t),Mt.hasAnimation?this.driver.query(_t,".ng-star-inserted",!0).forEach(en=>we.add(en)):ke.add(_t))}const Qe=new Map,je=O2(x,Array.from(we));je.forEach((st,_t)=>{const Mt=sT+Y++;Qe.set(_t,Mt),st.forEach(en=>Oa(en,Mt))}),e.push(()=>{P.forEach((st,_t)=>{const Mt=j.get(_t);st.forEach(en=>ty(en,Mt))}),je.forEach((st,_t)=>{const Mt=Qe.get(_t);st.forEach(en=>ty(en,Mt))}),ie.forEach(st=>{this.processLeaveNode(st)})});const et=[],it=[];for(let st=this._namespaceList.length-1;st>=0;st--)this._namespaceList[st].drainQueuedTransitions(t).forEach(Mt=>{const en=Mt.player,Tr=Mt.element;if(et.push(en),this.collectedEnterElements.length){const zr=Tr[Ma];if(zr&&zr.setForMove){if(zr.previousTriggersValues&&zr.previousTriggersValues.has(Mt.triggerName)){const zs=zr.previousTriggersValues.get(Mt.triggerName),fs=this.statesByElement.get(Mt.element);if(fs&&fs.has(Mt.triggerName)){const hy=fs.get(Mt.triggerName);hy.value=zs,fs.set(Mt.triggerName,hy)}}return void en.destroy()}}const ho=!A||!this.driver.containsElement(A,Tr),Ei=Qe.get(Tr),Ko=j.get(Tr),In=this._buildInstruction(Mt,r,Ko,Ei,ho);if(In.errors&&In.errors.length)return void it.push(In);if(ho)return en.onStart(()=>cg(Tr,In.fromStyles)),en.onDestroy(()=>bu(Tr,In.toStyles)),void i.push(en);if(Mt.isFallbackTransition)return en.onStart(()=>cg(Tr,In.fromStyles)),en.onDestroy(()=>bu(Tr,In.toStyles)),void i.push(en);const wl=[];In.timelines.forEach(zr=>{zr.stretchStartingKeyframe=!0,this.disabledNodes.has(zr.element)||wl.push(zr)}),In.timelines=wl,r.append(Tr,In.timelines),c.push({instruction:In,player:en,element:Tr}),In.queriedElements.forEach(zr=>qo(f,zr,[]).push(en)),In.preStyleProps.forEach((zr,zs)=>{if(zr.size){let fs=_.get(zs);fs||_.set(zs,fs=new Set),zr.forEach((hy,gg)=>fs.add(gg))}}),In.postStyleProps.forEach((zr,zs)=>{let fs=b.get(zs);fs||b.set(zs,fs=new Set),zr.forEach((hy,gg)=>fs.add(gg))})});if(it.length){const st=[];it.forEach(_t=>{st.push(function I$(n,e){return new s.vHH(3505,!1)}())}),et.forEach(_t=>_t.destroy()),this.reportError(st)}const Tt=new Map,zt=new Map;c.forEach(st=>{const _t=st.element;r.has(_t)&&(zt.set(_t,_t),this._beforeAnimationBuild(st.player.namespaceId,st.instruction,Tt))}),i.forEach(st=>{const _t=st.element;this._getPreviousPlayers(_t,!1,st.namespaceId,st.triggerName,null).forEach(en=>{qo(Tt,_t,[]).push(en),en.destroy()})});const Rn=ie.filter(st=>x2(st,_,b)),xn=new Map;M2(xn,this.driver,ke,b,Kc).forEach(st=>{x2(st,_,b)&&Rn.push(st)});const Yi=new Map;P.forEach((st,_t)=>{M2(Yi,this.driver,new Set(st),_,JM)}),Rn.forEach(st=>{const _t=xn.get(st),Mt=Yi.get(st);xn.set(st,new Map([...Array.from(_t?.entries()??[]),...Array.from(Mt?.entries()??[])]))});const Dr=[],Du=[],Tu={};c.forEach(st=>{const{element:_t,player:Mt,instruction:en}=st;if(r.has(_t)){if(D.has(_t))return Mt.onDestroy(()=>bu(_t,en.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(en.totalTime),void i.push(Mt);let Tr=Tu;if(zt.size>1){let Ei=_t;const Ko=[];for(;Ei=Ei.parentNode;){const In=zt.get(Ei);if(In){Tr=In;break}Ko.push(Ei)}Ko.forEach(In=>zt.set(In,Tr))}const ho=this._buildAnimation(Mt.namespaceId,en,Tt,l,Yi,xn);if(Mt.setRealPlayer(ho),Tr===Tu)Dr.push(Mt);else{const Ei=this.playersByElement.get(Tr);Ei&&Ei.length&&(Mt.parentPlayer=Hh(Ei)),i.push(Mt)}}else cg(_t,en.fromStyles),Mt.onDestroy(()=>bu(_t,en.toStyles)),Du.push(Mt),D.has(_t)&&i.push(Mt)}),Du.forEach(st=>{const _t=l.get(st.element);if(_t&&_t.length){const Mt=Hh(_t);st.setRealPlayer(Mt)}}),i.forEach(st=>{st.parentPlayer?st.syncPlayerEvents(st.parentPlayer):st.destroy()});for(let st=0;st<ie.length;st++){const _t=ie[st],Mt=_t[Ma];if(ty(_t,sT),Mt&&Mt.hasAnimation)continue;let en=[];if(f.size){let ho=f.get(_t);ho&&ho.length&&en.push(...ho);let Ei=this.driver.query(_t,oO,!0);for(let Ko=0;Ko<Ei.length;Ko++){let In=f.get(Ei[Ko]);In&&In.length&&en.push(...In)}}const Tr=en.filter(ho=>!ho.destroyed);Tr.length?M6(this,_t,Tr):this.processLeaveNode(_t)}return ie.length=0,Dr.forEach(st=>{this.players.push(st),st.onDone(()=>{st.destroy();const _t=this.players.indexOf(st);this.players.splice(_t,1)}),st.play()}),Dr}elementContainsData(e,t){let r=!1;const i=t[Ma];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const _=!l||l==xb;f.forEach(b=>{b.queued||!_&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const l=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,D=b!==l,A=qo(r,b,[]);this._getPreviousPlayers(b,D,c,f,t.toState).forEach(P=>{const j=P.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),P.destroy(),A.push(P)})}cg(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,c){const f=t.triggerName,_=t.element,b=[],D=new Set,A=new Set,x=t.timelines.map(j=>{const Y=j.element;D.add(Y);const ie=Y[Ma];if(ie&&ie.removedBeforeQueried)return new Nb(j.duration,j.delay);const we=Y!==_,ke=function O6(n){const e=[];return R2(n,e),e}((r.get(Y)||D6).map(Tt=>Tt.getRealPlayer())).filter(Tt=>!!Tt.element&&Tt.element===Y),Qe=l.get(Y),je=c.get(Y),et=i2(0,this._normalizer,0,j.keyframes,Qe,je),it=this._buildPlayer(j,et,ke);if(j.subTimeline&&i&&A.add(Y),we){const Tt=new bO(e,f,Y);Tt.setRealPlayer(it),b.push(Tt)}return it});b.forEach(j=>{qo(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function I6(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,j.element,j))}),D.forEach(j=>Oa(j,f2));const P=Hh(x);return P.onDestroy(()=>{D.forEach(j=>ty(j,f2)),bu(_,t.toStyles)}),A.forEach(j=>{qo(i,j,[]).push(P)}),P}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Nb(e.duration,e.delay)}}class bO{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Nb,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>XM(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){qo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function yT(n){return n&&1===n.nodeType}function N2(n,e){const t=n.style.display;return n.style.display=e??"none",t}function M2(n,e,t,r,i){const l=[];t.forEach(_=>l.push(N2(_)));const c=[];r.forEach((_,b)=>{const D=new Map;_.forEach(A=>{const x=e.computeStyle(b,A,i);D.set(A,x),(!x||0==x.length)&&(b[Ma]=T6,c.push(b))}),n.set(b,D)});let f=0;return t.forEach(_=>N2(_,l[f++])),c}function O2(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=1,i=new Set(e),l=new Map;function c(f){if(!f)return r;let _=l.get(f);if(_)return _;const b=f.parentNode;return _=t.has(b)?b:i.has(b)?r:c(b),l.set(f,_),_}return e.forEach(f=>{const _=c(f);_!==r&&t.get(_).push(f)}),t}function Oa(n,e){n.classList?.add(e)}function ty(n,e){n.classList?.remove(e)}function M6(n,e,t){Hh(t).onDone(()=>n.processLeaveNode(e))}function R2(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof n2?R2(r.players,e):e.push(r)}}function x2(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class vT{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new S6(e,t,r),this._timelineEngine=new y6(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const _=[],b=[],D=cO(this._driver,l,_,b);if(_.length)throw function m$(n,e){return new s.vHH(3404,!1)}();f=function p6(n,e,t){return new g6(n,e,t)}(i,D,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,c]=s2(r);this._timelineEngine.command(l,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[c,f]=s2(r);return this._timelineEngine.listen(c,t,f,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let P6=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&bu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bu(this._element,this._initialStyles),this._endStyles&&(bu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(cg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cg(this._element,this._endStyles),this._endStyles=null),bu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function wO(n){let e=null;return n.forEach((t,r)=>{(function k6(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class P2{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:v2(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class F6{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return u2(e,t)}getParentElement(e){return rO(e)}query(e,t,r){return c2(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,l,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(_.easing=l);const b=new Map,D=c.filter(P=>P instanceof P2);(function V$(n,e){return 0===n||0===e})(r,i)&&D.forEach(P=>{P.currentSnapshot.forEach((j,Y)=>b.set(Y,j))});let A=function F$(n){return n.length?n[0]instanceof Map?n:n.map(e=>p2(e)):[]}(t).map(P=>Gh(P));A=function j$(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((l,c)=>{r.has(c)||i.push(c),r.set(c,l)}),i.length)for(let l=1;l<e.length;l++){let c=e[l];i.forEach(f=>c.set(f,v2(n,f)))}}return e}(e,A,b);const x=function x6(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=wO(e[0]),e.length>1&&(r=wO(e[e.length-1]))):e instanceof Map&&(t=wO(e)),t||r?new P6(n,t,r):null}(e,A);return new P2(e,A,_,x)}}let L6=(()=>{class n extends JL{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?XL(t):t;return k2(this._renderer,null,r,"register",[i]),new U6(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class U6 extends qG{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new B6(this._id,e,t||{},this._renderer)}}class B6{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return k2(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function k2(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const F2="@.disabled";let V6=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,c)=>{const f=c?.parentNode(l);f&&c.removeChild(f,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(l);return D||(D=new L2("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,D)),D}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=D=>{Array.isArray(D)?D.forEach(_):this.engine.registerTrigger(c,f,t,D.name,D)};return r.data.animation.forEach(_),new j6(this,f,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[c,f]=l;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(vT),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class L2{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?l=>t.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==F2?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class j6 extends L2{constructor(e,t,r,i,l){super(t,r,i,l),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==F2?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function H6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.slice(1),c="";return"@"!=l.charAt(0)&&([l,c]=function G6(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let $6=(()=>{class n extends vT{constructor(t,r,i,l){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H),s.LFG(iO),s.LFG(gO),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const U2=[{provide:JL,useClass:L6},{provide:gO,useFactory:function z6(){return new c6}},{provide:vT,useClass:$6},{provide:s.FYo,useFactory:function Z6(n,e,t){return new V6(n,e,t)},deps:[So,vT,s.R0b]}],EO=[{provide:iO,useFactory:()=>new F6},{provide:s.QbO,useValue:"BrowserAnimations"},...U2],B2=[{provide:iO,useClass:d2},{provide:s.QbO,useValue:"NoopAnimations"},...U2];let q6=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?B2:EO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:EO,imports:[da]}),n})();const V2=["toast-component",""];function W6(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",5),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.remove())}),s.TgZ(1,"span",6),s._uU(2,"\xd7"),s.qZA()()}}function Y6(n,e){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const t=s.oxw(2);s.xp6(1),s.hij("[",t.duplicatesCount+1,"]")}}function K6(n,e){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.YNc(2,Y6,2,1,"ng-container",4),s.qZA()),2&n){const t=s.oxw();s.Tol(t.options.titleClass),s.uIk("aria-label",t.title),s.xp6(1),s.hij(" ",t.title," "),s.xp6(1),s.Q6J("ngIf",t.duplicatesCount)}}function J6(n,e){if(1&n&&s._UZ(0,"div",7),2&n){const t=s.oxw();s.Tol(t.options.messageClass),s.Q6J("innerHTML",t.message,s.oJD)}}function Q6(n,e){if(1&n&&(s.TgZ(0,"div",8),s._uU(1),s.qZA()),2&n){const t=s.oxw();s.Tol(t.options.messageClass),s.uIk("aria-label",t.message),s.xp6(1),s.hij(" ",t.message," ")}}function X6(n,e){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"div",9),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Udp("width",t.width+"%")}}class oz{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class az{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class lz{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new fn.x,this._activate=new fn.x,this._manualClose=new fn.x,this._resetTimeout=new fn.x,this._countDuplicate=new fn.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class wT{constructor(e,t,r,i,l,c){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=l,this.toastRef=c,this._onTap=new fn.x,this._onAction=new fn.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const H2=new s.OlP("ToastConfig");class uz extends az{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class cz{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let dz=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hz=(()=>{class n{constructor(t,r,i,l){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=l,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new uz(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new cz(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(dz),s.LFG(s._Vd),s.LFG(s.z2F),s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DO=(()=>{class n{constructor(t,r,i,l,c){this.overlay=r,this._injector=i,this.sanitizer=l,this.ngZone=c,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},l=""){return this._preBuildNotification(l,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,l){const{includeTitleDuplicates:c}=this.toastrConfig;for(const f of this.toasts)if((!c||c&&f.title===t)&&f.message===r)return f.toastRef.onDuplicate(i,l),f;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,l){return l.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,l)):this._buildNotification(t,r,i,l)}_buildNotification(t,r,i,l){if(!l.toastComponent)throw new Error("toastComponent required");const c=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&l.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==c)return c;this.previousToastMessage=r;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _=this.overlay.create(l.positionClass,this.overlayContainer);this.index=this.index+1;let b=r;r&&l.enableHtml&&(b=this.sanitizer.sanitize(s.q3G.HTML,r));const D=new lz(_),A=new wT(this.index,l,b,i,t,D),P=s.zs3.create({providers:[{provide:wT,useValue:A}],parent:this._injector}),j=new oz(l.toastComponent,P),Y=_.attach(j,l.newestOnTop);D.componentInstance=Y.instance;const ie={toastId:this.index,title:i||"",message:r||"",toastRef:D,onShown:D.afterActivate(),onHidden:D.afterClosed(),onTap:A.onTap(),onAction:A.onAction(),portal:Y};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ie.toastRef.activate()})),this.toasts.push(ie),ie}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H2),s.LFG(hz),s.LFG(s.zs3),s.LFG(ff),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fz={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(DO),s.Y36(wT),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&s.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(s.d8E("@flyInOut",r.state),s.Tol(r.toastClasses),s.Udp("display",r.displayStyle))},attrs:V2,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(s.YNc(0,W6,3,0,"button",0),s.YNc(1,K6,3,5,"div",1),s.YNc(2,J6,1,3,"div",2),s.YNc(3,Q6,2,4,"div",3),s.YNc(4,X6,2,2,"div",4)),2&t&&(s.Q6J("ngIf",r.options.closeButton),s.xp6(1),s.Q6J("ngIf",r.title),s.xp6(1),s.Q6J("ngIf",r.message&&r.options.enableHtml),s.xp6(1),s.Q6J("ngIf",r.message&&!r.options.enableHtml),s.xp6(1),s.Q6J("ngIf",r.options.progressBar))},dependencies:[Bn],encapsulation:2,data:{animation:[WG("flyInOut",[KM("inactive",Ab({opacity:0})),KM("active",Ab({opacity:1})),KM("removed",Ab({opacity:0})),e2("inactive => active",QL("{{ easeTime }}ms {{ easing }}")),e2("active => removed",QL("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let pz=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:H2,useValue:{default:fz,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Il]}),n})();function G2(n){return new On.y(e=>{(0,as.Xf)(n()).subscribe(e)})}var gz=k(9635);function Pb(n,e){const t=(0,ko.m)(n)?n:()=>n,r=i=>i.error(t());return new On.y(e?i=>e.schedule(r,0,i):r)}var TO=k(727);function CO(){return(0,ar.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Cn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class $2 extends On.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ar.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new TO.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Cn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=TO.w0.EMPTY)}return e}refCount(){return CO()(this)}}function $h(n){return(0,ar.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,Cn.x)(t,void 0,void 0,c=>{l=(0,as.Xf)(n(c,$h(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function SO(n){return n<=0?()=>Po.E:(0,ar.e)((e,t)=>{let r=[];e.subscribe((0,Cn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function z2(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Sn((i,l)=>n(i,l,r)):Gd.y,SO(1),t?Y1(e):uL(()=>new W1))}function IO(n){return(0,ar.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const qt="primary",kb=Symbol("RouteTitle");class _z{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ny(n){return new _z(n)}function yz(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const c=r[l],f=n[l];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function wu(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!Z2(n[i],e[i]))return!1;return!0}function Z2(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function q2(n){return Array.prototype.concat.apply([],n)}function W2(n){return n.length>0?n[n.length-1]:null}function Wi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function zh(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,$t.D)(Promise.resolve(n)):vt(n)}const ET=!1,bz={exact:function J2(n,e,t){if(!hg(n.segments,e.segments)||!DT(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!J2(n.children[r],e.children[r],t))return!1;return!0},subset:Q2},Y2={exact:function wz(n,e){return wu(n,e)},subset:function Ez(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Z2(n[t],e[t]))},ignored:()=>!0};function K2(n,e,t){return bz[t.paths](n.root,e.root,t.matrixParams)&&Y2[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Q2(n,e,t){return X2(n,e,e.segments,t)}function X2(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!hg(i,t)||e.hasChildren()||!DT(i,t,r))}if(n.segments.length===t.length){if(!hg(n.segments,t)||!DT(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Q2(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(hg(n.segments,i)&&DT(n.segments,i,r)&&n.children[qt])&&X2(n.children[qt],e,l,r)}}function DT(n,e,t){return e.every((r,i)=>Y2[t](n[i].parameters,r.parameters))}class Zh{constructor(e=new rn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ny(this.queryParams)),this._queryParamMap}toString(){return Cz.serialize(this)}}class rn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Wi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return TT(this)}}class Fb{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ny(this.parameters)),this._parameterMap}toString(){return nU(this)}}function hg(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Lb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new AO},providedIn:"root"}),n})();class AO{parse(e){const t=new Pz(e);return new Zh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ub(e.root,!0)}`,r=function Az(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${CT(t)}=${CT(i)}`).join("&"):`${CT(t)}=${CT(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Sz(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const Cz=new AO;function TT(n){return n.segments.map(e=>nU(e)).join("/")}function Ub(n,e){if(!n.hasChildren())return TT(n);if(e){const t=n.children[qt]?Ub(n.children[qt],!1):"",r=[];return Wi(n.children,(i,l)=>{l!==qt&&r.push(`${l}:${Ub(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Tz(n,e){let t=[];return Wi(n.children,(r,i)=>{i===qt&&(t=t.concat(e(r,i)))}),Wi(n.children,(r,i)=>{i!==qt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===qt?[Ub(n.children[qt],!1)]:[`${i}:${Ub(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[qt]?`${TT(n)}/${t[0]}`:`${TT(n)}/(${t.join("//")})`}}function eU(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function CT(n){return eU(n).replace(/%3B/gi,";")}function NO(n){return eU(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ST(n){return decodeURIComponent(n)}function tU(n){return ST(n.replace(/\+/g,"%20"))}function nU(n){return`${NO(n.path)}${function Iz(n){return Object.keys(n).map(e=>`;${NO(e)}=${NO(n[e])}`).join("")}(n.parameters)}`}const Nz=/^[^\/()?;=#]+/;function IT(n){const e=n.match(Nz);return e?e[0]:""}const Mz=/^[^=?&#]+/,Rz=/^[^&#]+/;class Pz{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[qt]=new rn(e,t)),r}parseSegment(){const e=IT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new s.vHH(4009,ET);return this.capture(e),new Fb(ST(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=IT(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=IT(this.remaining);i&&(r=i,this.capture(r))}e[ST(t)]=ST(r)}parseQueryParam(e){const t=function Oz(n){const e=n.match(Mz);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function xz(n){const e=n.match(Rz);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=tU(t),l=tU(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=IT(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new s.vHH(4010,ET);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=qt);const c=this.parseChildren();t[l]=1===Object.keys(c).length?c[qt]:new rn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new s.vHH(4011,ET)}}function MO(n){return n.segments.length>0?new rn([],{[qt]:n}):n}function AT(n){const e={};for(const r of Object.keys(n.children)){const l=AT(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function kz(n){if(1===n.numberOfChildren&&n.children[qt]){const e=n.children[qt];return new rn(n.segments.concat(e.segments),e.children)}return n}(new rn(n.segments,e))}function fg(n){return n instanceof Zh}const OO=!1;function Fz(n,e,t,r,i){if(0===t.length)return ry(e.root,e.root,e.root,r,i);const l=function aU(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new oU(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,c)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return Wi(l.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===c?(l.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,l]},[]);return new oU(t,e,r)}(t);return l.toRoot()?ry(e.root,e.root,new rn([],{}),r,i):function c(_){const b=function Uz(n,e,t,r){if(n.isAbsolute)return new iy(e.root,!0,0);if(-1===r)return new iy(t,t===e.root,0);return function lU(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new s.vHH(4005,OO&&"Invalid number of '../'");i=r.segments.length}return new iy(r,!1,i-l)}(t,r+(Bb(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,_),D=b.processChildren?sy(b.segmentGroup,b.index,l.commands):RO(b.segmentGroup,b.index,l.commands);return ry(e.root,b.segmentGroup,D,r,i)}(n.snapshot?._lastPathIndex)}function Bb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vb(n){return"object"==typeof n&&null!=n&&n.outlets}function ry(n,e,t,r,i){let c,l={};r&&Wi(r,(_,b)=>{l[b]=Array.isArray(_)?_.map(D=>`${D}`):`${_}`}),c=n===e?t:sU(n,e,t);const f=MO(AT(c));return new Zh(f,l,i)}function sU(n,e,t){const r={};return Wi(n.children,(i,l)=>{r[l]=i===e?t:sU(i,e,t)}),new rn(n.segments,r)}class oU{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Bb(r[0]))throw new s.vHH(4003,OO&&"Root segment cannot have matrix parameters");const i=r.find(Vb);if(i&&i!==W2(r))throw new s.vHH(4004,OO&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class iy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function RO(n,e,t){if(n||(n=new rn([],{})),0===n.segments.length&&n.hasChildren())return sy(n,e,t);const r=function Vz(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const c=n.segments[i],f=t[r];if(Vb(f))break;const _=`${f}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!cU(_,b,c))return l;r+=2}else{if(!cU(_,{},c))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new rn(n.segments.slice(0,r.pathIndex),{});return l.children[qt]=new rn(n.segments.slice(r.pathIndex),n.children),sy(l,0,i)}return r.match&&0===i.length?new rn(n.segments,{}):r.match&&!n.hasChildren()?xO(n,e,t):r.match?sy(n,0,i):xO(n,e,t)}function sy(n,e,t){if(0===t.length)return new rn(n.segments,{});{const r=function Bz(n){return Vb(n[0])?n[0].outlets:{[qt]:n}}(t),i={};return!r[qt]&&n.children[qt]&&1===n.numberOfChildren&&0===n.children[qt].segments.length?sy(n.children[qt],e,t):(Wi(r,(l,c)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[c]=RO(n.children[c],e,l))}),Wi(n.children,(l,c)=>{void 0===r[c]&&(i[c]=l)}),new rn(n.segments,i))}}function xO(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(Vb(l)){const _=jz(l.outlets);return new rn(r,_)}if(0===i&&Bb(t[0])){r.push(new Fb(n.segments[e].path,uU(t[0]))),i++;continue}const c=Vb(l)?l.outlets[qt]:`${l}`,f=i<t.length-1?t[i+1]:null;c&&f&&Bb(f)?(r.push(new Fb(c,uU(f))),i+=2):(r.push(new Fb(c,{})),i++)}return new rn(r,{})}function jz(n){const e={};return Wi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=xO(new rn([],{}),0,t))}),e}function uU(n){const e={};return Wi(n,(t,r)=>e[r]=`${t}`),e}function cU(n,e,t){return n==t.path&&wu(e,t.parameters)}const jb="imperative";class Eu{constructor(e,t){this.id=e,this.url=t}}class PO extends Eu{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qh extends Eu{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class NT extends Eu{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class MT extends Eu{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class kO extends Eu{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hz extends Eu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gz extends Eu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $z extends Eu{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zz extends Eu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zz extends Eu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qz{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wz{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yz{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kz{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jz{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qz{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dU{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let tZ=(()=>{class n{createUrlTree(t,r,i,l,c,f){return Fz(t||r.root,i,l,c,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),rZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){return tZ.\u0275fac(e)},providedIn:"root"}),n})();class hU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=FO(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=FO(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=LO(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return LO(e,this._root).map(t=>t.value)}}function FO(n,e){if(n===e.value)return e;for(const t of e.children){const r=FO(n,t);if(r)return r}return null}function LO(n,e){if(n===e.value)return[e];for(const t of e.children){const r=LO(n,t);if(r.length)return r.unshift(e),r}return[]}class Qc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function oy(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class fU extends hU{constructor(e,t){super(e),this.snapshot=t,UO(this,e)}toString(){return this.snapshot.toString()}}function pU(n,e){const t=function iZ(n,e){const c=new OT([],{},{},"",{},qt,e,null,n.root,-1,{});return new mU("",new Qc(c,[]))}(n,e),r=new Nr([new Fb("",{})]),i=new Nr({}),l=new Nr({}),c=new Nr({}),f=new Nr(""),_=new ay(r,i,c,f,l,qt,e,t.root);return _.snapshot=t.root,new fU(new Qc(_,[]),t)}class ay{constructor(e,t,r,i,l,c,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,ut.U)(b=>b[kb]))??vt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(e=>ny(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(e=>ny(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gU(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function sZ(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class OT{get title(){return this.data?.[kb]}constructor(e,t,r,i,l,c,f,_,b,D,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=c,this.component=f,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=D,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ny(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ny(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mU extends hU{constructor(e,t){super(t),this.url=e,UO(this,t)}toString(){return _U(this._root)}}function UO(n,e){e.value._routerState=n,e.children.forEach(t=>UO(n,t))}function _U(n){const e=n.children.length>0?` { ${n.children.map(_U).join(", ")} } `:"";return`${n.value}${e}`}function BO(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,wu(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),wu(e.params,t.params)||n.params.next(t.params),function vz(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!wu(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),wu(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function VO(n,e){const t=wu(n.params,e.params)&&function Dz(n,e){return hg(n,e)&&n.every((t,r)=>wu(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||VO(n.parent,e.parent))}function Hb(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function aZ(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Hb(n,r,i);return Hb(n,r)})}(n,e,t);return new Qc(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const c=l.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Hb(n,f)),c}}const r=function lZ(n){return new ay(new Nr(n.url),new Nr(n.params),new Nr(n.queryParams),new Nr(n.fragment),new Nr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>Hb(n,l));return new Qc(r,i)}}const jO="ngNavigationCancelingError";function yU(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=fg(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vU(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function vU(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[jO]=!0,r.cancellationCode=e,t&&(r.url=t),r}function bU(n){return wU(n)&&fg(n.url)}function wU(n){return n&&n[jO]}class uZ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Gb,this.attachRef=null}}let Gb=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new uZ,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RT=!1;let HO=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=qt,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(Gb),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,RT);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,RT);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,RT);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new s.vHH(4013,RT);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new cZ(t,f,i.injector);if(r&&function dZ(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(c);this.activated=i.createComponent(b,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),n})();class cZ{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ay?this.route:e===Gb?this.childContexts:this.parent.get(e,t)}}let GO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(t,r){1&t&&s._UZ(0,"router-outlet")},dependencies:[HO],encapsulation:2}),n})();function EU(n,e){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function zO(n){const e=n.children&&n.children.map(zO),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==qt&&(t.component=GO),t}function Ra(n){return n.outlet||qt}function DU(n,e){const t=n.filter(r=>Ra(r)===e);return t.push(...n.filter(r=>Ra(r)!==e)),t}function $b(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class mZ{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),BO(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=oy(t);e.children.forEach(l=>{const c=l.value.outlet;this.deactivateRoutes(l,i[c],r),delete i[c]}),Wi(i,(l,c)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=oy(e);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=oy(e);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=oy(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new Qz(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Kz(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(BO(i),i===l)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),BO(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=$b(i.snapshot),_=f?.get(s._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class TU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xT{constructor(e,t){this.component=e,this.route=t}}function _Z(n,e,t){const r=n._root;return zb(r,e?e._root:null,t,[r.value])}function ly(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,s.Z0I)(n)?e.get(n):n:r}function zb(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=oy(e);return n.children.forEach(c=>{(function vZ(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&l.routeConfig===c.routeConfig){const _=function bZ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!hg(n.url,e.url);case"pathParamsOrQueryParamsChange":return!hg(n.url,e.url)||!wu(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!VO(n,e)||!wu(n.queryParams,e.queryParams);default:return!VO(n,e)}}(c,l,l.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new TU(r)):(l.data=c.data,l._resolvedData=c._resolvedData),zb(n,e,l.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new xT(f.outlet.component,c))}else c&&Zb(e,f,i),i.canActivateChecks.push(new TU(r)),zb(n,null,l.component?f?f.children:null:t,r,i)})(c,l[c.value.outlet],t,r.concat([c.value]),i),delete l[c.value.outlet]}),Wi(l,(c,f)=>Zb(c,t.getContext(f),i)),i}function Zb(n,e,t){const r=oy(n),i=n.value;Wi(r,(l,c)=>{Zb(l,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new xT(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function qb(n){return"function"==typeof n}function ZO(n){return n instanceof W1||"EmptyError"===n?.name}const PT=Symbol("INITIAL_VALUE");function uy(){return Mr(n=>Lf(n.map(e=>e.pipe(Xn(1),Ec(PT)))).pipe((0,ut.U)(e=>{for(const t of e)if(!0!==t){if(t===PT)return PT;if(!1===t||t instanceof Zh)return t}return!0}),Sn(e=>e!==PT),Xn(1)))}function CU(n){return(0,gz.z)((0,ei.b)(e=>{if(fg(e))throw yU(0,e)}),(0,ut.U)(e=>!0===e))}const qO={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function SU(n,e,t,r,i){const l=WO(n,e,t);return l.matched?function LZ(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?vt(i.map(c=>{const f=ly(c,n);return zh(function SZ(n){return n&&qb(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(uy(),CU()):vt(!0)}(r=EU(e,r),e,t).pipe((0,ut.U)(c=>!0===c?l:{...qO})):vt(l)}function WO(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...qO}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||yz)(t,n,e);if(!i)return{...qO};const l={};Wi(i.posParams,(f,_)=>{l[_]=f.path});const c=i.consumed.length>0?{...l,...i.consumed[i.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function kT(n,e,t,r){if(t.length>0&&function VZ(n,e,t){return t.some(r=>FT(n,e,r)&&Ra(r)!==qt)}(n,t,r)){const l=new rn(e,function BZ(n,e,t,r){const i={};i[qt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Ra(l)!==qt){const c=new rn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Ra(l)]=c}return i}(n,e,r,new rn(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function jZ(n,e,t){return t.some(r=>FT(n,e,r))}(n,t,r)){const l=new rn(n.segments,function UZ(n,e,t,r,i){const l={};for(const c of r)if(FT(n,t,c)&&!i[Ra(c)]){const f=new rn([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,l[Ra(c)]=f}return{...i,...l}}(n,e,t,r,n.children));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const i=new rn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function FT(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function IU(n,e,t,r){return!!(Ra(n)===r||r!==qt&&FT(e,t,n))&&("**"===n.path||WO(e,n,t).matched)}function AU(n,e,t){return 0===e.length&&!n.children[t]}const LT=!1;class UT{constructor(e){this.segmentGroup=e||null}}class NU{constructor(e){this.urlTree=e}}function Wb(n){return Pb(new UT(n))}function MU(n){return Pb(new NU(n))}function HZ(n){return Pb(new s.vHH(4e3,LT&&`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class zZ{constructor(e,t,r,i,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0}apply(){const e=kT(this.urlTree.root,[],[],this.config).segmentGroup,t=new rn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,qt).pipe((0,ut.U)(l=>this.createUrlTree(AT(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe($h(l=>{if(l instanceof NU)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof UT?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,qt).pipe((0,ut.U)(i=>this.createUrlTree(AT(i),e.queryParams,e.fragment))).pipe($h(i=>{throw i instanceof UT?this.noMatchError(i):i}))}noMatchError(e){return new s.vHH(4002,LT&&`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=MO(e);return new Zh(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ut.U)(l=>new rn([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,$t.D)(i).pipe(pl(l=>{const c=r.children[l],f=DU(t,l);return this.expandSegmentGroup(e,f,c,l).pipe((0,ut.U)(_=>({segment:_,outlet:l})))}),yp((l,c)=>(l[c.outlet]=c.segment,l),{}),z2())}expandSegment(e,t,r,i,l,c){return(0,$t.D)(r).pipe(pl(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,l,c).pipe($h(b=>{if(b instanceof UT)return vt(null);throw b}))),Yc(f=>!!f),$h((f,_)=>{if(ZO(f))return AU(t,i,l)?vt(new rn([],{})):Wb(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,l,c,f){return IU(i,t,l,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c):Wb(t):Wb(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?MU(l):this.lineralizeSegments(r,l).pipe((0,vi.z)(c=>{const f=new rn(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:D}=WO(t,i,l);if(!f)return Wb(t);const A=this.applyRedirectCommands(_,i.redirectTo,D);return i.redirectTo.startsWith("/")?MU(A):this.lineralizeSegments(i,A).pipe((0,vi.z)(x=>this.expandSegment(e,t,r,x.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){return"**"===r.path?(e=EU(r,e),r.loadChildren?(r._loadedRoutes?vt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,ut.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new rn(i,{})))):vt(new rn(i,{}))):SU(t,r,i,e).pipe(Mr(({matched:c,consumedSegments:f,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,vi.z)(D=>{const A=D.injector??e,x=D.routes,{segmentGroup:P,slicedSegments:j}=kT(t,f,_,x),Y=new rn(P.segments,P.children);if(0===j.length&&Y.hasChildren())return this.expandChildren(A,x,Y).pipe((0,ut.U)(Qe=>new rn(f,Qe)));if(0===x.length&&0===j.length)return vt(new rn(f,{}));const ie=Ra(r)===l;return this.expandSegment(A,Y,x,j,ie?qt:l,!0).pipe((0,ut.U)(ke=>new rn(f.concat(ke.segments),ke.children)))})):Wb(t)))}getChildConfig(e,t,r){return t.children?vt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?vt({routes:t._loadedRoutes,injector:t._loadedInjector}):function FZ(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?vt(!0):vt(i.map(c=>{const f=ly(c,n);return zh(function EZ(n){return n&&qb(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(uy(),CU())}(e,t,r).pipe((0,vi.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,ei.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function GZ(n){return Pb(vU(LT&&`Cannot load children because the guard of the route "path: '${n.path}'" returned false`,3))}(t))):vt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return vt(r);if(i.numberOfChildren>1||!i.children[qt])return HZ(e.redirectTo);i=i.children[qt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new Zh(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Wi(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[l]=t[f]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let c={};return Wi(t.children,(f,_)=>{c[_]=this.createSegmentGroup(e,f,r,i)}),new rn(l,c)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new s.vHH(4001,LT&&`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class qZ{}class KZ{constructor(e,t,r,i,l,c,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=c,this.urlSerializer=f}recognize(){const e=kT(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,qt).pipe((0,ut.U)(t=>{if(null===t)return null;const r=new OT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Qc(r,t),l=new mU(this.url,i);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=gU(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,$t.D)(Object.keys(r.children)).pipe(pl(i=>{const l=r.children[i],c=DU(t,i);return this.processSegmentGroup(e,c,l,i)}),yp((i,l)=>i&&l?(i.push(...l),i):null),function mz(n,e=!1){return(0,ar.e)((t,r)=>{let i=0;t.subscribe((0,Cn.x)(r,l=>{const c=n(l,i++);(c||e)&&r.next(l),!c&&r.complete()}))})}(i=>null!==i),Y1(null),z2(),(0,ut.U)(i=>{if(null===i)return null;const l=RU(i);return function JZ(n){n.sort((e,t)=>e.value.outlet===qt?-1:t.value.outlet===qt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,i,l){return(0,$t.D)(t).pipe(pl(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,l)),Yc(c=>!!c),$h(c=>{if(ZO(c))return AU(r,i,l)?vt([]):vt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,l){if(t.redirectTo||!IU(t,r,i,l))return vt(null);let c;if("**"===t.path){const f=i.length>0?W2(i).parameters:{},_=PU(r)+i.length;c=vt({snapshot:new OT(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kU(t),Ra(t),t.component??t._loadedComponent??null,t,xU(r),_,FU(t)),consumedSegments:[],remainingSegments:[]})}else c=SU(r,t,i,e).pipe((0,ut.U)(({matched:f,consumedSegments:_,remainingSegments:b,parameters:D})=>{if(!f)return null;const A=PU(r)+_.length;return{snapshot:new OT(_,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kU(t),Ra(t),t.component??t._loadedComponent??null,t,xU(r),A,FU(t)),consumedSegments:_,remainingSegments:b}}));return c.pipe(Mr(f=>{if(null===f)return vt(null);const{snapshot:_,consumedSegments:b,remainingSegments:D}=f;e=t._injector??e;const A=t._loadedInjector??e,x=function QZ(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:P,slicedSegments:j}=kT(r,b,D,x.filter(ie=>void 0===ie.redirectTo));if(0===j.length&&P.hasChildren())return this.processChildren(A,x,P).pipe((0,ut.U)(ie=>null===ie?null:[new Qc(_,ie)]));if(0===x.length&&0===j.length)return vt([new Qc(_,[])]);const Y=Ra(t)===l;return this.processSegment(A,x,P,j,Y?qt:l).pipe((0,ut.U)(ie=>null===ie?null:[new Qc(_,ie)]))}))}}function XZ(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function RU(n){const e=[],t=new Set;for(const r of n){if(!XZ(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=RU(r.children);e.push(new Qc(r.value,i))}return e.filter(r=>!t.has(r))}function xU(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function PU(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function kU(n){return n.data||{}}function FU(n){return n.resolve||{}}function nq(n,e){return(0,vi.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return vt(t);let l=0;return(0,$t.D)(i).pipe(pl(c=>function rq(n,e,t,r){const i=n.routeConfig,l=n._resolve;return void 0!==i?.title&&!LU(i)&&(l[kb]=i.title),function iq(n,e,t,r){const i=function sq(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return vt({});const l={};return(0,$t.D)(i).pipe((0,vi.z)(c=>function oq(n,e,t,r){const i=$b(e)??r,l=ly(n,i);return zh(l.resolve?l.resolve(e,t):i.runInContext(()=>l(e,t)))}(n[c],e,t,r).pipe(Yc(),(0,ei.b)(f=>{l[c]=f}))),SO(1),function cm(n){return(0,ut.U)(()=>n)}(l),$h(c=>ZO(c)?Po.E:Pb(c)))}(l,n,e,r).pipe((0,ut.U)(c=>(n._resolvedData=c,n.data=gU(n,t).resolve,i&&LU(i)&&(n.data[kb]=i.title),null)))}(c.route,r,n,e)),(0,ei.b)(()=>l++),SO(1),(0,vi.z)(c=>l===i.length?vt(t):Po.E))})}function LU(n){return"string"==typeof n.title||null===n.title}function YO(n){return Mr(e=>{const t=n(e);return t?(0,$t.D)(t).pipe((0,ut.U)(()=>e)):vt(e)})}const cy=new s.OlP("ROUTES");let KO=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.f3M)(s.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return vt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=zh(t.loadComponent()).pipe((0,ut.U)(BU),(0,ei.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),IO(()=>{this.componentLoaders.delete(t)})),i=new $2(r,()=>new fn.x).pipe(CO());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return vt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,ut.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,b,D=!1;Array.isArray(f)?b=f:(_=f.create(t).injector,b=q2(_.get(cy,[],s.XFs.Self|s.XFs.Optional)));return{routes:b.map(zO),injector:_}}),IO(()=>{this.childrenLoaders.delete(r)})),c=new $2(l,()=>new fn.x).pipe(CO());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return zh(t()).pipe((0,ut.U)(BU),(0,vi.z)(r=>r instanceof s.YKP||Array.isArray(r)?vt(r):(0,$t.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BU(n){return function aq(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let VT=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new fn.x,this.configLoader=(0,s.f3M)(KO),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(Lb),this.rootContexts=(0,s.f3M)(Gb),this.navigationId=0,this.afterPreactivation=()=>vt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Wz(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new qz(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Nr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:jb,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Sn(r=>0!==r.id),(0,ut.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Mr(r=>{let i=!1,l=!1;return vt(r).pipe((0,ei.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mr(c=>{const f=t.browserUrlTree.toString(),_=!t.navigated||c.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const D="";return this.events.next(new MT(c.id,t.serializeUrl(r.rawUrl),D,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),Po.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return VU(c.source)&&(t.browserUrlTree=c.extractedUrl),vt(c).pipe(Mr(D=>{const A=this.transitions?.getValue();return this.events.next(new PO(D.id,this.urlSerializer.serialize(D.extractedUrl),D.source,D.restoredState)),A!==this.transitions?.getValue()?Po.E:Promise.resolve(D)}),function ZZ(n,e,t,r){return Mr(i=>function $Z(n,e,t,r,i){return new zZ(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,ut.U)(l=>({...i,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,ei.b)(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},r.urlAfterRedirects=D.urlAfterRedirects}),function tq(n,e,t,r,i){return(0,vi.z)(l=>function YZ(n,e,t,r,i,l,c="emptyOnly"){return new KZ(n,e,t,r,i,c,l).recognize().pipe(Mr(f=>null===f?function WZ(n){return new On.y(e=>e.error(n))}(new qZ):vt(f)))}(n,e,t,l.urlAfterRedirects,r.serialize(l.urlAfterRedirects),r,i).pipe((0,ut.U)(c=>({...l,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,ei.b)(D=>{if(r.targetSnapshot=D.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!D.extras.skipLocationChange){const x=t.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);t.setBrowserUrl(x,D)}t.browserUrlTree=D.urlAfterRedirects}const A=new Hz(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(A)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:D,extractedUrl:A,source:x,restoredState:P,extras:j}=c,Y=new PO(D,this.urlSerializer.serialize(A),x,P);this.events.next(Y);const ie=pU(A,this.rootComponentType).snapshot;return vt(r={...c,targetSnapshot:ie,urlAfterRedirects:A,extras:{...j,skipLocationChange:!1,replaceUrl:!1}})}{const D="";return this.events.next(new MT(c.id,t.serializeUrl(r.extractedUrl),D,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),Po.E}}),(0,ei.b)(c=>{const f=new Gz(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),(0,ut.U)(c=>r={...c,guards:_Z(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function AZ(n,e){return(0,vi.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:c}}=t;return 0===c.length&&0===l.length?vt({...t,guardsResult:!0}):function NZ(n,e,t,r){return(0,$t.D)(n).pipe((0,vi.z)(i=>function kZ(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?vt(l.map(f=>{const _=$b(e)??i,b=ly(f,_);return zh(function CZ(n){return n&&qb(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):_.runInContext(()=>b(n,e,t,r))).pipe(Yc())})).pipe(uy()):vt(!0)}(i.component,i.route,t,e,r)),Yc(i=>!0!==i,!0))}(c,r,i,n).pipe((0,vi.z)(f=>f&&function wZ(n){return"boolean"==typeof n}(f)?function MZ(n,e,t,r){return(0,$t.D)(e).pipe(pl(i=>lm(function RZ(n,e){return null!==n&&e&&e(new Yz(n)),vt(!0)}(i.route.parent,r),function OZ(n,e){return null!==n&&e&&e(new Jz(n)),vt(!0)}(i.route,r),function PZ(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(c=>function yZ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>G2(()=>vt(c.guards.map(_=>{const b=$b(c.node)??t,D=ly(_,b);return zh(function TZ(n){return n&&qb(n.canActivateChild)}(D)?D.canActivateChild(r,n):b.runInContext(()=>D(r,n))).pipe(Yc())})).pipe(uy())));return vt(l).pipe(uy())}(n,i.path,t),function xZ(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return vt(!0);const i=r.map(l=>G2(()=>{const c=$b(e)??t,f=ly(l,c);return zh(function DZ(n){return n&&qb(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(Yc())}));return vt(i).pipe(uy())}(n,i.route,t))),Yc(i=>!0!==i,!0))}(r,l,n,e):vt(f)),(0,ut.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,c=>this.events.next(c)),(0,ei.b)(c=>{if(r.guardsResult=c.guardsResult,fg(c.guardsResult))throw yU(0,c.guardsResult);const f=new $z(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),Sn(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),YO(c=>{if(c.guards.canActivateChecks.length)return vt(c).pipe((0,ei.b)(f=>{const _=new zz(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),Mr(f=>{let _=!1;return vt(f).pipe(nq(t.paramsInheritanceStrategy,this.environmentInjector),(0,ei.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,ei.b)(f=>{const _=new Zz(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),YO(c=>{const f=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,ei.b)(D=>{_.component=D}),(0,ut.U)(()=>{})));for(const D of _.children)b.push(...f(D));return b};return Lf(f(c.targetSnapshot.root)).pipe(Y1(),Xn(1))}),YO(()=>this.afterPreactivation()),(0,ut.U)(c=>{const f=function oZ(n,e,t){const r=Hb(n,e._root,t?t._root:void 0);return new fU(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:f}}),(0,ei.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,ut.U)(r=>(new mZ(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),(0,ei.b)({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new qh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),IO(()=>{i||l||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),$h(c=>{if(l=!0,wU(c)){bU(c)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new NT(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(f),bU(c)){const _=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||VU(r.source)};t.scheduleNavigation(_,jb,null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new kO(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(c))}catch(_){r.reject(_)}}return Po.E}))}))}cancelNavigationTransition(t,r,i){const l=new NT(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(l),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VU(n){return n!==jb}let jU=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(l=>l.outlet===qt);return r}getResolvedTitleForRoute(t){return t.data[kb]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(lq)},providedIn:"root"}),n})(),lq=(()=>{class n extends jU{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(No))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(dq)},providedIn:"root"}),n})();class cq{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let dq=(()=>{class n extends cq{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jT=new s.OlP("",{providedIn:"root",factory:()=>({})});let fq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(pq)},providedIn:"root"}),n})(),pq=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gq(n){throw n}function mq(n,e,t){return e.parse("/")}const _q={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let co=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.f3M)(s.c2e),this.isNgZoneEnabled=!1,this.options=(0,s.f3M)(jT,{optional:!0})||{},this.errorHandler=this.options.errorHandler||gq,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||mq,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.f3M)(fq),this.routeReuseStrategy=(0,s.f3M)(uq),this.urlCreationStrategy=(0,s.f3M)(rZ),this.titleStrategy=(0,s.f3M)(jU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=q2((0,s.f3M)(cy,{optional:!0})??[]),this.navigationTransitions=(0,s.f3M)(VT),this.urlSerializer=(0,s.f3M)(Lb),this.location=(0,s.f3M)(Le),this.isNgZoneEnabled=(0,s.f3M)(s.R0b)instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Zh,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pU(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),jb,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const l={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(l.state=_)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,c,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(zO),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:c,queryParamsHandling:f,preserveFragment:_}=r,b=_?this.currentUrlTree.fragment:c;let D=null;switch(f){case"merge":D={...this.currentUrlTree.queryParams,...l};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=l||null}return null!==D&&(D=this.removeEmptyProps(D)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,D,b??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=fg(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,jb,null,r)}navigate(t,r={skipLocationChange:!1}){return function vq(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new s.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{..._q}:!1===r?{...yq}:r,fg(t))return K2(this.currentUrlTree,t,i);const l=this.parseUrl(t);return K2(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}scheduleNavigation(t,r,i,l,c){if(this.disposed)return Promise.resolve(!1);let f,_,b,D;return c?(f=c.resolve,_=c.reject,b=c.promise):b=new Promise((A,x)=>{f=A,_=x}),D="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:D,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:l,resolve:f,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(A=>Promise.reject(A))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HT=(()=>{class n{constructor(t,r,i,l,c,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=c,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new fn.x;const _=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(b=>{b instanceof qh&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,s.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,s.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,s.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,l,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||l||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,l=this.el.nativeElement;null!==r?i.setAttribute(l,t,r):i.removeAttribute(l,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(co),s.Y36(ay),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(lt))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&s.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&s.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})();class HU{}let Eq=(()=>{class n{constructor(t,r,i,l,c){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Sn(t=>t instanceof qh),pl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,s.MMx)(l.providers,t,`Route: ${l.path}`));const c=l._injector??t,f=l._loadedInjector??c;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?i.push(this.preloadConfig(c,l)):(l.children||l._loadedRoutes)&&i.push(this.processRoutes(f,l.children??l._loadedRoutes))}return(0,$t.D)(i).pipe((0,Uf.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):vt(null);const l=i.pipe((0,vi.z)(c=>null===c?vt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,$t.D)([l,c]).pipe((0,Uf.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(co),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(HU),s.LFG(KO))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QO=new s.OlP("");let GU=(()=>{class n{constructor(t,r,i,l,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=l,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof PO?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof dU&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dU(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();var Yo=(()=>((Yo=Yo||{})[Yo.COMPLETE=0]="COMPLETE",Yo[Yo.FAILED=1]="FAILED",Yo[Yo.REDIRECTING=2]="REDIRECTING",Yo))();const dy=!1;function Wh(n,e){return{\u0275kind:n,\u0275providers:e}}const XO=new s.OlP("",{providedIn:"root",factory:()=>!1});function zU(){const n=(0,s.f3M)(s.zs3);return e=>{const t=n.get(s.z2F);if(e!==t.components[0])return;const r=n.get(co),i=n.get(ZU);1===n.get(eR)&&r.initialNavigation(),n.get(qU,null,s.XFs.Optional)?.setUpPreloading(),n.get(QO,null,s.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const ZU=new s.OlP(dy?"bootstrap done indicator":"",{factory:()=>new fn.x}),eR=new s.OlP(dy?"initial navigation":"",{providedIn:"root",factory:()=>1});function Iq(){let n=[];return n=dy?[{provide:s.Xts,multi:!0,useFactory:()=>{const e=(0,s.f3M)(co);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Xz(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Wh(1,n)}const qU=new s.OlP(dy?"router preloader":"");function Aq(n){return Wh(0,[{provide:qU,useExisting:Eq},{provide:HU,useExisting:n}])}const Yb=!1,WU=new s.OlP(Yb?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Nq=[Le,{provide:Lb,useClass:AO},co,Gb,{provide:ay,useFactory:function $U(n){return n.routerState.root},deps:[co]},KO,Yb?{provide:XO,useValue:!0}:[]];function Mq(){return new s.PXZ("Router",co)}let YU=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Nq,Yb&&r?.enableTracing?Iq().\u0275providers:[],{provide:cy,multi:!0,useValue:t},{provide:WU,useFactory:Pq,deps:[[co,new s.FiY,new s.tp0]]},{provide:jT,useValue:r||{}},r?.useHash?{provide:lt,useClass:Ce}:{provide:lt,useClass:Ae},{provide:QO,useFactory:()=>{const n=(0,s.f3M)(wo),e=(0,s.f3M)(s.R0b),t=(0,s.f3M)(jT),r=(0,s.f3M)(VT),i=(0,s.f3M)(Lb);return t.scrollOffset&&n.setOffset(t.scrollOffset),new GU(i,r,n,e,t)}},r?.preloadingStrategy?Aq(r.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:Mq},r?.initialNavigation?kq(r):[],[{provide:KU,useFactory:zU},{provide:s.tb,multi:!0,useExisting:KU}]]}}static forChild(t){return{ngModule:n,providers:[{provide:cy,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(WU,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[GO]}),n})();function Pq(n){if(Yb&&n)throw new s.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function kq(n){return["disabled"===n.initialNavigation?Wh(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const e=(0,s.f3M)(co);return()=>{e.setUpLocationChangeListener()}}},{provide:eR,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Wh(2,[{provide:eR,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:e=>{const t=e.get(de,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(co),l=e.get(ZU);(function Dq(n,e){n.events.pipe(Sn(t=>t instanceof qh||t instanceof NT||t instanceof kO||t instanceof MT),(0,ut.U)(t=>t instanceof qh||t instanceof MT?Yo.COMPLETE:t instanceof NT&&(0===t.code||1===t.code)?Yo.REDIRECTING:Yo.FAILED),Sn(t=>t!==Yo.REDIRECTING),Xn(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(VT).afterPreactivation=()=>(r(!0),l.closed?vt(void 0):l),i.initialNavigation()}))}}]).\u0275providers:[]]}const KU=new s.OlP(Yb?"Router Initializer":"");var tR=k(5809);function Lq(n,e){1&n&&(s.TgZ(0,"div",13)(1,"div",25)(2,"h2",26),s._uU(3,"Multivende"),s.qZA(),s.TgZ(4,"div",27)(5,"p"),s._uU(6,"Empresa SaaS B2B de integraci\xf3n omnicanal para eCommerce, creada para ayudar a grandes y medianas empresas a centralizar la administraci\xf3n de sus marketplaces y tiendas online, permiti\xe9ndoles optimizar su operaci\xf3n online end-to-end para alcanzar un nivel de gesti\xf3n m\xe1s eficiente y con menos errores."),s.qZA(),s.TgZ(7,"p"),s._uU(8,"Objetivos cumplidos:"),s.qZA(),s.TgZ(9,"ul")(10,"li"),s._uU(11,"Definici\xf3n de roles, proceso de onboarding y metodologias de trabajo para el equipo de desarrollo e integraciones API."),s.qZA(),s.TgZ(12,"li"),s._uU(13,"Colaboraci\xf3n con el cuadro directivo para identificar problemas y proponer soluciones."),s.qZA(),s.TgZ(14,"li"),s._uU(15,"Supervisi\xf3n y delegaci\xf3n de tareas en un equipo de 10 personas."),s.qZA(),s.TgZ(16,"li"),s._uU(17,"Gesti\xf3n de partners t\xe9cnicos."),s.qZA(),s.TgZ(18,"li"),s._uU(19,"Desarrollo nuevas funcionalidades y mantenimiento para la aplicaci\xf3n, la cual es contiene integraciones con diversas plataformas como Mercado Libre, Mirakel, Rocket, Shopify, VTEX, entre otros"),s.qZA()()()()())}function Uq(n,e){1&n&&(s.TgZ(0,"div",13)(1,"div",25)(2,"h2",26),s._uU(3,"Edutecno"),s.qZA(),s.TgZ(4,"div",27)(5,"p"),s._uU(6,"Instituci\xf3n de capacitaci\xf3n profesional y t\xe9cnica con presencia en Chile y Per\xfa. Acreditada por el Servicio Nacional de Capacitaci\xf3n y Empleo en Chile (SENCE)."),s.qZA(),s.TgZ(7,"p"),s._uU(8,"Objetivos cumplidos:"),s.qZA(),s.TgZ(9,"ul")(10,"li"),s._uU(11,"Liderar el equipo de sistemas e implemtaci\xf3n de metodolog\xeda SCRUM."),s.qZA(),s.TgZ(12,"li"),s._uU(13,"Definiciones de modelo y desarrollo de nuevas funcionalidades: sistema ERP a medida del negocio, plataformas LMS, Web Services bajo arquitectura de micro servicios, integraci\xf3n con plataformas externas."),s.qZA(),s.TgZ(14,"li"),s._uU(15,"Creaci\xf3n de plantillas para las actividades interactivas."),s.qZA(),s.TgZ(16,"li"),s._uU(17,"Actualizaci\xf3n a nuevas tecnolog\xedas de los sistemas existentes."),s.qZA(),s.TgZ(18,"li"),s._uU(19,"Migraci\xf3n a servicios CLUD Azure."),s.qZA(),s.TgZ(20,"li"),s._uU(21,"Gestionar proveedores."),s.qZA()()()()())}function Bq(n,e){1&n&&(s.TgZ(0,"div",13)(1,"div",25)(2,"h2",26),s._uU(3,"Industrias KEL"),s.qZA(),s.TgZ(4,"div",27)(5,"p"),s._uU(6,"Empresa Venezolana dedicada a la fabricaci\xf3n de productos alimenticiones del grupo familiar."),s.qZA(),s.TgZ(7,"p"),s._uU(8,"Objetivos cumplidos:"),s.qZA(),s.TgZ(9,"ul")(10,"li"),s._uU(11,"Desarrollo de sistema de control de pedidos, distribuci\xf3n y administraci\xf3n de inventario."),s.qZA(),s.TgZ(12,"li"),s._uU(13,"Desarrollo de sistema de administraci\xf3n del fondo de ahorro de los colaboradores."),s.qZA(),s.TgZ(14,"li"),s._uU(15,"Desarrollo de sitio web."),s.qZA()()()()())}let Vq=(()=>{class n{constructor(){this.zoom=14,this.lat=44.445248,this.lng=26.099672,this.active=1,this.styles=[{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}],this.data=new Date}ngOnInit(){new tR(".rellax-header"),document.getElementsByTagName("body")[0].classList.add("profile-page"),document.getElementsByTagName("nav")[0].classList.add("navbar-transparent")}ngOnDestroy(){document.getElementsByTagName("body")[0].classList.remove("profile-page"),document.getElementsByTagName("nav")[0].classList.remove("navbar-transparent")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-about-us"]],standalone:!0,features:[s.jDz],decls:35,vars:1,consts:[[1,"wrapper"],["filter-color","orange",1,"page-header","page-header-small"],["data-rellax-speed","-8",1,"page-header-image","rellax-header",2,"background-image","url('assets/img/bg5.jpg')"],[1,"container"],[1,"content-center"],[1,"photo-container"],["src","../../../assets/img/fotoprofesional.jpg","alt",""],[1,"title"],[1,"category"],[1,"section"],[1,"button-container"],["rel","tooltip","title","Follow us on Linkedin","data-placement","bottom","href","https://www.linkedin.com/in/jessicaroa","target","_blank",1,"btn","btn-default","btn-round","btn-lg","btn-icon","linkedin"],[1,"description"],[1,"row"],[1,"col-md-12"],[1,"title","text-center"],["ngbNav","",1,"nav-tabs","d-flex","justify-content-center"],["nav","ngbNav"],["ngbNavItem","","id","mv"],["ngbNavLink","",1,"mv"],["ngbNavContent",""],["ngbNavItem","","id","edutecno"],["ngbNavLink",""],["ngbNavItem","","id","kel"],[3,"ngbNavOutlet"],[1,"card"],[1,"card-header","bg-secondary","text-center","text-uppercase"],[1,"card-body"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"div",2),s.TgZ(3,"div",3)(4,"div",4)(5,"div",5),s._UZ(6,"img",6),s.qZA(),s.TgZ(7,"h3",7),s._uU(8,"Jessica Roa"),s.qZA(),s.TgZ(9,"p",8),s._uU(10,"Lead Developer | Scrum Master (SMPC) | Software Developer"),s.qZA()()()(),s.TgZ(11,"div",9)(12,"div",3)(13,"div",10),s._UZ(14,"a",11),s.qZA(),s.TgZ(15,"h3",7),s._uU(16,"About me"),s.qZA(),s.TgZ(17,"h5",12),s._uU(18,"Ingeniera con mas de 6 a\xf1os de experiencia en desarrollo de proyectos de software, en los \xfaltimos a\xf1os liderando equipos de desarrollo y gesti\xf3n de proveedores. Comprometida en el cumplimiento de las metas del proyecto buscando la mejor soluci\xf3n para la necesidad del negocio. Siempre buscando aprender nuevas habilidades, asumir responsabilidades adicionales y crecer profesionalmente."),s.qZA(),s.TgZ(19,"div",13)(20,"div",14)(21,"h4",15),s._uU(22,"Experiencia"),s.qZA(),s.TgZ(23,"ul",16,17)(25,"li",18),s._UZ(26,"a",19),s.YNc(27,Lq,20,0,"ng-template",20),s.qZA(),s.TgZ(28,"li",21),s._UZ(29,"a",22),s.YNc(30,Uq,22,0,"ng-template",20),s.qZA(),s.TgZ(31,"li",23),s._UZ(32,"a",22),s.YNc(33,Bq,16,0,"ng-template",20),s.qZA()(),s._UZ(34,"div",24),s.qZA()()()()()),2&t){const i=s.MAs(24);s.xp6(34),s.Q6J("ngbNavOutlet",i)}},dependencies:[Gm,cp,dp,jm,Hm,hp],styles:[".linkedin[_ngcontent-%COMP%]{background-image:url(linkedin.048b7e4eb2a7793c.png);background-size:80%;background-position:center;background-repeat:no-repeat}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:4rem;width:4rem;background-size:100%;background-position:center;background-repeat:no-repeat;border-radius:50%;border:3px solid #888888!important}.nav-tabs[_ngcontent-%COMP%] > .nav-item[_ngcontent-%COMP%] > .nav-link.active[_ngcontent-%COMP%]{background-color:#4444449e!important}#mv[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-image:url(mv.ed51e21f1ceee02f.png);background-size:65%!important}#edutecno[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-image:url(edutecno.c2d9534a79fc3979.png)}#kel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-image:url(kel.5e41ca74fe1bdcf1.png)}"]}),n})(),jq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-cookies-policy"]],decls:48,vars:0,consts:[[1,"container"],[1,"row"],[1,"card"],[1,"card-header","bg-secondary","text-center","text-uppercase"],[1,"card-body"],[1,"text-uppercase","text-center"],[1,"text-uppercase"],["href","http://support.mozilla.org/es/kb/habilitar-y-deshabilitar-cookies-quelos-sitios-we","target","_blank"],["href","http://support.google.com/chrome/bin/answer.py?hl=es&answer=95647"],["href","http://windows.microsoft.com/es-es/windows7/how-to-managecookies-in-internet-explorer-9"],["href","http://support.apple.com/kb/ph5042"],["href","http://help.opera.com/Windows/11.50/es-ES/cookies.html"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),s._uU(4,"Politica de cookies"),s.qZA(),s.TgZ(5,"div",4)(6,"p"),s._uU(7," Las cookies son breves informaciones que se env\xedan y almacenan en el disco duro del ordenador del usuario a trav\xe9s de su navegador cuando \xe9ste se conecta a una web. Las cookies se pueden utilizar para recabar y almacenar datos del usuario mientras est\xe1 conectado para facilitarle los servicios solicitados y que no se suelen conservar (Cookies de sesi\xf3n), o para conservar los datos del usuario para otro tipo de servicios futuros y que se pueden conservar por tiempo indefinido (Cookies persistentes). Las cookies pueden ser propias o de terceros. "),s.qZA(),s.TgZ(8,"h3",5),s._uU(9,"actualmente no usamos cookies, por eso no solicitamos autorizaci\xf3n al ingresar al sitio"),s.qZA(),s.TgZ(10,"h4",6),s._uU(11,"Hay varios tipos de cookies"),s.qZA(),s.TgZ(12,"ul")(13,"li"),s._uU(14,"Cookies t\xe9cnicas que facilitan la navegaci\xf3n del usuario y la utilizaci\xf3n de las diferentes opciones o servicios que ofrece la web como identificar la sesi\xf3n, permitir el acceso a determinadas \xe1reas, facilitar pedidos, compras, cumplimentaci\xf3n de formularios, inscripciones, seguridad, facilitar funcionalidades (videos, redes sociales\u2026)."),s.qZA(),s.TgZ(15,"li"),s._uU(16,"Cookies de personalizaci\xf3n que permiten al usuario acceder a los servicios seg\xfan sus preferencias (idioma, navegador, configuraci\xf3n\u2026)."),s.qZA(),s.TgZ(17,"li"),s._uU(18,"Cookies de an\xe1lisis que permiten el an\xe1lisis an\xf3nimo del comportamiento de los usuarios de la web y que permiten medir la actividad del usuario y elaborar perfiles de navegaci\xf3n con el fin objetivo de mejorar los sitios web."),s.qZA(),s.TgZ(19,"li"),s._uU(20,"Cookies publicitarias que permiten la gesti\xf3n de los espacios publicitarios de la web."),s.qZA(),s.TgZ(21,"li"),s._uU(22,"Cookies de publicidad personalizada que permiten la gesti\xf3n de los espacios publicitarios de la web en base al comportamiento y h\xe1bitos de navegaci\xf3n de usuario, de donde se obtiene su perfil y permiten personalizar la publicidad que se muestra en el navegador del usuario."),s.qZA()(),s.TgZ(23,"h4",6),s._uU(24,"Puedes eliminar las cookies de la siguiente manera"),s.qZA(),s.TgZ(25,"p"),s._uU(26," Para permitir, conocer, bloquear o eliminar las cookies instaladas en tu equipo puedes hacerlo mediante la configuraci\xf3n de las opciones del navegador instalado en su ordenador. Puedes encontrar informaci\xf3n sobre c\xf3mo hacerlo en el caso que uses como navegador: "),s.qZA(),s.TgZ(27,"ul")(28,"li"),s._uU(29,"Firefox desde aqu\xed: "),s.TgZ(30,"a",7),s._uU(31,"http://support.mozilla.org/es/kb/habilitar-y-deshabilitar-cookies-quelos-sitios-we"),s.qZA()(),s.TgZ(32,"li"),s._uU(33,"Chrome desde aqu\xed: "),s.TgZ(34,"a",8),s._uU(35,"http://support.google.com/chrome/bin/answer.py?hl=es&answer=95647"),s.qZA()(),s.TgZ(36,"li"),s._uU(37,"Explorer desde aqu\xed: "),s.TgZ(38,"a",9),s._uU(39,"http://windows.microsoft.com/es-es/windows7/how-to-managecookies-in-internet-explorer-9"),s.qZA()(),s.TgZ(40,"li"),s._uU(41,"Safari desde aqu\xed: "),s.TgZ(42,"a",10),s._uU(43,"http://support.apple.com/kb/ph5042"),s.qZA()(),s.TgZ(44,"li"),s._uU(45,"Opera desde aqu\xed: "),s.TgZ(46,"a",11),s._uU(47,"http://help.opera.com/Windows/11.50/es-ES/cookies.html"),s.qZA()()()()()()())},styles:[".container[_ngcontent-%COMP%]{margin-top:100px}.card-header[_ngcontent-%COMP%]{color:#fff}"]}),n})(),Hq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-faqs"]],decls:2,vars:0,template:function(t,r){1&t&&(s.TgZ(0,"p"),s._uU(1,"faqs works!"),s.qZA())}}),n})(),Gq=(()=>{class n{constructor(t){this.firebase=t,this.url="https://mailthis.to/jesslading"}sendEmail(t){return this.firebase.collection("clients").add(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(KL))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $q(n,e){1&n&&(s.TgZ(0,"div",45),s._uU(1," Por favor, ingrese su nombre. "),s.qZA())}function zq(n,e){1&n&&(s.TgZ(0,"div",46),s._uU(1," Por favor, ingrese su n\xfamero de tel\xe9fono. "),s.qZA())}function Zq(n,e){1&n&&(s.TgZ(0,"div",47),s._uU(1," Por favor, ingrese su correo electr\xf3nico. "),s.qZA())}function qq(n,e){1&n&&(s.TgZ(0,"div",48),s._uU(1," Por favor, ingrese su mensaje con el detalle de su solicitud. "),s.qZA())}function Wq(n,e){1&n&&s._UZ(0,"span",49)}const Yq=[{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:(()=>{class n{constructor(t,r,i){this.fb=t,this.emailService=r,this.toastr=i,this.focus=!1,this.focus1=!1,this.validateFormContact=!1,this.loading=!1,this.botonForm="Enviar",this.botonForm="Enviar",this.contact=this.fb.group({name:["",xs.required],phone:["",[xs.required,xs.maxLength(16)]],email:["",[xs.required,xs.minLength(5)]],message:["",[xs.required]]})}ngOnInit(){console.log(this.contact),new tR(".rellax-header"),document.getElementsByTagName("body")[0].classList.add("landing-page"),document.getElementsByTagName("nav")[0].classList.add("navbar-transparent")}sendEmail(){console.log(this.contact),this.loading=!0,this.botonForm="Enviando",!0===this.contact.valid?this.emailService.sendEmail(this.contact.value).then(t=>{this.loading=!1,this.botonForm="Enviar",this.toastr.success("Solicitud recibida con \xe9xito","Solicitud recibida"),this.contact.reset(),this.validateFormContact=!1},t=>{this.loading=!1,this.toastr.error("Error procesando la solicitud, por favor, intente de nuevo","Error procesando solicitud"),console.log(t)}):(console.log("invalid"),this.loading=!1,this.botonForm="Enviar",this.validateFormContact=!0)}ngOnDestroy(){document.getElementsByTagName("body")[0].classList.remove("landing-page"),document.getElementsByTagName("nav")[0].classList.remove("navbar-transparent")}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(sw),s.Y36(Gq),s.Y36(DO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-landing"]],decls:131,vars:24,consts:[[1,"wrapper"],[1,"page-header","page-header-small"],["data-rellax-speed","-8",1,"page-header-image","rellax-header",2,"background-image","url('assets/img/fondo-1.webp')"],[1,"container"],[1,"content-center"],[1,"title"],[1,"section","section-about-us"],[1,"row"],[1,"col-md-8","ml-auto","mr-auto","text-center"],[1,"description"],[1,"separator","separator-primary"],[1,"section-story-overview"],[1,"col-md-6"],[1,"image-container","image-left",2,"background-image","url('assets/img/dispositivos-3.webp')"],[1,"blockquote","blockquote-primary"],[1,"image-container",2,"background-image","url('assets/img/questions.webp')"],[1,"col-md-5"],[1,"image-container","image-right",2,"background-image","url('assets/img/idea.webp')"],[1,"section","section-team","text-center"],[1,"col-sm-4"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"col-sm-6"],[1,"card-text","text-left"],[1,"section","section-contact-us","text-center"],[1,"row","justify-content-md-center"],[1,"card-header","bg-secondary","text-center","text-uppercase"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["type","text","formControlName","name","id","name","aria-describedby","nameHelp","required","",1,"form-control"],["id","validationName","class","invalid-feedback",4,"ngIf"],["for","phone"],["type","phone","formControlName","phone","id","phone","aria-describedby","phoneHelp","required","",1,"form-control"],["id","validationPhone","class","invalid-feedback",4,"ngIf"],["for","email"],["type","email","formControlName","email","id","email","aria-describedby","emailHelp","required","",1,"form-control"],["id","validationEmail","class","invalid-feedback",4,"ngIf"],["for","message"],["formControlName","message","id","message","rows","3","aria-describedby","messageHelp","required","",1,"form-control"],["id","validationMessage","class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["id","validationName",1,"invalid-feedback"],["id","validationPhone",1,"invalid-feedback"],["id","validationEmail",1,"invalid-feedback"],["id","validationMessage",1,"invalid-feedback"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"div",2),s.TgZ(3,"div",3)(4,"div",4)(5,"h1",5),s._uU(6,"Desarrollo de software a medida y consultor\xeda TI"),s.qZA()()()(),s.TgZ(7,"div",6)(8,"div",3)(9,"div",7)(10,"div",8)(11,"h2",5),s._uU(12,"\xbfPor qu\xe9 elegirnos?"),s.qZA(),s.TgZ(13,"h5",9),s._uU(14,"Brindamos a nuestros clientes un servicio de calidad donde tendr\xe1n garant\xeda que van a recibir una soluci\xf3n acorde a sus expectativas cumpliendo con los est\xe1ndares de calidad y seguridad necesarios."),s.qZA()()(),s._UZ(15,"div",10),s.TgZ(16,"div",11)(17,"div",7)(18,"div",12)(19,"div",13)(20,"p",14),s._uU(21,'"No es sobre las ideas. Sino sobre hacer que estas se vuelvan realidad." '),s._UZ(22,"br")(23,"br"),s.TgZ(24,"small"),s._uU(25,"-Scott Belsky, Cofundador de Behance."),s.qZA()()(),s._UZ(26,"div",15),s.qZA(),s.TgZ(27,"div",16),s._UZ(28,"div",17),s.TgZ(29,"h3"),s._uU(30,"T\xfa lo imaginas nosotros lo creamos para ti"),s.qZA(),s.TgZ(31,"p"),s._uU(32,"Un servicio de desarrollo de sistemas, aplicaciones, p\xe1ginas web o cualquier tipo de software que permite a un particular o empresa contar con un equipo altamente experimentado. "),s.qZA(),s.TgZ(33,"p"),s._uU(34,"Ofrecemos una experiencia de calidad, protegiendo los datos sensibles, respondiendo r\xe1pidamente a las necesidades del mercado, creando software operativos. "),s.qZA(),s.TgZ(35,"p"),s._uU(36,"Otorgamos a las empresas la capacidad de tercerizar proyectos de desarrollo de software que permite a los trabajadores de la empresa contratante centrarse en sus respectivas actividades. "),s.qZA()()()()()(),s.TgZ(37,"div",18)(38,"div",3)(39,"h2",5),s._uU(40,"Nuestros servicios"),s.qZA(),s.TgZ(41,"div",7)(42,"div",19)(43,"div",20)(44,"div",21)(45,"h5",22),s._uU(46,"Landing page"),s.qZA(),s.TgZ(47,"p",23),s._uU(48,"Es una p\xe1gina web que sirve para convertir al visitante en lead por medio de un llamado a la acci\xf3n (CTA). Puede incluir un formulario y otras formas de captaci\xf3n, de acuerdo con su objetivo particular."),s.qZA()()()(),s.TgZ(49,"div",19)(50,"div",20)(51,"div",21)(52,"h5",22),s._uU(53,"Tienda Online"),s.qZA(),s.TgZ(54,"p",23),s._uU(55,"Es un sitio web dise\xf1ado especialmente para vender productos u ofrecer servicios mediante el comercio electr\xf3nico. Permite exhibir su mercanc\xeda 24/7 y desde cualquier lugar."),s.qZA()()()(),s.TgZ(56,"div",19)(57,"div",20)(58,"div",21)(59,"h5",22),s._uU(60,"Aplicaci\xf3n m\xf3vil"),s.qZA(),s.TgZ(61,"p",23),s._uU(62,"Es un tipo de aplicaci\xf3n dise\xf1ada para ejecutarse en un dispositivo m\xf3vil, que puede ser un tel\xe9fono inteligente o una tableta. Pueden ser en lenguaje nativo o h\xedbridas, en sistemas operativos Android o IOS."),s.qZA()()()()(),s.TgZ(63,"div",7)(64,"div",24)(65,"div",20)(66,"div",21)(67,"h5",22),s._uU(68,"Desarrollo a Medida"),s.qZA(),s.TgZ(69,"p",23),s._uU(70,"Se trata de un programa inform\xe1tico completamente personalizado para una empresa y, por tanto, se encuentra dise\xf1ado para satisfacer todas las necesidades de dicho negocio."),s.qZA(),s.TgZ(71,"ul",25)(72,"li"),s._uU(73,"Integraciones API."),s.qZA(),s.TgZ(74,"li"),s._uU(75,"Sistemas de gesti\xf3n."),s.qZA(),s.TgZ(76,"li"),s._uU(77,"Reservas."),s.qZA(),s.TgZ(78,"li"),s._uU(79,"Contabilidad."),s.qZA(),s.TgZ(80,"li"),s._uU(81,"Sistemas de aprendizaje."),s.qZA()()()()(),s.TgZ(82,"div",24)(83,"div",20)(84,"div",21)(85,"h5",22),s._uU(86,"Consultoria"),s.qZA(),s.TgZ(87,"ul",25)(88,"p",23),s._uU(89,"A trav\xe9s de la consultor\xeda IT, ayudamos a otras organizaciones a crear una cultura tecnol\xf3gica, a avanzar hacia el conocimiento y orientarse a la digitalizaci\xf3n de sus procesos de negocio de una forma natural."),s.qZA(),s.TgZ(90,"li"),s._uU(91,"Metodologias de desarrollo \xe1giles."),s.qZA(),s.TgZ(92,"li"),s._uU(93,"Coach \xe1gil."),s.qZA(),s.TgZ(94,"li"),s._uU(95,"Liderazgo."),s.qZA(),s.TgZ(96,"li"),s._uU(97,"E-commerce."),s.qZA()()()()()()()(),s.TgZ(98,"div",26)(99,"div",3)(100,"div",27)(101,"div",20)(102,"h2",28),s._uU(103,"Contacto"),s.qZA(),s.TgZ(104,"p",9),s._uU(105,"Su proyecto es muy importante para nosotros"),s.qZA(),s.TgZ(106,"form",29),s.NdJ("ngSubmit",function(){return r.sendEmail()}),s.TgZ(107,"div",30)(108,"label",31),s._uU(109,"Nombre"),s.qZA(),s._UZ(110,"input",32),s.YNc(111,$q,2,0,"div",33),s.qZA(),s.TgZ(112,"div",30)(113,"label",34),s._uU(114,"Tel\xe9fono"),s.qZA(),s._UZ(115,"input",35),s.YNc(116,zq,2,0,"div",36),s.qZA(),s.TgZ(117,"div",30)(118,"label",37),s._uU(119,"Email"),s.qZA(),s._UZ(120,"input",38),s.YNc(121,Zq,2,0,"div",39),s.qZA(),s.TgZ(122,"div",30)(123,"label",40),s._uU(124,"Mensaje"),s.qZA(),s._UZ(125,"textarea",41),s.YNc(126,qq,2,0,"div",42),s.qZA(),s.TgZ(127,"button",43),s.YNc(128,Wq,1,0,"span",44),s.TgZ(129,"span"),s._uU(130),s.qZA()()()()()()()()),2&t){let i,l,c,f,_,b,D,A,x,P,j,Y;s.xp6(106),s.Q6J("formGroup",r.contact),s.xp6(4),s.ekj("is-valid",null==(i=r.contact.get("name"))?null:i.valid)("is-invalid",(null==(l=r.contact.get("name"))?null:l.invalid)&&((null==(l=r.contact.get("name"))?null:l.touched)||r.validateFormContact)),s.xp6(1),s.Q6J("ngIf",(null==(c=r.contact.get("name"))?null:c.invalid)&&((null==(c=r.contact.get("name"))?null:c.touched)||r.validateFormContact)),s.xp6(4),s.ekj("is-valid",null==(f=r.contact.get("phone"))?null:f.valid)("is-invalid",(null==(_=r.contact.get("phone"))?null:_.invalid)&&((null==(_=r.contact.get("phone"))?null:_.touched)||r.validateFormContact)),s.xp6(1),s.Q6J("ngIf",(null==(b=r.contact.get("phone"))?null:b.invalid)&&((null==(b=r.contact.get("phone"))?null:b.touched)||r.validateFormContact)),s.xp6(4),s.ekj("is-valid",null==(D=r.contact.get("email"))?null:D.valid)("is-invalid",(null==(A=r.contact.get("email"))?null:A.invalid)&&((null==(A=r.contact.get("email"))?null:A.touched)||r.validateFormContact)),s.xp6(1),s.Q6J("ngIf",(null==(x=r.contact.get("email"))?null:x.invalid)&&((null==(x=r.contact.get("email"))?null:x.touched)||r.validateFormContact)),s.xp6(4),s.ekj("is-valid",null==(P=r.contact.get("message"))?null:P.valid)("is-invalid",(null==(j=r.contact.get("message"))?null:j.invalid)&&((null==(j=r.contact.get("message"))?null:j.touched)||r.validateFormContact)),s.xp6(1),s.Q6J("ngIf",(null==(Y=r.contact.get("message"))?null:Y.invalid)&&((null==(Y=r.contact.get("message"))?null:Y.touched)||r.validateFormContact)),s.xp6(1),s.Q6J("disabled",r.loading),s.xp6(1),s.Q6J("ngIf",r.loading),s.xp6(2),s.Oqu(r.botonForm)}},dependencies:[Bn,Mf,gt,Pg,wf,tm,ue,tu],styles:[".card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:0 20px}"]}),n})()},{path:"privacy-policy",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-privacy-policy"]],decls:122,vars:0,consts:[[1,"container"],[1,"row"],[1,"card"],[1,"card-header","bg-secondary","text-center","text-uppercase"],[1,"card-body"],[1,"text-uppercase"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),s._uU(4,"Politica de privacidad"),s.qZA(),s.TgZ(5,"div",4)(6,"p")(7,"b"),s._uU(8,"NOMBRE EMPRESA"),s.qZA(),s._uU(9,", en adelante RESPONSABLE, es el responsable del tratamiento de los datos personales del Usuario y le informa que estos datos ser\xe1n tratados de conformidad con lo dispuesto en las normativas vigentes en protecci\xf3n de datos personales, el Reglamento (UE) 2016/679 de 27 de abril de 2016 (GDPR) relativo a la protecci\xf3n de las personas f\xedsicas en lo que respecta al tratamiento de datos personales y a la libre circulaci\xf3n de estos datos y Ley Org\xe1nica 3/2018, de 5 de diciembre, de Protecci\xf3n de Datos Personales y garant\xeda de los derechos digitales. "),s.qZA(),s.TgZ(10,"p"),s._uU(11," La confidencialidad y la seguridad son valores primordiales, en consecuencia, asumimos el compromiso de garantizar la privacidad del Usuario en todo momento y de no recabar informaci\xf3n innecesaria. A continuaci\xf3n, le proporcionamos toda la informaci\xf3n necesaria sobre nuestra Pol\xedtica de Privacidad en relaci\xf3n con los datos personales que recabamos, explic\xe1ndole: "),s.qZA(),s.TgZ(12,"ul")(13,"li"),s._uU(14,"Qui\xe9n es el responsable del tratamiento de sus datos."),s.qZA(),s.TgZ(15,"li"),s._uU(16,"Para qu\xe9 finalidades recabamos los datos que le solicitamos."),s.qZA(),s.TgZ(17,"li"),s._uU(18,"Cu\xe1l es la legitimaci\xf3n para su tratamiento."),s.qZA(),s.TgZ(19,"li"),s._uU(20,"Durante cu\xe1nto tiempo los conservamos."),s.qZA(),s.TgZ(21,"li"),s._uU(22,"A qu\xe9 destinatarios se comunican sus datos."),s.qZA(),s.TgZ(23,"li"),s._uU(24,"Cu\xe1les son sus derechos."),s.qZA()(),s.TgZ(25,"h4",5),s._uU(26,"RESPONSABLE"),s.qZA(),s.TgZ(27,"ul")(28,"li")(29,"b",5),s._uU(30,"INFORMACI\xd3N DE LA SOCIEDAD:"),s.qZA(),s._uU(31," Jessica Roa"),s.qZA(),s.TgZ(32,"li")(33,"b",5),s._uU(34,"CIF:"),s.qZA()(),s.TgZ(35,"li")(36,"b",5),s._uU(37,"Nombre comercial:"),s.qZA()(),s.TgZ(38,"li")(39,"b",5),s._uU(40,"DATOS DE CONTACTO:"),s.qZA()(),s.TgZ(41,"li")(42,"b",5),s._uU(43,"TELEFONO:"),s.qZA()(),s.TgZ(44,"li")(45,"b",5),s._uU(46,"CORREO ELECTRONICO:"),s.qZA()(),s.TgZ(47,"li")(48,"b",5),s._uU(49,"DOMINIO EN INTERNET:"),s.qZA()()(),s.TgZ(50,"h4",5),s._uU(51,"\xbfQU\xc9 INFORMACI\xd3N PERSONAL TRATAMOS?"),s.qZA(),s.TgZ(52,"ul")(53,"li"),s._uU(54," Recogemos informaci\xf3n personal cuando: "),s.TgZ(55,"ul")(56,"li"),s._uU(57,"Rellene el formulario de contacto."),s.qZA(),s.TgZ(58,"li"),s._uU(59,"Nos contacte a trav\xe9s del correo electr\xf3nico y/o tel\xe9fono facilitado."),s.qZA()()(),s.TgZ(60,"li"),s._uU(61," La informaci\xf3n personal que recogemos incluye: "),s.TgZ(62,"ul")(63,"li"),s._uU(64,"Su nombre y apellidos y datos de contacto (n\xfamero de tel\xe9fono y email)."),s.qZA(),s.TgZ(65,"li"),s._uU(66,"Adem\xe1s, y cuando sea posible legalmente, podr\xedamos combinar la informaci\xf3n que mantenemos con informaci\xf3n sobre su persona o sus intereses, status socio-demogr\xe1fico, identificadores en l\xednea y datos de contacto actuales recogidos por terceros, como agencias de marketing y de fuentes p\xfablicas. Con el fin de realizar segmentaciones del mercado."),s.qZA(),s.TgZ(67,"li"),s._uU(68,"Podr\xedamos tener que recoger determinada informaci\xf3n personal en cumplimiento de una obligaci\xf3n legal que, si no nos facilitara, podr\xedamos no poder cumplir o retrasarnos en su cumplimiento."),s.qZA()()()(),s.TgZ(69,"h4",5),s._uU(70,"\xbfCON QU\xc9 FINALIDAD TRATAMOS SUS DATOS?"),s.qZA(),s.TgZ(71,"ul")(72,"li"),s._uU(73,"Comunicaciones comerciales sobre nuestros propios productos y servicios."),s.qZA(),s.TgZ(74,"li"),s._uU(75,"Resolver las dudas de los usuarios."),s.qZA()(),s.TgZ(76,"h4",5),s._uU(77,"CONSERVACI\xd3N"),s.qZA(),s.TgZ(78,"p"),s._uU(79," Se conservar\xe1n mientras exista un inter\xe9s mutuo para mantener el fin del tratamiento y cuando ya no sea necesario para tal fin, se suprimir\xe1n con medidas de seguridad adecuadas para garantizar la pseudonimizaci\xf3n de los datos o la destrucci\xf3n total de los mismos. "),s.qZA(),s.TgZ(80,"h4",5),s._uU(81,"DERECHOS QUE ASISTEN AL USUARIO"),s.qZA(),s.TgZ(82,"ul")(83,"li"),s._uU(84," Derecho a retirar el consentimiento para su tratamiento en cualquier momento."),s.qZA(),s.TgZ(85,"li"),s._uU(86,"Derecho de acceso, rectificaci\xf3n, portabilidad y supresi\xf3n de sus datos y a la limitaci\xf3n u oposici\xf3n a su tratamiento."),s.qZA(),s.TgZ(87,"li"),s._uU(88,"Derecho a presentar una reclamaci\xf3n ante la autoridad de control (www.agpd.es) si considera que el tratamiento no se ajusta a la normativa vigente."),s.qZA()(),s.TgZ(89,"h4",5),s._uU(90,"CAR\xc1CTER OBLIGATORIO O FACULTATIVO DE LA INFORMACI\xd3N FACILITADA POR EL USUARIO"),s.qZA(),s.TgZ(91,"p"),s._uU(92," Los Usuarios, mediante la entrada de datos en los campos obligatorios del formulario de contacto, a trav\xe9s de correo electr\xf3nico o tel\xe9fono; aceptan expresamente y de forma libre e inequ\xedvoca, que sus datos son necesarios para atender su petici\xf3n, por parte del prestador. "),s.qZA(),s.TgZ(93,"p"),s._uU(94," El Usuario garantiza que los datos personales facilitados al RESPONSABLE son veraces y se hace responsable de comunicar cualquier modificaci\xf3n de estos. "),s.qZA(),s.TgZ(95,"p"),s._uU(96," El RESPONSABLE informa y garantiza expresamente a los usuarios que sus datos personales no ser\xe1n cedidos en ning\xfan otro tercero. Y que siempre que realizar\xe1 alg\xfan otro tipo de cesi\xf3n de datos personales, se pedir\xe1 previamente el consentimiento expreso, informado e inequ\xedvoco por parte los Usuarios. En caso de que no sean facilitados todos los datos, no se garantiza que la informaci\xf3n y servicios facilitados sean completamente ajustados a sus necesidades. "),s.qZA(),s.TgZ(97,"h4",5),s._uU(98,"MEDIDAS DE SEGURIDAD"),s.qZA(),s.TgZ(99,"p"),s._uU(100," Que de conformidad con lo dispuesto en las normativas vigentes en protecci\xf3n de datos personales, el RESPONSABLE est\xe1 cumpliendo con todas las disposiciones de las normativas GDPR y LOPDDD para el tratamiento de los datos personales de su responsabilidad, y manifiestamente con los principios descritos en el art\xedculo 5 del GDPR y en el art\xedculo 4 de la LOPDDD, por los cuales son tratados de manera l\xedcita, leal y transparente en relaci\xf3n con el interesado y adecuados, pertinentes y limitados a lo necesario en relaci\xf3n con los fines para los que son tratados. "),s.qZA(),s.TgZ(101,"p"),s._uU(102," El RESPONSABLE garantiza que ha implementado pol\xedticas t\xe9cnicas y organizativas apropiadas para aplicar las medidas de seguridad que establecen el GDPR y la LOPDDD con el fin de proteger los derechos y libertades de los Usuarios y les ha comunicado la informaci\xf3n adecuada para que puedan ejercerlos. "),s.qZA(),s.TgZ(103,"h4",5),s._uU(104," \xbfBAJO QU\xc9 BASES LEGALES TRATAMOS SU INFORMACI\xd3N PERSONAL?"),s.qZA(),s.TgZ(105,"p"),s._uU(106," Utilizaremos su informaci\xf3n personal en las siguientes situaciones: "),s.qZA(),s.TgZ(107,"ul")(108,"li"),s._uU(109,"Cuando sea necesario para la satisfacci\xf3n de nuestros intereses leg\xedtimos o los de la organizaci\xf3n con la que hemos compartido su informaci\xf3n personal y nos hayamos asegurado de que su informaci\xf3n personal y sus derechos en relaci\xf3n con la misma est\xe9n protegidos. Por ejemplo, podemos apoyarnos en esta base legal si nosotros usamos su informaci\xf3n personal para: comprender y mejorar nuestros servicios y/o estrategias de mercado; para fines de investigaci\xf3n; para administrar y mejorar nuestra relaci\xf3n con usted y para gestionar nuestra compa\xf1\xeda; para ayudar a descubrir qu\xe9 informaci\xf3n, productos y servicios son m\xe1s susceptibles de interesarle; personalizar su experiencia de nuestros productos y servicios; para garantizar que nuestros servicios se entregan y utilizan de acuerdo con la ley y los t\xe9rminos y condiciones que se aplican a ellos; y cuando sea necesario para proteger o defender nuestros derechos o bienes o los de terceros, o para detectar, prevenir o gestionar situaciones de fraude, seguridad, protecci\xf3n o privacidad."),s.qZA(),s.TgZ(110,"li"),s._uU(111,"Cuando consideremos que es necesario tratar su informaci\xf3n personal para cumplir con una obligaci\xf3n legal o reguladora, entre otros, para poder cumplir con la normativa reguladora de las obligaciones legales del distribuidor y del comercializador vigente en cada momento, entre las que se encuentran la relativa a la puesta en el mercado de servicios, defensa de los consumidores y usuarios, seguridad en los productos, ordenaci\xf3n del comercio minorista, prestaci\xf3n de servicios, atenci\xf3n al cliente, medioambiental y dem\xe1s normativa internacional (incluida la de la Uni\xf3n Europea), estatal y auton\xf3mica sobre las referidas materias."),s.qZA(),s.TgZ(112,"li"),s._uU(113,"En circunstancias espec\xedficas, cuando creamos que es necesario para proteger la seguridad o los intereses vitales de alguien."),s.qZA(),s.TgZ(114,"li"),s._uU(115,"En circunstancias espec\xedficas, podr\xedamos tener que usar su informaci\xf3n personal para finalidades referidas a un inter\xe9s p\xfablico."),s.qZA(),s.TgZ(116,"li"),s._uU(117,"Enviarle con su consentimiento, comunicaciones comerciales por correo electr\xf3nico o mensajes de texto, sin perjuicio de lo indicado previamente. Cuando nos basemos en su consentimiento para usar su informaci\xf3n personal, tendr\xe1 el derecho de retirarlo en cualquier momento."),s.qZA()(),s.TgZ(118,"h4",5),s._uU(119,"TRANSFERENCIAS INTERNACIONALES DE SU INFORMACI\xd3N PERSONAL"),s.qZA(),s.TgZ(120,"p"),s._uU(121," Su informaci\xf3n personal ser\xe1 tratada conforme a la normativa espa\xf1ola y de la Uni\xf3n Europea, y podr\xe1 ser transferida dentro del Espacio Econ\xf3mico Europeo (\u201cEEE\u201d), as\xed como a otros pa\xedses fuera del EEE (incluidos los Estados Unidos de Am\xe9rica y China). Los pa\xedses a los que transfiramos su informaci\xf3n personal pueden no estar considerados por la Comisi\xf3n de la Uni\xf3n Europea como pa\xedses que garantizan un nivel adecuado de protecci\xf3n a su informaci\xf3n personal. Por ello, cuando transfiramos su informaci\xf3n personal fuera del EEE, estableceremos las medidas y garant\xedas adecuadas, de acuerdo con nuestras obligaciones legales, para garantizar que su informaci\xf3n personal est\xe9 debidamente protegida, independientemente del pa\xeds al que se transfiera. Estas garant\xedas pueden incluir la obtenci\xf3n de compromisos contractuales de cualquier tercero, para que su informaci\xf3n personal est\xe9 protegida por medidas de seguridad que sean equivalentes a aquellas que se aplique a su informaci\xf3n personal cuando est\xe9 en el EEE. "),s.qZA()()()()())},styles:[".container[_ngcontent-%COMP%]{margin-top:100px}.card-header[_ngcontent-%COMP%]{color:#fff}"]}),n})()},{path:"cookies-policy",component:jq},{path:"legal-information",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-legal-information"]],decls:67,vars:0,consts:[[1,"container"],[1,"row"],[1,"card"],[1,"card-header","bg-secondary","text-center","text-uppercase"],[1,"card-body"],[1,"text-uppercase"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),s._uU(4,"Informaci\xf3n legal"),s.qZA(),s.TgZ(5,"div",4)(6,"p"),s._uU(7," En cumplimiento del "),s.TgZ(8,"b"),s._uU(9,"art\xedculo 10 de la Ley 34/2002"),s.qZA(),s._uU(10," , de 11 de julio, de Servicios de la Sociedad de la Informaci\xf3n y Comercio Electr\xf3nico (LSSI) se exponen los datos identificativos de la empresa. "),s.qZA(),s.TgZ(11,"ul")(12,"li")(13,"b",5),s._uU(14,"INFORMACI\xd3N DE LA SOCIEDAD:"),s.qZA(),s._uU(15," Jessica Roa"),s.qZA(),s.TgZ(16,"li")(17,"b",5),s._uU(18,"CIF:"),s.qZA()(),s.TgZ(19,"li")(20,"b",5),s._uU(21,"Nombre comercial:"),s.qZA()(),s.TgZ(22,"li")(23,"b",5),s._uU(24,"DATOS DE CONTACTO:"),s.qZA()(),s.TgZ(25,"li")(26,"b",5),s._uU(27,"TELEFONO:"),s.qZA()(),s.TgZ(28,"li")(29,"b",5),s._uU(30,"CORREO ELECTRONICO:"),s.qZA()(),s.TgZ(31,"li")(32,"b",5),s._uU(33,"DOMINIO EN INTERNET:"),s.qZA()()(),s.TgZ(34,"h4",5),s._uU(35,"Datos Registrales:"),s.qZA(),s.TgZ(36,"p"),s._uU(37," Registro Mercantil de Barcelona, ante el Notario xxxxxxx, con el n\xfamero xxxxx de protocolo. Tomo xxxxxx, Folio xxxxx, Hoja xxxxx, Inscripci\xf3n xxxxxx. "),s.qZA(),s.TgZ(38,"h4",5),s._uU(39,"ACTIVIDADES:"),s.qZA(),s.TgZ(40,"ul")(41,"li")(42,"b"),s._uU(43,"NOMBRE EMPRESA"),s.qZA(),s._uU(44,", tiene por objeto y actividades el dise\xf1o, desarrollo y venta de software, la prestaci\xf3n de servicios inform\xe1tico, hosting, mantenimiento de portales web, marketing on-line, la consultor\xeda inform\xe1tica y el dise\xf1o gr\xe1fico. "),s.qZA(),s.TgZ(45,"li"),s._uU(46," Todos los derechos derivados de la propiedad intelectual e industrial est\xe1n expresamente reservados por "),s.TgZ(47,"b"),s._uU(48,"NOMBRE EMPRESA"),s.qZA(),s._uU(49,". "),s.qZA(),s.TgZ(50,"li"),s._uU(51," El c\xf3digo fuente, los dise\xf1os gr\xe1ficos, las im\xe1genes, las fotograf\xedas, los textos, las marcas, as\xed como la informaci\xf3n y los contenidos recogidos a lo largo de toda la web est\xe1n protegidos por la legislaci\xf3n espa\xf1ola a favor de "),s.TgZ(52,"b"),s._uU(53,"NOMBRE EMPRESA"),s.qZA(),s._uU(54,". "),s.qZA(),s.TgZ(55,"li")(56,"b"),s._uU(57,"NOMBRE EMPRESA"),s.qZA(),s._uU(58," no permite, ni total o ni parcialmente, la reproducci\xf3n, publicaci\xf3n, tratamiento inform\xe1tico, distribuci\xf3n difusi\xf3n, modificaci\xf3n, transformaci\xf3n o descompliaci\xf3n ni dem\xe1s derechos reconocidos legalmente a su titular, sin el permiso previo y por escrito. El usuario, \xfanica y exclusivamente, puede utilizar el material que aparezca en este sitio web para su uso personal y privado, quedando prohibido su uso con fines comerciales o cualquier otro uso que no sea personal y privado, a excepci\xf3n de distribuidores autorizados. "),s.qZA(),s.TgZ(59,"li")(60,"b"),s._uU(61,"NOMBRE EMPRESA"),s.qZA(),s._uU(62," velar\xe1 por el cumplimiento de las anteriores condiciones como por la debida utilizaci\xf3n de su propiedad intelectual e industrial ejercitando todas las acciones legales que le correspondan. "),s.qZA(),s.TgZ(63,"li")(64,"b"),s._uU(65,"NOMBRE EMPRESA"),s.qZA(),s._uU(66," podr\xe1 modificar, sin previo aviso, la informaci\xf3n contenida en su sitio web, as\xed como su configuraci\xf3n y presentaci\xf3n. "),s.qZA()()()()()())},styles:[".container[_ngcontent-%COMP%]{margin-top:100px}.card-header[_ngcontent-%COMP%]{color:#fff}"]}),n})()},{path:"about-us",component:Vq},{path:"faqs",component:Hq},{path:"portfolio",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-portfolio"]],decls:162,vars:0,consts:[[1,"container"],[1,"title","text-center"],[1,"row"],[1,"col-sm-6"],[1,"card"],["id","carouselEducampus","data-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["data-target","#carouselEducampus","data-slide-to","0",1,"active"],["data-target","#carouselEducampus","data-slide-to","1"],["data-target","#carouselEducampus","data-slide-to","2"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","../../../assets/img/Projects/educampus/educampus1.jpg","alt","...",1,"d-block","w-100"],[1,"carousel-item"],["src","../../../assets/img/Projects/educampus/educampus2.jpg","alt","...",1,"d-block","w-100"],["src","../../../assets/img/Projects/educampus/educampus3.jpg","alt","...",1,"d-block","w-100"],["type","button","data-target","#carouselEducampus","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["type","button","data-target","#carouselEducampus","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["id","carouselScorm","data-ride","carousel",1,"carousel","slide"],["data-target","#carouselScorm","data-slide-to","0",1,"active"],["data-target","#carouselScorm","data-slide-to","1"],["src","../../../assets/img/Projects/scorm/scorm1.png","alt","...",1,"d-block","w-100"],["src","../../../assets/img/Projects/scorm/scorm2.png","alt","...",1,"d-block","w-100"],["type","button","data-target","#carouselScorm","data-slide","prev",1,"carousel-control-prev"],["type","button","data-target","#carouselScorm","data-slide","next",1,"carousel-control-next"],["id","carouselVendedores","data-ride","carousel",1,"carousel","slide"],["data-target","#carouselVendedores","data-slide-to","0",1,"active"],["data-target","#carouselVendedores","data-slide-to","1"],["data-target","#carouselVendedores","data-slide-to","2"],["src","../../../assets/img/Projects/vendedores_kel/vendedores1.png","alt","...",1,"d-block","w-100"],["src","../../../assets/img/Projects/vendedores_kel/vendedores2.png","alt","...",1,"d-block","w-100"],["src","../../../assets/img/Projects/vendedores_kel/vendedores3.png","alt","...",1,"d-block","w-100"],["type","button","data-target","#carouselVendedores","data-slide","prev",1,"carousel-control-prev"],["type","button","data-target","#carouselVendedores","data-slide","next",1,"carousel-control-next"],["id","carouselKel","data-ride","carousel",1,"carousel","slide"],["data-target","#carouselKel","data-slide-to","0",1,"active"],["data-target","#carouselKel","data-slide-to","1"],["data-target","#carouselKel","data-slide-to","2"],["src","../../../assets/img/Projects/industriaskel/industriaskel.png","alt","...",1,"d-block","w-100"],["src","../../../assets/img/Projects/industriaskel/industriaskelreceta.jpg","alt","...",1,"d-block","w-100"],["src","../../../assets/img/Projects/industriaskel/industriaskelnoticias.jpg","alt","...",1,"d-block","w-100"],["type","button","data-target","#carouselKel","data-slide","prev",1,"carousel-control-prev"],["type","button","data-target","#carouselKel","data-slide","next",1,"carousel-control-next"],["id","carouselHbr","data-ride","carousel",1,"carousel","slide"],["data-target","#carouselHbr","data-slide-to","0",1,"active"],["data-target","#carouselHbr","data-slide-to","1"],["src","../../../assets/img/Projects/hrbintel/hrbintel1.png","alt","...",1,"d-block","w-100"],["src","../../../assets/img/Projects/hrbintel/hrbintel2.png","alt","...",1,"d-block","w-100"],["type","button","data-target","#carouselHbr","data-slide","prev",1,"carousel-control-prev"],["type","button","data-target","#carouselHbr","data-slide","next",1,"carousel-control-next"],["id","carouselMercaito","data-ride","carousel",1,"carousel","slide"],["data-target","#carouselMercaito","data-slide-to","0",1,"active"],["data-target","#carouselMercaito","data-slide-to","1"],["data-target","#carouselMercaito","data-slide-to","2"],["src","../../../assets/img/Projects/mercaito/mercaito1.jpg","alt","...",1,"d-block","w-100"],["src","../../../assets/img/Projects/mercaito/mercaito2.jpg","alt","...",1,"d-block","w-100"],["src","../../../assets/img/Projects/mercaito/mercaito3.jpg","alt","...",1,"d-block","w-100"],["type","button","data-target","#carouselMercaito","data-slide","prev",1,"carousel-control-prev"],["type","button","data-target","#carouselMercaito","data-slide","next",1,"carousel-control-next"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"h2",1),s._uU(2,"Algunos Proyectos"),s.qZA(),s.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"ol",6),s._UZ(8,"li",7)(9,"li",8)(10,"li",9),s.qZA(),s.TgZ(11,"div",10)(12,"div",11),s._UZ(13,"img",12),s.qZA(),s.TgZ(14,"div",13),s._UZ(15,"img",14),s.qZA(),s.TgZ(16,"div",13),s._UZ(17,"img",15),s.qZA()(),s.TgZ(18,"button",16),s._UZ(19,"span",17),s.TgZ(20,"span",18),s._uU(21,"Previous"),s.qZA()(),s.TgZ(22,"button",19),s._UZ(23,"span",20),s.TgZ(24,"span",18),s._uU(25,"Next"),s.qZA()()(),s.TgZ(26,"div",21)(27,"h5",22),s._uU(28,"Educampus"),s.qZA(),s.TgZ(29,"p",23),s._uU(30,"Interfaz web que se comunica a traves de la API de un LMS para rederizar contenido de cursos."),s.qZA()()()(),s.TgZ(31,"div",3)(32,"div",4)(33,"div",24)(34,"ol",6),s._UZ(35,"li",25)(36,"li",26),s.qZA(),s.TgZ(37,"div",10)(38,"div",11),s._UZ(39,"img",27),s.qZA(),s.TgZ(40,"div",13),s._UZ(41,"img",28),s.qZA()(),s.TgZ(42,"button",29),s._UZ(43,"span",17),s.TgZ(44,"span",18),s._uU(45,"Previous"),s.qZA()(),s.TgZ(46,"button",30),s._UZ(47,"span",20),s.TgZ(48,"span",18),s._uU(49,"Next"),s.qZA()()(),s.TgZ(50,"div",21)(51,"h5",22),s._uU(52,"Interfaz para paquetes SCORM"),s.qZA(),s.TgZ(53,"p",23),s._uU(54,"Interfaz web para control de avance de un estudiante dentro de un paquete SCORM."),s.qZA()()()()(),s.TgZ(55,"div",2)(56,"div",3)(57,"div",4)(58,"div",31)(59,"ol",6),s._UZ(60,"li",32)(61,"li",33)(62,"li",34),s.qZA(),s.TgZ(63,"div",10)(64,"div",11),s._UZ(65,"img",35),s.qZA(),s.TgZ(66,"div",13),s._UZ(67,"img",36),s.qZA(),s.TgZ(68,"div",13),s._UZ(69,"img",37),s.qZA()(),s.TgZ(70,"button",38),s._UZ(71,"span",17),s.TgZ(72,"span",18),s._uU(73,"Previous"),s.qZA()(),s.TgZ(74,"button",39),s._UZ(75,"span",20),s.TgZ(76,"span",18),s._uU(77,"Next"),s.qZA()()(),s.TgZ(78,"div",21)(79,"h5",22),s._uU(80,"Sistema de ventas online/offline"),s.qZA(),s.TgZ(81,"p",23),s._uU(82,"Sistemas de control de ventas que permite realizar la carga de un pedido desde el telefono celular sin contar con conexi\xf3n a internet, para posterior sincronizaci\xf3n con la BD al tener conexi\xf3n. Control de stock, carga de productos y reporteria."),s.qZA()()()(),s.TgZ(83,"div",3)(84,"div",4)(85,"div",40)(86,"ol",6),s._UZ(87,"li",41)(88,"li",42)(89,"li",43),s.qZA(),s.TgZ(90,"div",10)(91,"div",11),s._UZ(92,"img",44),s.qZA(),s.TgZ(93,"div",13),s._UZ(94,"img",45),s.qZA(),s.TgZ(95,"div",13),s._UZ(96,"img",46),s.qZA()(),s.TgZ(97,"button",47),s._UZ(98,"span",17),s.TgZ(99,"span",18),s._uU(100,"Previous"),s.qZA()(),s.TgZ(101,"button",48),s._UZ(102,"span",20),s.TgZ(103,"span",18),s._uU(104,"Next"),s.qZA()()(),s.TgZ(105,"div",21)(106,"h5",22),s._uU(107,"Industrias KEL"),s.qZA(),s.TgZ(108,"p",23),s._uU(109,"Lading page para empresa productora de alimentos con secci\xf3n de listado de productos, recetas y noticias."),s.qZA()()()()(),s.TgZ(110,"div",2)(111,"div",3)(112,"div",4)(113,"div",49)(114,"ol",6),s._UZ(115,"li",50)(116,"li",51),s.qZA(),s.TgZ(117,"div",10)(118,"div",11),s._UZ(119,"img",52),s.qZA(),s.TgZ(120,"div",13),s._UZ(121,"img",53),s.qZA()(),s.TgZ(122,"button",54),s._UZ(123,"span",17),s.TgZ(124,"span",18),s._uU(125,"Previous"),s.qZA()(),s.TgZ(126,"button",55),s._UZ(127,"span",20),s.TgZ(128,"span",18),s._uU(129,"Next"),s.qZA()()(),s.TgZ(130,"div",21)(131,"h5",22),s._uU(132,"H&R Bintel"),s.qZA(),s.TgZ(133,"p",23),s._uU(134,"Landing page multiling\xfce para empresa de logistica."),s.qZA()()()(),s.TgZ(135,"div",3)(136,"div",4)(137,"div",56)(138,"ol",6),s._UZ(139,"li",57)(140,"li",58)(141,"li",59),s.qZA(),s.TgZ(142,"div",10)(143,"div",11),s._UZ(144,"img",60),s.qZA(),s.TgZ(145,"div",13),s._UZ(146,"img",61),s.qZA(),s.TgZ(147,"div",13),s._UZ(148,"img",62),s.qZA()(),s.TgZ(149,"button",63),s._UZ(150,"span",17),s.TgZ(151,"span",18),s._uU(152,"Previous"),s.qZA()(),s.TgZ(153,"button",64),s._UZ(154,"span",20),s.TgZ(155,"span",18),s._uU(156,"Next"),s.qZA()()(),s.TgZ(157,"div",21)(158,"h5",22),s._uU(159,"El mercaito envios"),s.qZA(),s.TgZ(160,"p",23),s._uU(161,"Tienda online para la compra de productos con carrito de compras."),s.qZA()()()()()())},styles:[".container[_ngcontent-%COMP%]{margin-top:100px}.w-100[_ngcontent-%COMP%]{width:100%!important;height:60vh}"]}),n})()},{path:"**",redirectTo:"index",pathMatch:"full"}];let Kq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[YU.forRoot(Yq),YU]}),n})();const Jq=function(){return["/index"]};let JU=(()=>{class n{constructor(t,r){this.location=t,this.element=r,this.sidebarVisible=!1}ngOnInit(){const t=this.element.nativeElement;this.toggleButton=t.getElementsByClassName("navbar-toggler")[0],"/index"!==this.location.path()?t.classList.remove("navbar-transparent"):t.classList.add("navbar-transparent")}sidebarOpen(){const t=this.toggleButton,r=document.getElementsByTagName("html")[0];setTimeout(function(){t.classList.add("toggled")},500),r.classList.add("nav-open"),this.sidebarVisible=!0}sidebarClose(){const t=document.getElementsByTagName("html")[0];this.toggleButton.classList.remove("toggled"),this.sidebarVisible=!1,t.classList.remove("nav-open")}sidebarToggle(){!1===this.sidebarVisible?this.sidebarOpen():this.sidebarClose()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Le),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-navbar"]],decls:31,vars:2,consts:[["color-on-scroll","500",1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","fixed-top"],[1,"container"],[1,"navbar-translate"],["placement","bottom","ngbTooltip","Designed by Invision. Coded by Creative Tim",1,"navbar-brand",3,"routerLink"],["type","button","data-toggle","collapse","data-target","#navbarToggler","aria-controls","navbarTogglerDemo02","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-bar","bar1"],[1,"navbar-toggler-bar","bar2"],[1,"navbar-toggler-bar","bar3"],["data-nav-image","assets/img/blurred-image-2.jpg","data-color","orange",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["href","about-us",1,"nav-link"],[1,"bi","bi-building"],["href","portfolio",1,"nav-link"],[1,"bi","bi-journals"],["href","faqs",1,"nav-link"],[1,"bi","bi-question-circle"],["rel","tooltip","title","Follow us on Linkedin","data-placement","bottom","href","https://www.linkedin.com/in/jessicaroa","target","_blank",1,"nav-link"],[1,"bi","bi-linkedin"],[1,"d-lg-none","d-xl-none"]],template:function(t,r){1&t&&(s.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),s._uU(4," Jessica Roa "),s.qZA(),s.TgZ(5,"button",4),s.NdJ("click",function(){return r.sidebarToggle()}),s._UZ(6,"span",5)(7,"span",6)(8,"span",7),s.qZA()(),s.TgZ(9,"div",8)(10,"ul",9)(11,"li",10)(12,"a",11),s._UZ(13,"i",12),s.TgZ(14,"p"),s._uU(15,"Sobre nosotros"),s.qZA()()(),s.TgZ(16,"li",10)(17,"a",13),s._UZ(18,"i",14),s.TgZ(19,"p"),s._uU(20,"Proyectos"),s.qZA()()(),s.TgZ(21,"li",10)(22,"a",15),s._UZ(23,"i",16),s.TgZ(24,"p"),s._uU(25,"FAQ's"),s.qZA()()(),s.TgZ(26,"li",10)(27,"a",17),s._UZ(28,"i",18),s.TgZ(29,"p",19),s._uU(30,"Linkedin"),s.qZA()()()()()()()),2&t&&(s.xp6(3),s.Q6J("routerLink",s.DdM(1,Jq)))},dependencies:[HT],styles:["i[_ngcontent-%COMP%]{margin:0 3px}"]}),n})(),Qq=(()=>{class n{constructor(){this.data=new Date}ngOnInit(){new tR(".rellax-header"),document.getElementsByTagName("body")[0].classList.add("landing-page"),document.getElementsByTagName("nav")[0].classList.add("navbar-transparent")}ngOnDestroy(){document.getElementsByTagName("body")[0].classList.remove("landing-page"),document.getElementsByTagName("nav")[0].classList.remove("navbar-transparent")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:16,vars:4,consts:[[1,"footer","footer-default"],[1,"container"],["href","legal-information"],["href","privacy-policy"],["href","cookies-policy"],[1,"copyright"]],template:function(t,r){1&t&&(s.TgZ(0,"footer",0)(1,"div",1)(2,"nav")(3,"ul")(4,"li")(5,"a",2),s._uU(6," Informaci\xf3n legal "),s.qZA()(),s.TgZ(7,"li")(8,"a",3),s._uU(9," Politica de Privacidad "),s.qZA()(),s.TgZ(10,"li")(11,"a",4),s._uU(12," Politicas de cookies "),s.qZA()()()(),s.TgZ(13,"div",5),s._uU(14),s.ALo(15,"date"),s.qZA()()()),2&t&&(s.xp6(14),s.hij(" \xa9 ",s.xi3(15,1,r.data,"yyyy"),", Designed by Jessica Roa "))},dependencies:[yo]}),n})(),Xq=(()=>{class n{constructor(t,r,i,l,c){this.renderer=t,this.router=r,this.document=i,this.element=l,this.location=c,this.title="jessroa3.github.io",this._router=new TO.w0}ngOnInit(){var t=this.element.nativeElement.children[0].children[0];this._router=this.router.events.pipe(Sn(r=>r instanceof qh)).subscribe(r=>{window.outerWidth>991?window.document.children[0].scrollTop=0:window.document.activeElement.scrollTop=0,this.navbar.sidebarClose(),"/index"!==this.location.path()?t.classList.remove("navbar-transparent"):t.classList.add("navbar-transparent"),this.renderer.listen("window","scroll",i=>{const l=window.scrollY;var c=this.location.path();c=c.split("/")[2],l>150||window.pageYOffset>150||"/index"!==this.location.path()?t.classList.remove("navbar-transparent"):"/index"===this.location.path()&&t.classList.add("navbar-transparent")})})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(co),s.Y36(H),s.Y36(s.SBq),s.Y36(Le))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],viewQuery:function(t,r){if(1&t&&s.Gf(JU,5),2&t){let i;s.iGM(i=s.CRH())&&(r.navbar=i.first)}},decls:3,vars:0,template:function(t,r){1&t&&s._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[HO,JU,Qq]}),n})(),e4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[Xq]}),n.\u0275inj=s.cJS({imports:[da,Kq,Fy,Gm,ow,yh,Bs.hO.initializeApp({apiKey:"AIzaSyDMDAbC0aGPdwReP7anut5SnbsMAuYMjrw",authDomain:"landing-jess.firebaseapp.com",projectId:"landing-jess",storageBucket:"landing-jess.appspot.com",messagingSenderId:"562773962494",appId:"1:562773962494:web:f17cce2f45b8493d82ffaf",measurementId:"G-CGJBCN0LX4"}),ZG,q6,pz.forRoot()]}),n})();Hl().bootstrapModule(e4).catch(n=>console.error(n))},5867:(ft,De,k)=>{"use strict";k.d(De,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=k(9681);(0,s.registerVersion)("firebase","9.9.1","app")},127:(ft,De,k)=>{"use strict";k.d(De,{Z:()=>s.Z});var s=k(3942);s.Z.registerVersion("firebase","9.9.1","app-compat")},1451:(ft,De,k)=>{"use strict";k.r(De);var s=k(5861),ne=k(3942),F=k(2090),ae=k(9681),oe=k(655),H=k(1877),pe=k(4859);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ee_EMAIL_SIGNIN="EMAIL_SIGNIN",ee_PASSWORD_RESET="PASSWORD_RESET",ee_RECOVER_EMAIL="RECOVER_EMAIL",ee_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",ee_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",ee_VERIFY_EMAIL="VERIFY_EMAIL";const Ze=function $e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},lt=function Ee(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new H.Yd("@firebase/auth");function Le(y,...p){Ce.logLevel<=H.in.ERROR&&Ce.error(`Auth (${ae.SDK_VERSION}): ${y}`,...p)}function Te(y,...p){throw Pe(y,...p)}function ve(y,...p){return Pe(y,...p)}function Ne(y,p,m){const w=Object.assign(Object.assign({},lt()),{[p]:m});return new F.LL("auth","Firebase",w).create(p,{appName:y.name})}function ze(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Te(y,"argument-error"),Ne(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pe(y,...p){if("string"!=typeof y){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return ge.create(y,...p)}function G(y,p,...m){if(!y)throw Pe(p,...m)}function me(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Le(p),new Error(p)}function Be(y,p){y||me(p)}const Ge=new Map;function dt(y){Be(y instanceof Function,"Expected a class definition");let p=Ge.get(y);return p?(Be(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,Ge.set(y,p),p)}function X(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ce(){return"http:"===be()||"https:"===be()}function be(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Ke{constructor(p,m){this.shortDelay=p,this.longDelay=m,Be(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function xe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ce()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ye(y,p){Be(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class sn{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},St=new Ke(3e4,6e4);function qe(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function At(y,p,m,w){return An.apply(this,arguments)}function An(){return(An=(0,s.Z)(function*(y,p,m,w,N={}){return yn(y,N,(0,s.Z)(function*(){let R={},K={};w&&("GET"===p?K=w:R={body:JSON.stringify(w)});const ue=(0,F.xO)(Object.assign({key:y.config.apiKey},K)).slice(1),Ue=yield y._getAdditionalHeaders();return Ue["Content-Type"]="application/json",y.languageCode&&(Ue["X-Firebase-Locale"]=y.languageCode),sn.fetch()(Bi(y,y.config.apiHost,m,ue),Object.assign({method:p,headers:Ue,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function yn(y,p,m){return vn.apply(this,arguments)}function vn(){return(vn=(0,s.Z)(function*(y,p,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},wt),p);try{const N=new kr(y),R=yield Promise.race([m(),N.promise]);N.clearNetworkTimeout();const K=yield R.json();if("needConfirmation"in K)throw Cr(y,"account-exists-with-different-credential",K);if(R.ok&&!("errorMessage"in K))return K;{const ue=R.ok?K.errorMessage:K.error.message,[Ue,tt]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw Cr(y,"credential-already-in-use",K);if("EMAIL_EXISTS"===Ue)throw Cr(y,"email-already-in-use",K);if("USER_DISABLED"===Ue)throw Cr(y,"user-disabled",K);const It=w[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw Ne(y,It,tt);Te(y,It)}}catch(N){if(N instanceof F.ZR)throw N;Te(y,"network-request-failed")}})).apply(this,arguments)}function Dn(y,p,m,w){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,s.Z)(function*(y,p,m,w,N={}){const R=yield At(y,p,m,w,N);return"mfaPendingCredential"in R&&Te(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Bi(y,p,m,w){const N=`${p}${m}?${w}`;return y.config.emulator?Ye(y.config,N):`${y.config.apiScheme}://${N}`}class kr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(ve(this.auth,"network-request-failed")),St.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cr(y,p,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const N=ve(y,p,w);return N.customData._tokenResponse=m,N}function mn(){return(mn=(0,s.Z)(function*(y,p){return At(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function yt(){return(yt=(0,s.Z)(function*(y,p){return At(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ci(){return(ci=(0,s.Z)(function*(y,p){return At(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function _n(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function xt(){return(xt=(0,s.Z)(function*(y,p=!1){const m=(0,F.m9)(y),w=yield m.getIdToken(p),N=Ct(w);G(N&&N.exp&&N.auth_time&&N.iat,m.auth,"internal-error");const R="object"==typeof N.firebase?N.firebase:void 0,K=R?.sign_in_provider;return{claims:N,token:w,authTime:_n(bt(N.auth_time)),issuedAtTime:_n(bt(N.iat)),expirationTime:_n(bt(N.exp)),signInProvider:K||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function bt(y){return 1e3*Number(y)}function Ct(y){var p;const[m,w,N]=y.split(".");if(void 0===m||void 0===w||void 0===N)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,F.tV)(w);return R?JSON.parse(R):(Le("Failed to decode base64 JWT payload"),null)}catch(R){return Le("Caught error parsing JWT payload as JSON",null===(p=R)||void 0===p?void 0:p.toString()),null}}function Tn(y,p){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,s.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof F.ZR&&function Sr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}class Gn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const N=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,s.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,s.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class gs{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=_n(this.lastLoginAt),this.creationTime=_n(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function an(y){return Wr.apply(this,arguments)}function Wr(){return Wr=(0,s.Z)(function*(y){var p;const m=y.auth,w=yield y.getIdToken(),N=yield Tn(y,function qr(y,p){return ci.apply(this,arguments)}(m,{idToken:w}));G(N?.users.length,m,"internal-error");const R=N.users[0];y._notifyReloadListener(R);const K=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?function V(y){return y.map(p=>{var{providerId:m}=p,w=(0,oe._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(R.providerUserInfo):[],ue=function z(y,p){return[...y.filter(w=>!p.some(N=>N.providerId===w.providerId)),...p]}(y.providerData,K),It=!!y.isAnonymous&&!(y.email&&R.passwordHash||ue?.length),Et={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ue,metadata:new gs(R.createdAt,R.lastLoginAt),isAnonymous:It};Object.assign(y,Et)}),Wr.apply(this,arguments)}function Q(){return(Q=(0,s.Z)(function*(y){const p=(0,F.m9)(y);yield an(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function W(){return(W=(0,s.Z)(function*(y,p){const m=yield yn(y,{},(0,s.Z)(function*(){const w=(0,F.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:N,apiKey:R}=y.config,K=Bi(y,N,"/v1/token",`key=${R}`),ue=yield y._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",sn.fetch()(K,{method:"POST",headers:ue,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){G(p.idToken,"internal-error"),G(typeof p.idToken<"u","internal-error"),G(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function ps(y){const p=Ct(y);return G(p,"internal-error"),G(typeof p.exp<"u","internal-error"),G(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,s.Z)(function*(){return G(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,s.Z)(function*(){const{accessToken:N,refreshToken:R,expiresIn:K}=yield function Z(y,p){return W.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(N,R,Number(K))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:N,expirationTime:R}=m,K=new Ie;return w&&(G("string"==typeof w,"internal-error",{appName:p}),K.refreshToken=w),N&&(G("string"==typeof N,"internal-error",{appName:p}),K.accessToken=N),R&&(G("number"==typeof R,"internal-error",{appName:p}),K.expirationTime=R),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ie,this.toJSON())}_performRefresh(){return me("not implemented")}}function We(y,p){G("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class pt{constructor(p){var{uid:m,auth:w,stsTokenManager:N}=p,R=(0,oe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new gs(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,s.Z)(function*(){const w=yield Tn(m,m.stsTokenManager.getToken(m.auth,p));return G(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function Ji(y){return xt.apply(this,arguments)}(this,p)}reload(){return function Zt(y){return Q.apply(this,arguments)}(this)}_assign(p){this!==p&&(G(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new pt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,s.Z)(function*(){let N=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),N=!0),m&&(yield an(w)),yield w.auth._persistUserIfCurrent(w),N&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,s.Z)(function*(){const m=yield p.getIdToken();return yield Tn(p,function Ki(y,p){return mn.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,N,R,K,ue,Ue,tt,It;const Et=null!==(w=m.displayName)&&void 0!==w?w:void 0,sr=null!==(N=m.email)&&void 0!==N?N:void 0,ks=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,tu=null!==(K=m.photoURL)&&void 0!==K?K:void 0,Jg=null!==(ue=m.tenantId)&&void 0!==ue?ue:void 0,vc=null!==(Ue=m._redirectEventId)&&void 0!==Ue?Ue:void 0,Qg=null!==(tt=m.createdAt)&&void 0!==tt?tt:void 0,Bd=null!==(It=m.lastLoginAt)&&void 0!==It?It:void 0,{uid:xf,emailVerified:Xg,isAnonymous:nu,providerData:Fs,stsTokenManager:bc}=m;G(xf&&bc,p,"internal-error");const Vd=Ie.fromJSON(this.name,bc);G("string"==typeof xf,p,"internal-error"),We(Et,p.name),We(sr,p.name),G("boolean"==typeof Xg,p,"internal-error"),G("boolean"==typeof nu,p,"internal-error"),We(ks,p.name),We(tu,p.name),We(Jg,p.name),We(vc,p.name),We(Qg,p.name),We(Bd,p.name);const jd=new pt({uid:xf,auth:p,email:sr,emailVerified:Xg,displayName:Et,isAnonymous:nu,photoURL:tu,phoneNumber:ks,tenantId:Jg,stsTokenManager:Vd,createdAt:Qg,lastLoginAt:Bd});return Fs&&Array.isArray(Fs)&&(jd.providerData=Fs.map(Pf=>Object.assign({},Pf))),vc&&(jd._redirectEventId=vc),jd}static _fromIdTokenResponse(p,m,w=!1){return(0,s.Z)(function*(){const N=new Ie;N.updateFromServerResponse(m);const R=new pt({uid:m.localId,auth:p,stsTokenManager:N,isAnonymous:w});return yield an(R),R})()}}const un=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(m,w){var N=this;return(0,s.Z)(function*(){N.storage[m]=w})()}_get(m){var w=this;return(0,s.Z)(function*(){const N=w.storage[m];return void 0===N?null:N})()}_remove(m){var w=this;return(0,s.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function gr(y,p,m){return`firebase:${y}:${p}:${m}`}class Lt{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:N,name:R}=this.auth;this.fullUserKey=gr(this.userKey,N.apiKey,R),this.fullPersistenceKey=gr("persistence",N.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,s.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?pt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,s.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,s.Z)(function*(){if(!m.length)return new Lt(dt(un),p,w);const N=(yield Promise.all(m.map(function(){var tt=(0,s.Z)(function*(It){if(yield It._isAvailable())return It});return function(It){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let R=N[0]||dt(un);const K=gr(w,p.config.apiKey,p.name);let ue=null;for(const tt of m)try{const It=yield tt._get(K);if(It){const Et=pt._fromJSON(p,It);tt!==R&&(ue=Et),R=tt;break}}catch{}const Ue=N.filter(tt=>tt._shouldAllowMigration);return R._shouldAllowMigration&&Ue.length?(R=Ue[0],ue&&(yield R._set(K,ue.toJSON())),yield Promise.all(m.map(function(){var tt=(0,s.Z)(function*(It){if(It!==R)try{yield It._remove(K)}catch{}});return function(It){return tt.apply(this,arguments)}}())),new Lt(R,p,w)):new Lt(R,p,w)})()}}function Ln(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(xa(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(mr(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(fo(p))return"Blackberry";if(ms(p))return"Webos";if(di(p))return"Safari";if((p.includes("chrome/")||Yt(p))&&!p.includes("edge/"))return"Chrome";if(Qi(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function mr(y=(0,F.z$)()){return/firefox\//i.test(y)}function di(y=(0,F.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Yt(y=(0,F.z$)()){return/crios\//i.test(y)}function xa(y=(0,F.z$)()){return/iemobile/i.test(y)}function Qi(y=(0,F.z$)()){return/android/i.test(y)}function fo(y=(0,F.z$)()){return/blackberry/i.test(y)}function ms(y=(0,F.z$)()){return/webos/i.test(y)}function Yr(y=(0,F.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Yh(y=(0,F.z$)()){return Yr(y)||Qi(y)||ms(y)||fo(y)||/windows phone/i.test(y)||xa(y)}function Dl(y,p=[]){let m;switch(y){case"Browser":m=Ln((0,F.z$)());break;case"Worker":m=`${Ln((0,F.z$)())}-${y}`;break;default:m=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${w}`}class Tl{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=R=>new Promise((K,ue)=>{try{K(p(R))}catch(Ue){ue(Ue)}});w.onAbort=m,this.queue.push(w);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,s.Z)(function*(){var w;if(m.auth.currentUser===p)return;const N=[];try{for(const R of m.queue)yield R(p),R.onAbort&&N.push(R.onAbort)}catch(R){N.reverse();for(const K of N)try{K()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=R)||void 0===w?void 0:w.message})}})()}}class Kh{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Su(this),this.idTokenSubscription=new Su(this),this.beforeStateQueue=new Tl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=dt(m)),this._initializationPromise=this.queue((0,s.Z)(function*(){var N,R;if(!w._deleted&&(w.persistenceManager=yield Lt.create(w,p),!w._deleted)){if(null!==(N=w._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,s.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,s.Z)(function*(){var w;const N=yield m.assertedPersistence.getCurrentUser();let R=N,K=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ue=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Ue=R?._redirectEventId,tt=yield m.tryRedirectSignIn(p);(!ue||ue===Ue)&&tt?.user&&(R=tt.user,K=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(K)try{yield m.beforeStateQueue.runMiddleware(R)}catch(ue){R=N,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ue))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return G(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var m=this;return(0,s.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,s.Z)(function*(){var w;try{yield an(p)}catch(N){if("auth/network-request-failed"!==(null===(w=N)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Fe(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,s.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,s.Z)(function*(){const w=p?(0,F.m9)(p):null;return w&&G(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,s.Z)(function*(){if(!w._deleted)return p&&G(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,s.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,s.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,s.Z)(function*(){yield m.assertedPersistence.setPersistence(dt(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,s.Z)(function*(){const N=yield w.getOrInitRedirectPersistenceManager(m);return null===p?N.removeCurrentUser():N.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,s.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&dt(p)||m._popupRedirectResolver;G(w,m,"argument-error"),m.redirectPersistenceManager=yield Lt.create(m,[dt(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,s.Z)(function*(){var w,N;return m._isInitialized&&(yield m.queue((0,s.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(N=m.redirectUser)||void 0===N?void 0:N._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,s.Z)(function*(){if(p===m.currentUser)return m.queue((0,s.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,N){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),K=this._isInitialized?Promise.resolve():this._initializationPromise;return G(K,this,"internal-error"),K.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,w,N):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,s.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Dl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,s.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const N=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return N&&(w["X-Firebase-Client"]=N),w})()}}function Un(y){return(0,F.m9)(y)}class Su{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.ne)(m=>this.observer=m)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tn(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function _r(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class rr{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return me("not implemented")}_getIdTokenResponse(p){return me("not implemented")}_linkToIdToken(p,m){return me("not implemented")}_getReauthenticationResolver(p){return me("not implemented")}}function Fr(y,p){return ka.apply(this,arguments)}function ka(){return(ka=(0,s.Z)(function*(y,p){return At(y,"POST","/v1/accounts:resetPassword",qe(y,p))})).apply(this,arguments)}function po(y,p){return Di.apply(this,arguments)}function Di(){return(Di=(0,s.Z)(function*(y,p){return At(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ut(){return(Ut=(0,s.Z)(function*(y,p){return At(y,"POST","/v1/accounts:update",qe(y,p))})).apply(this,arguments)}function hi(){return(hi=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithPassword",qe(y,p))})).apply(this,arguments)}function Xi(y,p){return ln.apply(this,arguments)}function ln(){return(ln=(0,s.Z)(function*(y,p){return At(y,"POST","/v1/accounts:sendOobCode",qe(y,p))})).apply(this,arguments)}function Mn(){return(Mn=(0,s.Z)(function*(y,p){return Xi(y,p)})).apply(this,arguments)}function Fa(){return(Fa=(0,s.Z)(function*(y,p){return Xi(y,p)})).apply(this,arguments)}function Jo(){return(Jo=(0,s.Z)(function*(y,p){return Xi(y,p)})).apply(this,arguments)}function mo(){return(mo=(0,s.Z)(function*(y,p){return Xi(y,p)})).apply(this,arguments)}function yr(){return(yr=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithEmailLink",qe(y,p))})).apply(this,arguments)}function qs(){return(qs=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithEmailLink",qe(y,p))})).apply(this,arguments)}class Kr extends rr{constructor(p,m,w,N=null){super("password",w),this._email=p,this._password=m,this._tenantId=N}static _fromEmailAndPassword(p,m){return new Kr(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Kr(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,s.Z)(function*(){switch(m.signInMethod){case"password":return function wn(y,p){return hi.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function La(y,p){return yr.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Te(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,s.Z)(function*(){switch(w.signInMethod){case"password":return po(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Xo(y,p){return qs.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Te(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Vn(y,p){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithIdp",qe(y,p))})).apply(this,arguments)}class _s extends rr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new _s(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Te("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:N}=m,R=(0,oe._T)(m,["providerId","signInMethod"]);if(!w||!N)return null;const K=new _s(w,N);return K.idToken=R.idToken||void 0,K.accessToken=R.accessToken||void 0,K.secret=R.secret,K.nonce=R.nonce,K.pendingToken=R.pendingToken||null,K}_getIdTokenResponse(p){return Vn(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Vn(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Vn(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,F.xO)(m)}return p}}function Cl(){return(Cl=(0,s.Z)(function*(y,p){return At(y,"POST","/v1/accounts:sendVerificationCode",qe(y,p))})).apply(this,arguments)}function Ti(){return(Ti=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithPhoneNumber",qe(y,p))})).apply(this,arguments)}function vr(){return(vr=(0,s.Z)(function*(y,p){const m=yield Dn(y,"POST","/v1/accounts:signInWithPhoneNumber",qe(y,p));if(m.temporaryProof)throw Cr(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const _g={USER_NOT_FOUND:"user-not-found"};function pi(){return(pi=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithPhoneNumber",qe(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),_g)})).apply(this,arguments)}class ys extends rr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new ys({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new ys({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function _o(y,p){return Ti.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function ea(y,p){return vr.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function fi(y,p){return pi.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:N}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:N}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:N,temporaryProof:R}=p;return w||m||N||R?new ys({verificationId:m,verificationCode:w,phoneNumber:N,temporaryProof:R}):null}}class Lr{constructor(p){var m,w,N,R,K,ue;const Ue=(0,F.zd)((0,F.pd)(p)),tt=null!==(m=Ue.apiKey)&&void 0!==m?m:null,It=null!==(w=Ue.oobCode)&&void 0!==w?w:null,Et=function Sl(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=Ue.mode)&&void 0!==N?N:null);G(tt&&It&&Et,"argument-error"),this.apiKey=tt,this.operation=Et,this.code=It,this.continueUrl=null!==(R=Ue.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(K=Ue.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(ue=Ue.tenantId)&&void 0!==ue?ue:null}static parseLink(p){const m=function yo(y){const p=(0,F.zd)((0,F.pd)(y)).link,m=p?(0,F.zd)((0,F.pd)(p)).deep_link_id:null,w=(0,F.zd)((0,F.pd)(y)).deep_link_id;return(w?(0,F.zd)((0,F.pd)(w)).link:null)||w||m||p||y}(p);try{return new Lr(m)}catch{return null}}}let nd=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return Kr._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const N=Lr.parseLink(w);return G(N,"argument-error"),Kr._fromEmailAndCode(m,N.code,N.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class vs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class vo extends vs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ua extends vo{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return G("providerId"in m&&"signInMethod"in m,"argument-error"),_s._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return G(p.idToken||p.accessToken,"argument-error"),_s._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ua.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ua.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:N,pendingToken:R,nonce:K,providerId:ue}=p;if(!w&&!N&&!m&&!R||!ue)return null;try{return new Ua(ue)._credential({idToken:m,accessToken:w,nonce:K,pendingToken:R})}catch{return null}}}let Nu=(()=>{class y extends vo{constructor(){super("facebook.com")}static credential(m){return _s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Jh=(()=>{class y extends vo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return _s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:N}=m;if(!w&&!N)return null;try{return y.credential(w,N)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),rd=(()=>{class y extends vo{constructor(){super("github.com")}static credential(m){return _s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class ta extends rr{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Vn(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Vn(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Vn(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:N,pendingToken:R}=m;return w&&N&&R&&w===N?new ta(w,R):null}static _create(p,m){return new ta(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class es extends vs{constructor(p){G(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return es.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return es.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=ta.fromJSON(p);return G(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return ta._create(w,m)}catch{return null}}}let vg=(()=>{class y extends vo{constructor(){super("twitter.com")}static credential(m,w){return _s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:N}=m;if(!w||!N)return null;try{return y.credential(w,N)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Il(y,p){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signUp",qe(y,p))})).apply(this,arguments)}class Ci{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,N=!1){return(0,s.Z)(function*(){const R=yield pt._fromIdTokenResponse(p,w,N),K=Ou(w);return new Ci({user:R,providerId:K,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,s.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const N=Ou(w);return new Ci({user:p,providerId:N,_tokenResponse:w,operationType:m})})()}}function Ou(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function id(){return(id=(0,s.Z)(function*(y){var p;const m=Un(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Ci({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Il(m,{returnSecureToken:!0}),N=yield Ci._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(N.user),N})).apply(this,arguments)}class Nl extends F.ZR{constructor(p,m,w,N){var R;super(m.code,m.message),this.operationType=w,this.user=N,Object.setPrototypeOf(this,Nl.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,N){return new Nl(p,m,w,N)}}function bg(y,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Nl._fromErrorAndOperation(y,R,p,w):R})}function gi(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function wo(){return wo=(0,s.Z)(function*(y,p){const m=(0,F.m9)(y);yield ra(!0,m,p);const{providerUserInfo:w}=yield function Zr(y,p){return yt.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),N=gi(w||[]);return m.providerData=m.providerData.filter(R=>N.has(R.providerId)),N.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),wo.apply(this,arguments)}function Ba(y,p){return na.apply(this,arguments)}function na(){return(na=(0,s.Z)(function*(y,p,m=!1){const w=yield Tn(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return Ci._forOperation(y,"link",w)})).apply(this,arguments)}function ra(y,p,m){return Va.apply(this,arguments)}function Va(){return(Va=(0,s.Z)(function*(y,p,m){yield an(p);const N=!1===y?"provider-already-linked":"no-such-provider";G(gi(p.providerData).has(m)===y,p.auth,N)})).apply(this,arguments)}function Ml(y,p){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,s.Z)(function*(y,p,m=!1){var w;const{auth:N}=y,R="reauthenticate";try{const K=yield Tn(y,bg(N,R,p,y),m);G(K.idToken,N,"internal-error");const ue=Ct(K.idToken);G(ue,N,"internal-error");const{sub:Ue}=ue;return G(y.uid===Ue,N,"user-mismatch"),Ci._forOperation(y,R,K)}catch(K){throw"auth/user-not-found"===(null===(w=K)||void 0===w?void 0:w.code)&&Te(N,"user-mismatch"),K}})).apply(this,arguments)}function Ws(y,p){return od.apply(this,arguments)}function od(){return(od=(0,s.Z)(function*(y,p,m=!1){const w="signIn",N=yield bg(y,w,p),R=yield Ci._fromIdTokenResponse(y,w,N);return m||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function on(y,p){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,s.Z)(function*(y,p){return Ws(Un(y),p)})).apply(this,arguments)}function ja(y,p){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,s.Z)(function*(y,p){const m=(0,F.m9)(y);return yield ra(!1,m,p.providerId),Ba(m,p)})).apply(this,arguments)}function xl(y,p){return ts.apply(this,arguments)}function ts(){return(ts=(0,s.Z)(function*(y,p){return Ml((0,F.m9)(y),p)})).apply(this,arguments)}function Ha(){return(Ha=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithCustomToken",qe(y,p))})).apply(this,arguments)}function ns(){return ns=(0,s.Z)(function*(y,p){const m=Un(y),w=yield function Ur(y,p){return Ha.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),N=yield Ci._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(N.user),N}),ns.apply(this,arguments)}class br{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?xu._fromServerResponse(p,m):Te(p,"internal-error")}}class xu extends br{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new xu(m)}}function Eo(y,p,m){var w;G((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),G(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(G(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(G(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Vi(){return Vi=(0,s.Z)(function*(y,p,m){const w=(0,F.m9)(y),N={requestType:"PASSWORD_RESET",email:p};m&&Eo(w,N,m),yield function Bn(y,p){return Fa.apply(this,arguments)}(w,N)}),Vi.apply(this,arguments)}function Ga(){return(Ga=(0,s.Z)(function*(y,p,m){yield Fr((0,F.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function kl(){return kl=(0,s.Z)(function*(y,p){yield function ot(y,p){return Ut.apply(this,arguments)}((0,F.m9)(y),{oobCode:p})}),kl.apply(this,arguments)}function Pu(y,p){return ku.apply(this,arguments)}function ku(){return(ku=(0,s.Z)(function*(y,p){const m=(0,F.m9)(y),w=yield Fr(m,{oobCode:p}),N=w.requestType;switch(G(N,m,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":G(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":G(w.mfaInfo,m,"internal-error");default:G(w.email,m,"internal-error")}let R=null;return w.mfaInfo&&(R=br._fromServerResponse(Un(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:N}})).apply(this,arguments)}function Lu(){return(Lu=(0,s.Z)(function*(y,p){const{data:m}=yield Pu((0,F.m9)(y),p);return m.email})).apply(this,arguments)}function Uu(){return(Uu=(0,s.Z)(function*(y,p,m){const w=Un(y),N=yield Il(w,{returnSecureToken:!0,email:p,password:m}),R=yield Ci._fromIdTokenResponse(w,"signIn",N);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function Jt(){return Jt=(0,s.Z)(function*(y,p,m){const w=(0,F.m9)(y),N={requestType:"EMAIL_SIGNIN",email:p};G(m.handleCodeInApp,w,"argument-error"),m&&Eo(w,N,m),yield function Gt(y,p){return Jo.apply(this,arguments)}(w,N)}),Jt.apply(this,arguments)}function $n(){return($n=(0,s.Z)(function*(y,p,m){const w=(0,F.m9)(y),N=nd.credentialWithLink(p,m||X());return G(N._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),on(w,N)})).apply(this,arguments)}function Ys(){return(Ys=(0,s.Z)(function*(y,p){return At(y,"POST","/v1/accounts:createAuthUri",qe(y,p))})).apply(this,arguments)}function Fl(){return Fl=(0,s.Z)(function*(y,p){const w={identifier:p,continueUri:ce()?X():"http://localhost"},{signinMethods:N}=yield function Xh(y,p){return Ys.apply(this,arguments)}((0,F.m9)(y),w);return N||[]}),Fl.apply(this,arguments)}function Ul(){return Ul=(0,s.Z)(function*(y,p){const m=(0,F.m9)(y),N={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Eo(m.auth,N,p);const{email:R}=yield function go(y,p){return Mn.apply(this,arguments)}(m.auth,N);R!==y.email&&(yield y.reload())}),Ul.apply(this,arguments)}function $a(){return $a=(0,s.Z)(function*(y,p,m){const w=(0,F.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&Eo(w.auth,R,m);const{email:K}=yield function Qo(y,p){return mo.apply(this,arguments)}(w.auth,R);K!==y.email&&(yield y.reload())}),$a.apply(this,arguments)}function Br(){return(Br=(0,s.Z)(function*(y,p){return At(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Do(){return Do=(0,s.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,F.m9)(y),R={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},K=yield Tn(w,function Kn(y,p){return Br.apply(this,arguments)}(w.auth,R));w.displayName=K.displayName||null,w.photoURL=K.photoUrl||null;const ue=w.providerData.find(({providerId:Ue})=>"password"===Ue);ue&&(ue.displayName=w.displayName,ue.photoURL=w.photoURL),yield w._updateTokensIfNecessary(K)}),Do.apply(this,arguments)}function Vu(y,p,m){return ju.apply(this,arguments)}function ju(){return(ju=(0,s.Z)(function*(y,p,m){const{auth:w}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const K=yield Tn(y,po(w,R));yield y._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class bs{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class Hu extends bs{constructor(p,m,w,N){super(p,m,w),this.username=N}}class dd extends bs{constructor(p,m){super(p,"facebook.com",m)}}class Vl extends Hu{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class wg extends bs{constructor(p,m){super(p,"google.com",m)}}class Gu extends Hu{constructor(p,m,w){super(p,"twitter.com",m,w)}}function hd(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ef(y){var p,m;if(!y)return null;const{providerId:w}=y,N=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const K=null===(m=null===(p=Ct(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(K)return new bs(R,"anonymous"!==K&&"custom"!==K?K:null)}if(!w)return null;switch(w){case"facebook.com":return new dd(R,N);case"github.com":return new Vl(R,N);case"google.com":return new wg(R,N);case"twitter.com":return new Gu(R,N,y.screenName||null);case"custom":case"anonymous":return new bs(R,null);default:return new bs(R,w,N)}}(m)}class hn{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new hn("enroll",p)}static _fromMfaPendingCredential(p){return new hn("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return hn._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return hn._fromIdtoken(p.multiFactorSession.idToken)}return null}}class $u{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=Un(p),N=m.customData._serverResponse,R=(N.mfaInfo||[]).map(ue=>br._fromServerResponse(w,ue));G(N.mfaPendingCredential,w,"internal-error");const K=hn._fromMfaPendingCredential(N.mfaPendingCredential);return new $u(K,R,function(){var ue=(0,s.Z)(function*(Ue){const tt=yield Ue._process(w,K);delete N.mfaInfo,delete N.mfaPendingCredential;const It=Object.assign(Object.assign({},N),{idToken:tt.idToken,refreshToken:tt.refreshToken});switch(m.operationType){case"signIn":const Et=yield Ci._fromIdTokenResponse(w,m.operationType,It);return yield w._updateCurrentUser(Et.user),Et;case"reauthenticate":return G(m.user,w,"internal-error"),Ci._forOperation(m.user,m.operationType,It);default:Te(w,"internal-error")}});return function(Ue){return ue.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,s.Z)(function*(){return m.signInResolver(p)})()}}class gd{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>br._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new gd(p)}getSession(){var p=this;return(0,s.Z)(function*(){return hn._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var w=this;return(0,s.Z)(function*(){const N=p,R=yield w.getSession(),K=yield Tn(w.user,N._process(w.user.auth,R,m));return yield w.user._updateTokensIfNecessary(K),w.user.reload()})()}unenroll(p){var m=this;return(0,s.Z)(function*(){var w;const N="string"==typeof p?p:p.uid,R=yield m.user.getIdToken(),K=yield Tn(m.user,function Tg(y,p){return At(y,"POST","/v2/accounts/mfaEnrollment:withdraw",qe(y,p))}(m.user.auth,{idToken:R,mfaEnrollmentId:N}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ue})=>ue!==N),yield m.user._updateTokensIfNecessary(K);try{yield m.user.reload()}catch(ue){if("auth/user-token-expired"!==(null===(w=ue)||void 0===w?void 0:w.code))throw ue}})()}}const To=new WeakMap,ws="__sak";class ia{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ws,"1"),this.storage.removeItem(ws),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const za=(()=>{class y extends ia{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function sa(){const y=(0,F.z$)();return di(y)||Yr(y)}()&&function Cu(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Yh(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const N=this.storage.getItem(w),R=this.localCache[w];N!==R&&m(w,R,N)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ue,Ue,tt)=>{this.notifyListeners(ue,tt)});const N=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(N);if(m.newValue!==ue)null!==m.newValue?this.storage.setItem(N,m.newValue):this.storage.removeItem(N);else if(this.localCache[N]===m.newValue&&!w)return}const R=()=>{const ue=this.storage.getItem(N);!w&&this.localCache[N]===ue||this.notifyListeners(N,ue)},K=this.storage.getItem(N);!function Xc(){return(0,F.w1)()&&10===document.documentMode}()||K===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,w){this.localCache[m]=w;const N=this.listeners[m];if(N)for(const R of Array.from(N))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var N=()=>super._set,R=this;return(0,s.Z)(function*(){yield N().call(R,m,w),R.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,N=this;return(0,s.Z)(function*(){const R=yield w().call(N,m);return N.localCache[m]=JSON.stringify(R),R})()}_remove(m){var w=()=>super._remove,N=this;return(0,s.Z)(function*(){yield w().call(N,m),delete N.localCache[m]})()}}return y.type="LOCAL",y})(),is=(()=>{class y extends ia{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let af=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(R=>R.isListeningto(m));if(w)return w;const N=new y(m);return this.receivers.push(N),N}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,s.Z)(function*(){const N=m,{eventId:R,eventType:K,data:ue}=N.data,Ue=w.handlersMap[K];if(!Ue?.size)return;N.ports[0].postMessage({status:"ack",eventId:R,eventType:K});const tt=Array.from(Ue).map(function(){var Et=(0,s.Z)(function*(sr){return sr(N.origin,ue)});return function(sr){return Et.apply(this,arguments)}}()),It=yield function sf(y){return Promise.all(y.map(function(){var p=(0,s.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(tt);N.ports[0].postMessage({status:"done",eventId:R,eventType:K,response:It})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Js(y="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return y+m}class Za{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var N=this;return(0,s.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let K,ue;return new Promise((Ue,tt)=>{const It=Js("",20);R.port1.start();const Et=setTimeout(()=>{tt(new Error("unsupported_event"))},w);ue={messageChannel:R,onMessage(sr){const ks=sr;if(ks.data.eventId===It)switch(ks.data.status){case"ack":clearTimeout(Et),K=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Ue(ks.data.response);break;default:clearTimeout(Et),clearTimeout(K),tt(new Error("invalid_response"))}}},N.handlers.add(ue),R.port1.addEventListener("message",ue.onMessage),N.target.postMessage({eventType:p,eventId:It,data:m},[R.port2])}).finally(()=>{ue&&N.removeMessageHandler(ue)})})()}}function Jn(){return window}function Ds(){return typeof Jn().WorkerGlobalScope<"u"&&"function"==typeof Jn().importScripts}function Ts(){return(Ts=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Co="firebaseLocalStorageDb",lf=1,Cs="firebaseLocalStorage",qa="fbase_key";class ss{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Wu(y,p){return y.transaction([Cs],p?"readwrite":"readonly").objectStore(Cs)}function Ya(){const y=indexedDB.open(Co,lf);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Cs,{keyPath:qa})}catch(N){m(N)}}),y.addEventListener("success",(0,s.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Cs)?p(w):(w.close(),yield function Wa(){const y=indexedDB.deleteDatabase(Co);return new ss(y).toPromise()}(),p(yield Ya()))}))})}function So(y,p,m){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,s.Z)(function*(y,p,m){const w=Wu(y,!0).put({[qa]:p,value:m});return new ss(w).toPromise()})).apply(this,arguments)}function Ss(){return(Ss=(0,s.Z)(function*(y,p){const m=Wu(y,!1).get(p),w=yield new ss(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function la(y,p){const m=Wu(y,!0).delete(p);return new ss(m).toPromise()}const ua=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,s.Z)(function*(){return m.db||(m.db=yield Ya()),m.db})()}_withRetries(m){var w=this;return(0,s.Z)(function*(){let N=0;for(;;)try{const R=yield w._openDb();return yield m(R)}catch(R){if(N++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,s.Z)(function*(){return Ds()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,s.Z)(function*(){m.receiver=af._getInstance(function qu(){return Ds()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,s.Z)(function*(N,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(N,R){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,s.Z)(function*(N,R){return["keyChanged"]});return function(N,R){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,s.Z)(function*(){var w,N;if(m.activeServiceWorker=yield function aa(){return Ts.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Za(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);R&&null!==(w=R[0])&&void 0!==w&&w.fulfilled&&null!==(N=R[0])&&void 0!==N&&N.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,s.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Zu(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ya();return yield So(m,ws,"1"),yield la(m,ws),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,s.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var N=this;return(0,s.Z)(function*(){return N._withPendingWrite((0,s.Z)(function*(){return yield N._withRetries(R=>So(R,m,w)),N.localCache[m]=w,N.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,s.Z)(function*(){const N=yield w._withRetries(R=>function Yu(y,p){return Ss.apply(this,arguments)}(R,m));return w.localCache[m]=N,N})()}_remove(m){var w=this;return(0,s.Z)(function*(){return w._withPendingWrite((0,s.Z)(function*(){return yield w._withRetries(N=>la(N,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,s.Z)(function*(){const w=yield m._withRetries(K=>{const ue=Wu(K,!1).getAll();return new ss(ue).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const N=[],R=new Set;for(const{fbase_key:K,value:ue}of w)R.add(K),JSON.stringify(m.localCache[K])!==JSON.stringify(ue)&&(m.notifyListeners(K,ue),N.push(K));for(const K of Object.keys(m.localCache))m.localCache[K]&&!R.has(K)&&(m.notifyListeners(K,null),N.push(K));return N})()}notifyListeners(m,w){this.localCache[m]=w;const N=this.listeners[m];if(N)for(const R of Array.from(N))R(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Xa(){return(Xa=(0,s.Z)(function*(y){return(yield At(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Io(y){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=N=>{const R=ve("internal-error");R.customData=N,m(R)},w.type="text/javascript",w.charset="UTF-8",function jl(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Qs(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ao=1e12;class el{constructor(p){this.auth=p,this.counter=Ao,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new uf(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||Ao;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Ao))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,s.Z)(function*(){var w;return null===(w=m._widgets.get(p||Ao))||void 0===w||w.execute(),""})()}}class uf{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof p?document.getElementById(p):p;G(N,"argument-error",{appName:m}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qu(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hl=Qs("rcb"),_d=new Ke(3e4,6e4);class ca{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Jn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return G(function da(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Jn().grecaptcha):new Promise((w,N)=>{const R=Jn().setTimeout(()=>{N(ve(p,"network-request-failed"))},_d.get());Jn()[Hl]=()=>{Jn().clearTimeout(R),delete Jn()[Hl];const ue=Jn().grecaptcha;if(!ue)return void N(ve(p,"internal-error"));const Ue=ue.render;ue.render=(tt,It)=>{const Et=Ue(tt,It);return this.counter++,Et},this.hostLanguage=m,w(ue)},Io(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Hl,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),N(ve(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Jn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Gl{load(p){return(0,s.Z)(function*(){return new el(p)})()}clearedOneInstance(){}}const ha="recaptcha",Cg={theme:"light",type:"image"};class yd{constructor(p,m=Object.assign({},Cg),w){this.parameters=m,this.type=ha,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Un(w),this.isInvisible="invisible"===this.parameters.size,G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof p?document.getElementById(p):p;G(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gl:new ca,this.validateStartingState()}verify(){var p=this;return(0,s.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(R=>{const K=ue=>{ue&&(p.tokenChangeListeners.delete(K),R(ue))};p.tokenChangeListeners.add(K),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){G(!this.parameters.sitekey,this.auth,"argument-error"),G(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=Jn()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){G(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,s.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,s.Z)(function*(){G(ce()&&!Ds(),p.auth,"internal-error"),yield function No(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function os(y){return Xa.apply(this,arguments)}(p.auth);G(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return G(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vd{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=ys._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function cn(){return(cn=(0,s.Z)(function*(y,p,m){const w=Un(y),N=yield bd(w,p,(0,F.m9)(m));return new vd(N,R=>on(w,R))})).apply(this,arguments)}function $l(){return($l=(0,s.Z)(function*(y,p,m){const w=(0,F.m9)(y);yield ra(!1,w,"phone");const N=yield bd(w.auth,p,(0,F.m9)(m));return new vd(N,R=>ja(w,R))})).apply(this,arguments)}function df(){return(df=(0,s.Z)(function*(y,p,m){const w=(0,F.m9)(y),N=yield bd(w.auth,p,(0,F.m9)(m));return new vd(N,R=>xl(w,R))})).apply(this,arguments)}function bd(y,p,m){return hf.apply(this,arguments)}function hf(){return hf=(0,s.Z)(function*(y,p,m){var w;const N=yield m.verify();try{let R;if(G("string"==typeof N,y,"argument-error"),G(m.type===ha,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const K=R.session;if("phoneNumber"in R)return G("enroll"===K.type,y,"internal-error"),(yield function nf(y,p){return At(y,"POST","/v2/accounts/mfaEnrollment:start",qe(y,p))}(y,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{G("signin"===K.type,y,"internal-error");const ue=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return G(ue,y,"missing-multi-factor-info"),(yield function Qa(y,p){return At(y,"POST","/v2/accounts/mfaSignIn:start",qe(y,p))}(y,{mfaPendingCredential:K.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield function Au(y,p){return Cl.apply(this,arguments)}(y,{phoneNumber:R.phoneNumber,recaptchaToken:N});return K}}finally{m._reset()}}),hf.apply(this,arguments)}function fa(){return(fa=(0,s.Z)(function*(y,p){yield Ba((0,F.m9)(y),p)})).apply(this,arguments)}let ec=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Un(m)}verifyPhoneNumber(m,w){return bd(this.auth,m,(0,F.m9)(w))}static credential(m,w){return ys._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:N}=m;return w&&N?ys._fromTokenResponse(w,N):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function tl(y,p){return p?dt(p):(G(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class zn extends rr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Vn(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Vn(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Vn(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function wd(y){return Ws(y.auth,new zn(y),y.bypassAuthState)}function Mo(y){const{auth:p,user:m}=y;return G(m,p,"internal-error"),Ml(m,new zn(y),y.bypassAuthState)}function Ed(y){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,s.Z)(function*(y){const{auth:p,user:m}=y;return G(m,p,"internal-error"),Ba(m,new zn(y),y.bypassAuthState)})).apply(this,arguments)}class Ns{constructor(p,m,w,N,R=!1){this.auth=p,this.resolver=w,this.user=N,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,s.Z)(function*(w,N){p.pendingPromise={resolve:w,reject:N};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(w,N){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,s.Z)(function*(){const{urlResponse:w,sessionId:N,postBody:R,tenantId:K,error:ue,type:Ue}=p;if(ue)return void m.reject(ue);const tt={auth:m.auth,requestUri:w,sessionId:N,tenantId:K||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ue)(tt))}catch(It){m.reject(It)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return wd;case"linkViaPopup":case"linkViaRedirect":return Ed;case"reauthViaPopup":case"reauthViaRedirect":return Mo;default:Te(this.auth,"internal-error")}}resolve(p){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tc=new Ke(2e3,1e4);function Xs(){return(Xs=(0,s.Z)(function*(y,p,m){const w=Un(y);ze(y,p,vs);const N=tl(w,m);return new $t(w,"signInViaPopup",p,N).executeNotNull()})).apply(this,arguments)}function pf(){return(pf=(0,s.Z)(function*(y,p,m){const w=(0,F.m9)(y);ze(w.auth,p,vs);const N=tl(w.auth,m);return new $t(w.auth,"reauthViaPopup",p,N,w).executeNotNull()})).apply(this,arguments)}function mf(){return(mf=(0,s.Z)(function*(y,p,m){const w=(0,F.m9)(y);ze(w.auth,p,vs);const N=tl(w.auth,m);return new $t(w.auth,"linkViaPopup",p,N,w).executeNotNull()})).apply(this,arguments)}let $t=(()=>{class y extends Ns{constructor(m,w,N,R,K){super(m,w,R,K),this.provider=N,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,s.Z)(function*(){const w=yield m.execute();return G(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,s.Z)(function*(){Be(1===m.filter.length,"Popup operations only handle one event");const w=Js();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(N=>{m.reject(N)}),m.resolver._isIframeWebStorageSupported(m.auth,N=>{N||m.reject(ve(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,N;this.pollId=null!==(N=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,tc.get())};m()}}return y.currentPopupAction=null,y})();const On="pendingRedirect",Hi=new Map;class Ig extends Ns{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,s.Z)(function*(){let w=Hi.get(m.auth._key());if(!w){try{const R=(yield function Dd(y,p){return Ms.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(R)}catch(N){w=()=>Promise.reject(N)}Hi.set(m.auth._key(),w)}return m.bypassAuthState||Hi.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,s.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const N=yield w.auth._redirectUserForId(p.eventId);if(N)return w.user=N,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Ms(){return(Ms=(0,s.Z)(function*(y,p){const m=ut(p),w=Cn(y);if(!(yield w._isAvailable()))return!1;const N="true"===(yield w._get(m));return yield w._remove(m),N})).apply(this,arguments)}function zl(y,p){return Os.apply(this,arguments)}function Os(){return(Os=(0,s.Z)(function*(y,p){return Cn(y)._set(ut(p),"true")})).apply(this,arguments)}function Rs(y,p){Hi.set(y._key(),p)}function Cn(y){return dt(y._redirectPersistence)}function ut(y){return gr(On,y.config.apiKey,y.name)}function Zl(y,p,m){return function Td(y,p,m){return C.apply(this,arguments)}(y,p,m)}function C(){return(C=(0,s.Z)(function*(y,p,m){const w=Un(y);ze(y,p,vs);const N=tl(w,m);return yield zl(N,w),N._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function S(y,p,m){return function M(y,p,m){return B.apply(this,arguments)}(y,p,m)}function B(){return(B=(0,s.Z)(function*(y,p,m){const w=(0,F.m9)(y);ze(w.auth,p,vs);const N=tl(w.auth,m);yield zl(N,w.auth);const R=yield gt(w);return N._openRedirect(w.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function te(y,p,m){return function se(y,p,m){return Se.apply(this,arguments)}(y,p,m)}function Se(){return(Se=(0,s.Z)(function*(y,p,m){const w=(0,F.m9)(y);ze(w.auth,p,vs);const N=tl(w.auth,m);yield ra(!1,w,p.providerId),yield zl(N,w.auth);const R=yield gt(w);return N._openRedirect(w.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function Dt(){return(Dt=(0,s.Z)(function*(y,p){return yield Un(y)._initializationPromise,Ft(y,p,!1)})).apply(this,arguments)}function Ft(y,p){return kt.apply(this,arguments)}function kt(){return(kt=(0,s.Z)(function*(y,p,m=!1){const w=Un(y),N=tl(w,p),K=yield new Ig(w,N,m).execute();return K&&!m&&(delete K.user._redirectEventId,yield w._persistUserIfCurrent(K.user),yield w._setRedirectUser(null,p)),K})).apply(this,arguments)}function gt(y){return ir.apply(this,arguments)}function ir(){return(ir=(0,s.Z)(function*(y){const p=Js(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Oo{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function _f(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mi(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!mi(p)){const N=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(ve(this.auth,N))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kn(p))}saveEventToCache(p){this.cachedEventUids.add(kn(p)),this.lastProcessedEventTime=Date.now()}}function kn(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function mi({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function xs(y){return eo.apply(this,arguments)}function eo(){return(eo=(0,s.Z)(function*(y,p={}){return At(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Gi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,to=/^https?/;function rc(){return(rc=(0,s.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield xs(y);for(const m of p)try{if(yy(m))return}catch{}Te(y,"unauthorized-domain")})).apply(this,arguments)}function yy(y){const p=X(),{protocol:m,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const K=new URL(y);return""===K.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&K.hostname===w}if(!to.test(m))return!1;if(Gi.test(y))return w===y;const N=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(w)}const yf=new Ke(3e4,6e4);function Ag(){const y=Jn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let ic=null;const vy=new Ke(5e3,15e3),by="__/auth/iframe",vf="emulator/auth/iframe",wy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ey=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ng(y){const p=y.config;G(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Ye(p,vf):`https://${y.config.authDomain}/${by}`,w={apiKey:p.apiKey,appName:y.name,v:ae.SDK_VERSION},N=Ey.get(y.config.apiHost);N&&(w.eid=N);const R=y._getFrameworks();return R.length&&(w.fw=R.join(",")),`${m}?${(0,F.xO)(w).slice(1)}`}function Id(){return Id=(0,s.Z)(function*(y){const p=yield function Sd(y){return ic=ic||function Cd(y){return new Promise((p,m)=>{var w,N,R;function K(){Ag(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ag(),m(ve(y,"network-request-failed"))},timeout:yf.get()})}if(null!==(N=null===(w=Jn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==N&&N.Iframe)p(gapi.iframes.getContext());else{if(null===(R=Jn().gapi)||void 0===R||!R.load){const ue=Qs("iframefcb");return Jn()[ue]=()=>{gapi.load?K():m(ve(y,"network-request-failed"))},Io(`https://apis.google.com/js/api.js?onload=${ue}`).catch(Ue=>m(Ue))}K()}}).catch(p=>{throw ic=null,p})}(y),ic}(y),m=Jn().gapi;return G(m,y,"internal-error"),p.open({where:document.body,url:Ng(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wy,dontclear:!0},w=>new Promise(function(){var N=(0,s.Z)(function*(R,K){yield w.restyle({setHideOnLeave:!1});const ue=ve(y,"network-request-failed"),Ue=Jn().setTimeout(()=>{K(ue)},vy.get());function tt(){Jn().clearTimeout(Ue),R(w)}w.ping(tt).then(tt,()=>{K(ue)})});return function(R,K){return N.apply(this,arguments)}}()))}),Id.apply(this,arguments)}const Mg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bf=500,Ad=600,Nd="_blank",sc="http://localhost";class Md{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const _i="__/auth/handler",pa="emulator/auth/handler";function oc(y,p,m,w,N,R){G(y.config.authDomain,y,"auth-domain-config-required"),G(y.config.apiKey,y,"invalid-api-key");const K={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:ae.SDK_VERSION,eventId:N};if(p instanceof vs){p.setDefaultLanguage(y.languageCode),K.providerId=p.providerId||"",(0,F.xb)(p.getCustomParameters())||(K.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ue,tt]of Object.entries(R||{}))K[Ue]=tt}if(p instanceof vo){const Ue=p.getScopes().filter(tt=>""!==tt);Ue.length>0&&(K.scopes=Ue.join(","))}y.tenantId&&(K.tid=y.tenantId);const ue=K;for(const Ue of Object.keys(ue))void 0===ue[Ue]&&delete ue[Ue];return`${function Rg({config:y}){return y.emulator?Ye(y,pa):`https://${y.authDomain}/${_i}`}(y)}?${(0,F.xO)(ue).slice(1)}`}const xg="webStorageSupport",wf=class Pg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=is,this._completeRedirectFn=Ft,this._overrideRedirectResult=Rs}_openPopup(p,m,w,N){var R=this;return(0,s.Z)(function*(){var K;Be(null===(K=R.eventManagers[p._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const ue=oc(p,m,w,X(),N);return function Ps(y,p,m,w=bf,N=Ad){const R=Math.max((window.screen.availHeight-N)/2,0).toString(),K=Math.max((window.screen.availWidth-w)/2,0).toString();let ue="";const Ue=Object.assign(Object.assign({},Mg),{width:w.toString(),height:N.toString(),top:R,left:K}),tt=(0,F.z$)().toLowerCase();m&&(ue=Yt(tt)?Nd:m),mr(tt)&&(p=p||sc,Ue.scrollbars="yes");const It=Object.entries(Ue).reduce((sr,[ks,tu])=>`${sr}${ks}=${tu},`,"");if(function Pa(y=(0,F.z$)()){var p;return Yr(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(tt)&&"_self"!==ue)return function Og(y,p){const m=document.createElement("a");m.href=y,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",ue),new Md(null);const Et=window.open(p||"",ue,It);G(Et,y,"popup-blocked");try{Et.focus()}catch{}return new Md(Et)}(p,ue,Js())})()}_openRedirect(p,m,w,N){var R=this;return(0,s.Z)(function*(){return yield R._originValidation(p),function oa(y){Jn().location.href=y}(oc(p,m,w,X(),N)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:N,promise:R}=this.eventManagers[m];return N?Promise.resolve(N):(Be(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,s.Z)(function*(){const w=yield function Dy(y){return Id.apply(this,arguments)}(p),N=new Oo(p);return w.register("authEvent",R=>(G(R?.authEvent,p,"invalid-auth-event"),{status:N.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:N},m.iframes[p._key()]=w,N})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(xg,{type:xg},N=>{var R;const K=null===(R=N?.[0])||void 0===R?void 0:R[xg];void 0!==K&&m(!!K),Te(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function nc(y){return rc.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Yh()||di()||Yr()}};class Od{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return me("unexpected MultiFactorSessionType")}}}class ql extends Od{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ql(p)}_finalizeEnroll(p,m,w){return function Dg(y,p){return At(y,"POST","/v2/accounts/mfaEnrollment:finalize",qe(y,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function md(y,p){return At(y,"POST","/v2/accounts/mfaSignIn:finalize",qe(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ty=(()=>{class y{constructor(){}static assertion(m){return ql._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var jr="@firebase/auth";class Cy{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,s.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var N;p((null===(N=w)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rl(){return window}!function yi(y){(0,ae._registerComponent)(new pe.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),N=p.getProvider("heartbeat"),{apiKey:R,authDomain:K}=w.options;return((ue,Ue)=>{G(R&&!R.includes(":"),"invalid-api-key",{appName:ue.name}),G(!K?.includes(":"),"argument-error",{appName:ue.name});const tt={apiKey:R,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dl(y)},It=new Kh(ue,Ue,tt);return function q(y,p){const m=p?.persistence||[],w=(Array.isArray(m)?m:[m]).map(dt);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(It,m),It})(w,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new pe.wA("auth-internal",p=>{const m=Un(p.getProvider("auth").getImmediate());return new Cy(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(jr,"0.20.5",function kg(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(jr,"0.20.5","esm2017")}("Browser");const Sy=2e3;function xd(){return xd=(0,s.Z)(function*(y,p,m){var w;const{BuildInfo:N}=rl();Be(p.sessionId,"AuthEvent did not contain a session ID");const R=yield function Wl(y){return no.apply(this,arguments)}(p.sessionId),K={};return Yr()?K.ibi=N.packageName:Qi()?K.apn=N.packageName:Te(y,"operation-not-supported-in-this-environment"),N.displayName&&(K.appDisplayName=N.displayName),K.sessionId=R,oc(y,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,K)}),xd.apply(this,arguments)}function Pd(){return(Pd=(0,s.Z)(function*(y){const{BuildInfo:p}=rl(),m={};Yr()?m.iosBundleId=p.packageName:Qi()?m.androidPackageName=p.packageName:Te(y,"operation-not-supported-in-this-environment"),yield xs(y,m)})).apply(this,arguments)}function ac(){return(ac=(0,s.Z)(function*(y,p,m){const{cordova:w}=rl();let N=()=>{};try{yield new Promise((R,K)=>{let ue=null;function Ue(){var Et;R();const sr=null===(Et=w.plugins.browsertab)||void 0===Et?void 0:Et.close;"function"==typeof sr&&sr(),"function"==typeof m?.close&&m.close()}function tt(){ue||(ue=window.setTimeout(()=>{K(ve(y,"redirect-cancelled-by-user"))},Sy))}function It(){"visible"===document?.visibilityState&&tt()}p.addPassiveListener(Ue),document.addEventListener("resume",tt,!1),Qi()&&document.addEventListener("visibilitychange",It,!1),N=()=>{p.removePassiveListener(Ue),document.removeEventListener("resume",tt,!1),document.removeEventListener("visibilitychange",It,!1),ue&&window.clearTimeout(ue)}})}finally{N()}})).apply(this,arguments)}function no(){return(no=(0,s.Z)(function*(y){const p=function uc(y){if(Be(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(N=>N.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const il=20;class Ay extends Oo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,s.Z)(function*(){yield p.initPromise})()}}function sl(y){return cc.apply(this,arguments)}function cc(){return(cc=(0,s.Z)(function*(y){const p=yield ga()._get(Ug(y));return p&&(yield ga()._remove(Ug(y))),p})).apply(this,arguments)}function Yl(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<il;m++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function ga(){return dt(za)}function Ug(y){return gr("authEvent",y.config.apiKey,y.name)}function Cf(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,F.zd)(m.join("?"))}const kd=class dc{constructor(){this._redirectPersistence=is,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ft,this._overrideRedirectResult=Rs}_initialize(p){var m=this;return(0,s.Z)(function*(){const w=p._key();let N=m.eventManagers.get(w);return N||(N=new Ay(p),m.eventManagers.set(w,N),m.attachCallbackListeners(p,N)),N})()}_openPopup(p){Te(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,N){var R=this;return(0,s.Z)(function*(){!function lc(y){var p,m,w,N,R,K,ue,Ue,tt,It;const Et=rl();G("function"==typeof(null===(p=Et?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),G(typeof(null===(m=Et?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),G("function"==typeof(null===(R=null===(N=null===(w=Et?.cordova)||void 0===w?void 0:w.plugins)||void 0===N?void 0:N.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(Ue=null===(ue=null===(K=Et?.cordova)||void 0===K?void 0:K.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===Ue?void 0:Ue.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(It=null===(tt=Et?.cordova)||void 0===tt?void 0:tt.InAppBrowser)||void 0===It?void 0:It.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const K=yield R._initialize(p);yield K.initialized(),K.resetRedirect(),function as(){Hi.clear()}(),yield R._originValidation(p);const ue=function Df(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Yl(),postBody:null,tenantId:y.tenantId,error:ve(y,"no-auth-event")}}(p,w,N);yield function Tf(y,p){return ga()._set(Ug(y),p)}(p,ue);const Ue=yield function Kb(y,p,m){return xd.apply(this,arguments)}(p,ue,m),tt=yield function Iy(y){const{cordova:p}=rl();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let N=null;w?p.plugins.browsertab.openUrl(y):N=p.InAppBrowser.open(y,function El(y=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(N)})})}(Ue);return function Lg(y,p,m){return ac.apply(this,arguments)}(p,K,tt)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Fg(y){return Pd.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:N,BuildInfo:R}=rl(),K=setTimeout((0,s.Z)(function*(){yield sl(p),m.onEvent(Kl())}),500),ue=function(){var It=(0,s.Z)(function*(Et){clearTimeout(K);const sr=yield sl(p);let ks=null;sr&&Et?.url&&(ks=function ol(y,p){var m,w;const N=function Vg(y){const p=Cf(y),m=p.link?decodeURIComponent(p.link):void 0,w=Cf(m).link,N=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Cf(N).link||N||w||m||y}(p);if(N.includes("/__/auth/callback")){const R=Cf(N),K=R.firebaseError?function Bg(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,ue=null===(w=null===(m=K?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],Ue=ue?ve(ue):null;return Ue?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:N,postBody:null}}return null}(sr,Et.url)),m.onEvent(ks||Kl())});return function(sr){return It.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ue);const Ue=N,tt=`${R.packageName.toLowerCase()}://`;rl().handleOpenURL=function(){var It=(0,s.Z)(function*(Et){if(Et.toLowerCase().startsWith(tt)&&ue({url:Et}),"function"==typeof Ue)try{Ue(Et)}catch(sr){console.error(sr)}});return function(Et){return It.apply(this,arguments)}}()}};function Kl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}const fc=1e3;function ma(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Sf(y=(0,F.z$)()){return!("file:"!==ma()&&"ionic:"!==ma()&&"capacitor:"!==ma()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function My(){try{const y=self.localStorage,p=Js();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Hg(y=(0,F.z$)()){return function ll(){return(0,F.w1)()&&11===document?.documentMode}()||function Af(y=(0,F.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,F.hl)()}catch{return Gg()&&(0,F.hl)()}return!1}function Gg(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _a(){return(function Ny(){return"http:"===ma()||"https:"===ma()}()||(0,F.ru)()||Sf())&&!function If(){return(0,F.b$)()||(0,F.UG)()}()&&My()&&!Gg()}function Oy(){return Sf()&&typeof document<"u"}function Ql(){return(Ql=(0,s.Z)(function*(){return!!Oy()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},fc);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Xr={LOCAL:"local",NONE:"none",SESSION:"session"},ya=G,pc="persistence";function Fd(y){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,s.Z)(function*(y){yield y._initializationPromise;const p=mc(),m=gr(pc,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function mc(){var y;try{return(null===(y=function $g(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Xl=G;class ls{constructor(){this.browserResolver=dt(wf),this.cordovaResolver=dt(kd),this.underlyingResolver=null,this._redirectPersistence=is,this._completeRedirectFn=Ft,this._overrideRedirectResult=Rs}_initialize(p){var m=this;return(0,s.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,N){var R=this;return(0,s.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,m,w,N)})()}_openRedirect(p,m,w,N){var R=this;return(0,s.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,m,w,N)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Oy()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,s.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Ry(){return Ql.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function zg(y){return y.unwrap()}function Zg(y){return qg(y)}function qg(y){const{_tokenResponse:p}=y instanceof F.ZR?y.customData:y;if(!p)return null;if(!(y instanceof F.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return ec.credentialFromResult(y);const m=p.providerId;if(!m||m===de.PASSWORD)return null;let w;switch(m){case de.GOOGLE:w=Jh;break;case de.FACEBOOK:w=Nu;break;case de.GITHUB:w=rd;break;case de.TWITTER:w=vg;break;default:const{oauthIdToken:N,oauthAccessToken:R,oauthTokenSecret:K,pendingToken:ue,nonce:Ue}=p;return R||K||N||ue?ue?m.startsWith("saml.")?ta._create(m,ue):_s._fromParams({providerId:m,signInMethod:m,pendingToken:ue,idToken:N,accessToken:R}):new Ua(m).credential({idToken:N,accessToken:R,rawNonce:Ue}):null}return y instanceof F.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Si(y,p){return p.catch(m=>{throw m instanceof F.ZR&&function Jb(y,p){var m,w;const N=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=p)||void 0===w?void 0:w.code))p.resolver=new ul(y,function Ir(y,p){var m;const w=(0,F.m9)(y),N=p;return G(p.customData.operationType,w,"argument-error"),G(null===(m=N.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),$u._fromError(w,N)}(y,p));else if(N){const R=qg(p),K=p;R&&(K.credential=R,K.tenantId=N.tenantId||void 0,K.email=N.email||void 0,K.phoneNumber=N.phoneNumber||void 0)}}(y,m),m}).then(m=>{const N=m.user;return{operationType:m.operationType,credential:Zg(m),additionalUserInfo:hd(m),user:xo.getOrCreate(N)}})}function _c(y,p){return yc.apply(this,arguments)}function yc(){return(yc=(0,s.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>Si(y,m.confirm(w))}})).apply(this,arguments)}class ul{constructor(p,m){this.resolver=m,this.auth=function xy(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Si(zg(this.auth),this.resolver.resolveSignIn(p))}}class xo{constructor(p){this._delegate=p,this.multiFactor=function zu(y){const p=(0,F.m9)(y);return To.has(p)||To.set(p,gd._fromUser(p)),To.get(p)}(p)}static getOrCreate(p){return xo.USER_MAP.has(p)||xo.USER_MAP.set(p,new xo(p)),xo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,s.Z)(function*(){return Si(m.auth,ja(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,s.Z)(function*(){return _c(w.auth,function Sg(y,p,m){return $l.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,s.Z)(function*(){return Si(m.auth,function gf(y,p,m){return mf.apply(this,arguments)}(m._delegate,p,ls))})()}linkWithRedirect(p){var m=this;return(0,s.Z)(function*(){return yield Fd(Un(m.auth)),te(m._delegate,p,ls)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,s.Z)(function*(){return Si(m.auth,xl(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return _c(this.auth,function cf(y,p,m){return df.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Si(this.auth,function ff(y,p,m){return pf.apply(this,arguments)}(this._delegate,p,ls))}reauthenticateWithRedirect(p){var m=this;return(0,s.Z)(function*(){return yield Fd(Un(m.auth)),S(m._delegate,p,ls)})()}sendEmailVerification(p){return function Ll(y,p){return Ul.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,s.Z)(function*(){return yield function sd(y,p){return wo.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function rs(y,p){return Vu((0,F.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Bl(y,p){return Vu((0,F.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function _y(y,p){return fa.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Bu(y,p){return Do.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function cd(y,p,m){return $a.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xo.USER_MAP=new WeakMap;const eu=G;let Wg=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:N}=m.options;eu(N,"invalid-api-key",{appName:m.name}),eu(N,"invalid-api-key",{appName:m.name});const R=typeof window<"u"?ls:void 0;this._delegate=w.initialize({options:{persistence:Of(N,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function ed(y,p,m){const w=Un(y);G(w._canInitEmulator,w,"emulator-config-failed"),G(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const N=!!m?.disableWarnings,R=tn(p),{host:K,port:ue}=function Yn(y){const p=tn(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(w);if(N){const R=N[1];return{host:R,port:_r(w.substr(R.length+1))}}{const[R,K]=w.split(":");return{host:R,port:_r(K)}}}(p);w.config.emulator={url:`${R}//${K}${null===ue?"":`:${ue}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:K,port:ue,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function Zs(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function Pt(y,p){return kl.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Pu(this._delegate,m)}confirmPasswordReset(m,w){return function Pl(y,p,m){return Ga.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var N=this;return(0,s.Z)(function*(){return Si(N._delegate,function ld(y,p,m){return Uu.apply(this,arguments)}(N._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function ji(y,p){return Fl.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function ud(y,p){return"EMAIL_SIGNIN"===Lr.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,s.Z)(function*(){eu(_a(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function Je(y,p){return Dt.apply(this,arguments)}(m._delegate,ls);return w?Si(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function hc(y,p){Un(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,N){const{next:R,error:K,complete:ue}=Mf(m,w,N);return this._delegate.onAuthStateChanged(R,K,ue)}onIdTokenChanged(m,w,N){const{next:R,error:K,complete:ue}=Mf(m,w,N);return this._delegate.onIdTokenChanged(R,K,ue)}sendSignInLinkToEmail(m,w){return function Me(y,p,m){return Jt.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function ad(y,p,m){return Vi.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,s.Z)(function*(){let N;switch(function Nf(y,p){ya(Object.values(Xr).includes(p),y,"invalid-persistence-type"),(0,F.b$)()?ya(p!==Xr.SESSION,y,"unsupported-persistence-type"):(0,F.UG)()?ya(p===Xr.NONE,y,"unsupported-persistence-type"):Gg()?ya(p===Xr.NONE||p===Xr.LOCAL&&(0,F.hl)(),y,"unsupported-persistence-type"):ya(p===Xr.NONE||My(),y,"unsupported-persistence-type")}(w._delegate,m),m){case Xr.SESSION:N=is;break;case Xr.LOCAL:N=(yield dt(ua)._isAvailable())?ua:za;break;case Xr.NONE:N=un;break;default:return Te("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(N)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Si(this._delegate,function Al(y){return id.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Si(this._delegate,on(this._delegate,m))}signInWithCustomToken(m){return Si(this._delegate,function Ru(y,p){return ns.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Si(this._delegate,function jn(y,p,m){return on((0,F.m9)(y),nd.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Si(this._delegate,function Qh(y,p,m){return $n.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return _c(this._delegate,function As(y,p,m){return cn.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,s.Z)(function*(){return eu(_a(),w._delegate,"operation-not-supported-in-this-environment"),Si(w._delegate,function nl(y,p,m){return Xs.apply(this,arguments)}(w._delegate,m,ls))})()}signInWithRedirect(m){var w=this;return(0,s.Z)(function*(){return eu(_a(),w._delegate,"operation-not-supported-in-this-environment"),yield Fd(w._delegate),Zl(w._delegate,m,ls)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Fu(y,p){return Lu.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Xr,y})();function Mf(y,p,m){let w=y;"function"!=typeof y&&({next:w,error:p,complete:m}=y);const N=w;return{next:K=>N(K&&xo.getOrCreate(K)),error:p,complete:m}}function Of(y,p){const m=function gc(y,p){const m=mc();if(!m)return[];const w=gr(pc,y,p);switch(m.getItem(w)){case Xr.NONE:return[un];case Xr.LOCAL:return[ua,is];case Xr.SESSION:return[is];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(ua)&&m.push(ua),typeof window<"u")for(const w of[za,is])m.includes(w)||m.push(w);return m.includes(un)||m.push(un),m}class Ld{constructor(){this.providerId="phone",this._delegate=new ec(zg(ne.Z.auth()))}static credential(p,m){return ec.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Ld.PHONE_SIGN_IN_METHOD=ec.PHONE_SIGN_IN_METHOD,Ld.PROVIDER_ID=ec.PROVIDER_ID;const Yg=G;class Rf{constructor(p,m,w=ne.Z.app()){var N;Yg(null===(N=w.options)||void 0===N?void 0:N.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new yd(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Kg(y){y.INTERNAL.registerComponent(new pe.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new Wg(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ee_EMAIL_SIGNIN,PASSWORD_RESET:ee_PASSWORD_RESET,RECOVER_EMAIL:ee_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ee_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ee_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ee_VERIFY_EMAIL}},EmailAuthProvider:nd,FacebookAuthProvider:Nu,GithubAuthProvider:rd,GoogleAuthProvider:Jh,OAuthProvider:Ua,SAMLAuthProvider:es,PhoneAuthProvider:Ld,PhoneMultiFactorGenerator:Ty,RecaptchaVerifier:Rf,TwitterAuthProvider:vg,Auth:Wg,AuthCredential:rr,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.18")}(ne.Z)},5809:(ft,De)=>{var k,ne;typeof window<"u"?window:global,void 0!==(ne="function"==typeof(k=function(){var F=function(ae,oe){"use strict";var H=Object.create(F.prototype),pe=0,he=0,de=0,$=0,U=[],ee=!0,$e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(q){return setTimeout(q,1e3/60)},Ee=null,Ze=!1;try{var lt=Object.defineProperty({},"passive",{get:function(){Ze=!0}});window.addEventListener("testPassive",null,lt),window.removeEventListener("testPassive",null,lt)}catch{}var ge=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,Ae=window.transformProp||function(){var q=document.createElement("div");if(null===q.style.transform){var X=["Webkit","Moz","ms"];for(var ce in X)if(void 0!==q.style[X[ce]+"Transform"])return X[ce]+"Transform"}return"transform"}();H.options={speed:-2,verticalSpeed:null,horizontalSpeed:null,breakpoints:[576,768,1201],center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,verticalScrollAxis:"y",horizontalScrollAxis:"x",callback:function(){}},oe&&Object.keys(oe).forEach(function(q){H.options[q]=oe[q]}),oe&&oe.breakpoints&&function Ce(){if(3===H.options.breakpoints.length&&Array.isArray(H.options.breakpoints)){var ce,q=!0,X=!0;if(H.options.breakpoints.forEach(function(be){"number"!=typeof be&&(X=!1),null!==ce&&be<ce&&(q=!1),ce=be}),q&&X)return}H.options.breakpoints=[576,768,1201],console.warn("Rellax: You must pass an array of 3 numbers in ascending order to the breakpoints option. Defaults reverted")}(),ae||(ae=".rellax");var Le="string"==typeof ae?document.querySelectorAll(ae):[ae];if(Le.length>0){if(H.elems=Le,H.options.wrapper&&!H.options.wrapper.nodeType){var Te=document.querySelector(H.options.wrapper);if(!Te)return void console.warn("Rellax: The wrapper you're trying to use doesn't exist.");H.options.wrapper=Te}var ve,Pe=function(){for(var q=0;q<U.length;q++)H.elems[q].style.cssText=U[q].style;U=[],he=window.innerHeight,$=window.innerWidth,ve=function(q){var X=H.options.breakpoints;return q<X[0]?"xs":q>=X[0]&&q<X[1]?"sm":q>=X[1]&&q<X[2]?"md":"lg"}($),me(),function(){for(var q=0;q<H.elems.length;q++){var X=G(H.elems[q]);U.push(X)}}(),Xe(),ee&&(window.addEventListener("resize",Pe),ee=!1,dt())},G=function(q){var Bi,X=q.getAttribute("data-rellax-percentage"),ce=q.getAttribute("data-rellax-speed"),be=q.getAttribute("data-rellax-xs-speed"),xe=q.getAttribute("data-rellax-mobile-speed"),Fe=q.getAttribute("data-rellax-tablet-speed"),Ke=q.getAttribute("data-rellax-desktop-speed"),Ye=q.getAttribute("data-rellax-vertical-speed"),sn=q.getAttribute("data-rellax-horizontal-speed"),wt=q.getAttribute("data-rellax-vertical-scroll-axis"),St=q.getAttribute("data-rellax-horizontal-scroll-axis"),qe=q.getAttribute("data-rellax-zindex")||0,At=q.getAttribute("data-rellax-min"),An=q.getAttribute("data-rellax-max"),yn=q.getAttribute("data-rellax-min-x"),vn=q.getAttribute("data-rellax-max-x"),Dn=q.getAttribute("data-rellax-min-y"),Pr=q.getAttribute("data-rellax-max-y"),kr=!0;be||xe||Fe||Ke?Bi={xs:be,sm:xe,md:Fe,lg:Ke}:kr=!1;var Cr=H.options.wrapper?H.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;H.options.relativeToWrapper&&(Cr=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)-H.options.wrapper.offsetTop);var mn=H.options.vertical&&(X||H.options.center)?Cr:0,Zr=H.options.horizontal&&(X||H.options.center)?H.options.wrapper?H.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0,yt=mn+q.getBoundingClientRect().top,qr=q.clientHeight||q.offsetHeight||q.scrollHeight,ci=Zr+q.getBoundingClientRect().left,_n=q.clientWidth||q.offsetWidth||q.scrollWidth,pr=X||(mn-yt+he)/(qr+he),Ji=X||(Zr-ci+$)/(_n+$);H.options.center&&(Ji=.5,pr=.5);var xt=kr&&null!==Bi[ve]?Number(Bi[ve]):ce||H.options.speed,bt=Ye||H.options.verticalSpeed,Ct=sn||H.options.horizontalSpeed,ps=wt||H.options.verticalScrollAxis,Tn=St||H.options.horizontalScrollAxis,Nn=Be(Ji,pr,xt,bt,Ct),Sr=q.style.cssText,Gn="",gs=/transform\s*:/i.exec(Sr);if(gs){var Wr=Sr.slice(gs.index),Zt=Wr.indexOf(";");Gn=Zt?" "+Wr.slice(11,Zt).replace(/\s/g,""):" "+Wr.slice(11).replace(/\s/g,"")}return{baseX:Nn.x,baseY:Nn.y,top:yt,left:ci,height:qr,width:_n,speed:xt,verticalSpeed:bt,horizontalSpeed:Ct,verticalScrollAxis:ps,horizontalScrollAxis:Tn,style:Sr,transform:Gn,zindex:qe,min:At,max:An,minX:yn,maxX:vn,minY:Dn,maxY:Pr}},me=function(){var q=pe,X=de;if(pe=H.options.wrapper?H.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,de=H.options.wrapper?H.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset,H.options.relativeToWrapper){var ce=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset;pe=ce-H.options.wrapper.offsetTop}return!!(q!=pe&&H.options.vertical||X!=de&&H.options.horizontal)},Be=function(q,X,ce,be,xe){var Fe={},Ke=(xe||ce)*(100*(1-q)),Ye=(be||ce)*(100*(1-X));return Fe.x=H.options.round?Math.round(Ke):Math.round(100*Ke)/100,Fe.y=H.options.round?Math.round(Ye):Math.round(100*Ye)/100,Fe},Ge=function(){window.removeEventListener("resize",Ge),window.removeEventListener("orientationchange",Ge),(H.options.wrapper?H.options.wrapper:window).removeEventListener("scroll",Ge),(H.options.wrapper?H.options.wrapper:document).removeEventListener("touchmove",Ge),Ee=$e(dt)},dt=function(){me()&&!1===ee?(Xe(),Ee=$e(dt)):(Ee=null,window.addEventListener("resize",Ge),window.addEventListener("orientationchange",Ge),(H.options.wrapper?H.options.wrapper:window).addEventListener("scroll",Ge,!!Ze&&{passive:!0}),(H.options.wrapper?H.options.wrapper:document).addEventListener("touchmove",Ge,!!Ze&&{passive:!0}))},Xe=function(){for(var q,X=0;X<H.elems.length;X++){var ce=U[X].verticalScrollAxis.toLowerCase(),be=U[X].horizontalScrollAxis.toLowerCase(),xe=-1!=ce.indexOf("x")?pe:0,Fe=-1!=ce.indexOf("y")?pe:0,Ke=-1!=be.indexOf("x")?de:0,Ye=-1!=be.indexOf("y")?de:0,St=(q=Be((xe+Ke-U[X].left+$)/(U[X].width+$),(Fe+Ye-U[X].top+he)/(U[X].height+he),U[X].speed,U[X].verticalSpeed,U[X].horizontalSpeed)).y-U[X].baseY,qe=q.x-U[X].baseX;null!==U[X].min&&(H.options.vertical&&!H.options.horizontal&&(St=St<=U[X].min?U[X].min:St),H.options.horizontal&&!H.options.vertical&&(qe=qe<=U[X].min?U[X].min:qe)),null!=U[X].minY&&(St=St<=U[X].minY?U[X].minY:St),null!=U[X].minX&&(qe=qe<=U[X].minX?U[X].minX:qe),null!==U[X].max&&(H.options.vertical&&!H.options.horizontal&&(St=St>=U[X].max?U[X].max:St),H.options.horizontal&&!H.options.vertical&&(qe=qe>=U[X].max?U[X].max:qe)),null!=U[X].maxY&&(St=St>=U[X].maxY?U[X].maxY:St),null!=U[X].maxX&&(qe=qe>=U[X].maxX?U[X].maxX:qe),H.elems[X].style[Ae]="translate3d("+(H.options.horizontal?qe:"0")+"px,"+(H.options.vertical?St:"0")+"px,"+U[X].zindex+"px) "+U[X].transform}H.options.callback(q)};return H.destroy=function(){for(var q=0;q<H.elems.length;q++)H.elems[q].style.cssText=U[q].style;ee||(window.removeEventListener("resize",Pe),ee=!0),ge(Ee),Ee=null},Pe(),H.refresh=Pe,H}console.warn("Rellax: The elements you're trying to select don't exist.")};return F})?k.apply(De,[]):k)&&(ft.exports=ne)},9751:(ft,De,k)=>{"use strict";k.d(De,{y:()=>he});var s=k(930),ne=k(727),F=k(8822),ae=k(9635),oe=k(2416),H=k(576),pe=k(2806);let he=(()=>{class ee{constructor(Ee){Ee&&(this._subscribe=Ee)}lift(Ee){const Ze=new ee;return Ze.source=this,Ze.operator=Ee,Ze}subscribe(Ee,Ze,lt){const ge=function U(ee){return ee&&ee instanceof s.Lv||function $(ee){return ee&&(0,H.m)(ee.next)&&(0,H.m)(ee.error)&&(0,H.m)(ee.complete)}(ee)&&(0,ne.Nn)(ee)}(Ee)?Ee:new s.Hp(Ee,Ze,lt);return(0,pe.x)(()=>{const{operator:Ae,source:Ce}=this;ge.add(Ae?Ae.call(ge,Ce):Ce?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(Ze){Ee.error(Ze)}}forEach(Ee,Ze){return new(Ze=de(Ze))((lt,ge)=>{const Ae=new s.Hp({next:Ce=>{try{Ee(Ce)}catch(Le){ge(Le),Ae.unsubscribe()}},error:ge,complete:lt});this.subscribe(Ae)})}_subscribe(Ee){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Ee)}[F.L](){return this}pipe(...Ee){return(0,ae.U)(Ee)(this)}toPromise(Ee){return new(Ee=de(Ee))((Ze,lt)=>{let ge;this.subscribe(Ae=>ge=Ae,Ae=>lt(Ae),()=>Ze(ge))})}}return ee.create=$e=>new ee($e),ee})();function de(ee){var $e;return null!==($e=ee??oe.v.Promise)&&void 0!==$e?$e:Promise}},7579:(ft,De,k)=>{"use strict";k.d(De,{x:()=>pe});var s=k(9751),ne=k(727);const ae=(0,k(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=k(8737),H=k(2806);let pe=(()=>{class de extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const ee=new he(this,this);return ee.operator=U,ee}_throwIfClosed(){if(this.closed)throw new ae}next(U){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(U)}})}error(U){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:ee}=this;for(;ee.length;)ee.shift().error(U)}})}complete(){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:ee,isStopped:$e,observers:Ee}=this;return ee||$e?ne.Lc:(this.currentObservers=null,Ee.push(U),new ne.w0(()=>{this.currentObservers=null,(0,oe.P)(Ee,U)}))}_checkFinalizedStatuses(U){const{hasError:ee,thrownError:$e,isStopped:Ee}=this;ee?U.error($e):Ee&&U.complete()}asObservable(){const U=new s.y;return U.source=this,U}}return de.create=($,U)=>new he($,U),de})();class he extends pe{constructor($,U){super(),this.destination=$,this.source=U}next($){var U,ee;null===(ee=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===ee||ee.call(U,$)}error($){var U,ee;null===(ee=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===ee||ee.call(U,$)}complete(){var $,U;null===(U=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===U||U.call($)}_subscribe($){var U,ee;return null!==(ee=null===(U=this.source)||void 0===U?void 0:U.subscribe($))&&void 0!==ee?ee:ne.Lc}}},930:(ft,De,k)=>{"use strict";k.d(De,{Hp:()=>lt,Lv:()=>ee});var s=k(576),ne=k(727),F=k(2416),ae=k(7849),oe=k(5032);const H=de("C",void 0,void 0);function de(Te,ve,Ne){return{kind:Te,value:ve,error:Ne}}var $=k(3410),U=k(2806);class ee extends ne.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,ne.Nn)(ve)&&ve.add(this)):this.destination=Le}static create(ve,Ne,ze){return new lt(ve,Ne,ze)}next(ve){this.isStopped?Ce(function he(Te){return de("N",Te,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?Ce(function pe(Te){return de("E",void 0,Te)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?Ce(H,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Ee(Te,ve){return $e.call(Te,ve)}class Ze{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next(ve)}catch(ze){ge(ze)}}error(ve){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error(ve)}catch(ze){ge(ze)}else ge(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Ne){ge(Ne)}}}class lt extends ee{constructor(ve,Ne,ze){let Pe;if(super(),(0,s.m)(ve)||!ve)Pe={next:ve??void 0,error:Ne??void 0,complete:ze??void 0};else{let G;this&&F.v.useDeprecatedNextContext?(G=Object.create(ve),G.unsubscribe=()=>this.unsubscribe(),Pe={next:ve.next&&Ee(ve.next,G),error:ve.error&&Ee(ve.error,G),complete:ve.complete&&Ee(ve.complete,G)}):Pe=ve}this.destination=new Ze(Pe)}}function ge(Te){F.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(Te):(0,ae.h)(Te)}function Ce(Te,ve){const{onStoppedNotification:Ne}=F.v;Ne&&$.z.setTimeout(()=>Ne(Te,ve))}const Le={closed:!0,next:oe.Z,error:function Ae(Te){throw Te},complete:oe.Z}},727:(ft,De,k)=>{"use strict";k.d(De,{Lc:()=>H,w0:()=>oe,Nn:()=>pe});var s=k(576);const F=(0,k(3888).d)(de=>function(U){de(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((ee,$e)=>`${$e+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var ae=k(8737);class oe{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const Ee of U)Ee.remove(this);else U.remove(this);const{initialTeardown:ee}=this;if((0,s.m)(ee))try{ee()}catch(Ee){$=Ee instanceof F?Ee.errors:[Ee]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Ee of $e)try{he(Ee)}catch(Ze){$=$??[],Ze instanceof F?$=[...$,...Ze.errors]:$.push(Ze)}}if($)throw new F($)}}add($){var U;if($&&$!==this)if(this.closed)he($);else{if($ instanceof oe){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push($)}}_hasParent($){const{_parentage:U}=this;return U===$||Array.isArray(U)&&U.includes($)}_addParent($){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push($),U):U?[U,$]:$}_removeParent($){const{_parentage:U}=this;U===$?this._parentage=null:Array.isArray(U)&&(0,ae.P)(U,$)}remove($){const{_finalizers:U}=this;U&&(0,ae.P)(U,$),$ instanceof oe&&$._removeParent(this)}}oe.EMPTY=(()=>{const de=new oe;return de.closed=!0,de})();const H=oe.EMPTY;function pe(de){return de instanceof oe||de&&"closed"in de&&(0,s.m)(de.remove)&&(0,s.m)(de.add)&&(0,s.m)(de.unsubscribe)}function he(de){(0,s.m)(de)?de():de.unsubscribe()}},2416:(ft,De,k)=>{"use strict";k.d(De,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ft,De,k)=>{"use strict";k.d(De,{E:()=>ne});const ne=new(k(9751).y)(oe=>oe.complete())},8996:(ft,De,k)=>{"use strict";k.d(De,{D:()=>ve});var s=k(8421),ne=k(5363),F=k(9468),H=k(9751),he=k(2202),de=k(576),$=k(9672);function ee(Ne,ze){if(!Ne)throw new Error("Iterable cannot be null");return new H.y(Pe=>{(0,$.f)(Pe,ze,()=>{const G=Ne[Symbol.asyncIterator]();(0,$.f)(Pe,ze,()=>{G.next().then(me=>{me.done?Pe.complete():Pe.next(me.value)})},0,!0)})})}var $e=k(3670),Ee=k(8239),Ze=k(1144),lt=k(6495),ge=k(2206),Ae=k(4532),Ce=k(3260);function ve(Ne,ze){return ze?function Te(Ne,ze){if(null!=Ne){if((0,$e.c)(Ne))return function ae(Ne,ze){return(0,s.Xf)(Ne).pipe((0,F.R)(ze),(0,ne.Q)(ze))}(Ne,ze);if((0,Ze.z)(Ne))return function pe(Ne,ze){return new H.y(Pe=>{let G=0;return ze.schedule(function(){G===Ne.length?Pe.complete():(Pe.next(Ne[G++]),Pe.closed||this.schedule())})})}(Ne,ze);if((0,Ee.t)(Ne))return function oe(Ne,ze){return(0,s.Xf)(Ne).pipe((0,F.R)(ze),(0,ne.Q)(ze))}(Ne,ze);if((0,ge.D)(Ne))return ee(Ne,ze);if((0,lt.T)(Ne))return function U(Ne,ze){return new H.y(Pe=>{let G;return(0,$.f)(Pe,ze,()=>{G=Ne[he.h](),(0,$.f)(Pe,ze,()=>{let me,Be;try{({value:me,done:Be}=G.next())}catch(Ge){return void Pe.error(Ge)}Be?Pe.complete():Pe.next(me)},0,!0)}),()=>(0,de.m)(G?.return)&&G.return()})}(Ne,ze);if((0,Ce.L)(Ne))return function Le(Ne,ze){return ee((0,Ce.Q)(Ne),ze)}(Ne,ze)}throw(0,Ae.z)(Ne)}(Ne,ze):(0,s.Xf)(Ne)}},8421:(ft,De,k)=>{"use strict";k.d(De,{Xf:()=>$e});var s=k(655),ne=k(1144),F=k(8239),ae=k(9751),oe=k(3670),H=k(2206),pe=k(4532),he=k(6495),de=k(3260),$=k(576),U=k(7849),ee=k(8822);function $e(Te){if(Te instanceof ae.y)return Te;if(null!=Te){if((0,oe.c)(Te))return function Ee(Te){return new ae.y(ve=>{const Ne=Te[ee.L]();if((0,$.m)(Ne.subscribe))return Ne.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,ne.z)(Te))return function Ze(Te){return new ae.y(ve=>{for(let Ne=0;Ne<Te.length&&!ve.closed;Ne++)ve.next(Te[Ne]);ve.complete()})}(Te);if((0,F.t)(Te))return function lt(Te){return new ae.y(ve=>{Te.then(Ne=>{ve.closed||(ve.next(Ne),ve.complete())},Ne=>ve.error(Ne)).then(null,U.h)})}(Te);if((0,H.D)(Te))return Ae(Te);if((0,he.T)(Te))return function ge(Te){return new ae.y(ve=>{for(const Ne of Te)if(ve.next(Ne),ve.closed)return;ve.complete()})}(Te);if((0,de.L)(Te))return function Ce(Te){return Ae((0,de.Q)(Te))}(Te)}throw(0,pe.z)(Te)}function Ae(Te){return new ae.y(ve=>{(function Le(Te,ve){var Ne,ze,Pe,G;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Ne=(0,s.KL)(Te);!(ze=yield Ne.next()).done;)if(ve.next(ze.value),ve.closed)return}catch(me){Pe={error:me}}finally{try{ze&&!ze.done&&(G=Ne.return)&&(yield G.call(Ne))}finally{if(Pe)throw Pe.error}}ve.complete()})})(Te,ve).catch(Ne=>ve.error(Ne))})}},6451:(ft,De,k)=>{"use strict";k.d(De,{T:()=>H});var s=k(8189),ne=k(8421),F=k(515),ae=k(3269),oe=k(8996);function H(...pe){const he=(0,ae.yG)(pe),de=(0,ae._6)(pe,1/0),$=pe;return $.length?1===$.length?(0,ne.Xf)($[0]):(0,s.J)(de)((0,oe.D)($,he)):F.E}},5403:(ft,De,k)=>{"use strict";k.d(De,{x:()=>ne});var s=k(930);function ne(ae,oe,H,pe,he){return new F(ae,oe,H,pe,he)}class F extends s.Lv{constructor(oe,H,pe,he,de,$){super(oe),this.onFinalize=de,this.shouldUnsubscribe=$,this._next=H?function(U){try{H(U)}catch(ee){oe.error(ee)}}:super._next,this._error=he?function(U){try{he(U)}catch(ee){oe.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(U){oe.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:H}=this;super.unsubscribe(),!H&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(ft,De,k)=>{"use strict";k.d(De,{U:()=>F});var s=k(4482),ne=k(5403);function F(ae,oe){return(0,s.e)((H,pe)=>{let he=0;H.subscribe((0,ne.x)(pe,de=>{pe.next(ae.call(oe,de,he++))}))})}},8189:(ft,De,k)=>{"use strict";k.d(De,{J:()=>F});var s=k(5577),ne=k(4671);function F(ae=1/0){return(0,s.z)(ne.y,ae)}},5577:(ft,De,k)=>{"use strict";k.d(De,{z:()=>he});var s=k(4004),ne=k(8421),F=k(4482),ae=k(9672),oe=k(5403),pe=k(576);function he(de,$,U=1/0){return(0,pe.m)($)?he((ee,$e)=>(0,s.U)((Ee,Ze)=>$(ee,Ee,$e,Ze))((0,ne.Xf)(de(ee,$e))),U):("number"==typeof $&&(U=$),(0,F.e)((ee,$e)=>function H(de,$,U,ee,$e,Ee,Ze,lt){const ge=[];let Ae=0,Ce=0,Le=!1;const Te=()=>{Le&&!ge.length&&!Ae&&$.complete()},ve=ze=>Ae<ee?Ne(ze):ge.push(ze),Ne=ze=>{Ee&&$.next(ze),Ae++;let Pe=!1;(0,ne.Xf)(U(ze,Ce++)).subscribe((0,oe.x)($,G=>{$e?.(G),Ee?ve(G):$.next(G)},()=>{Pe=!0},void 0,()=>{if(Pe)try{for(Ae--;ge.length&&Ae<ee;){const G=ge.shift();Ze?(0,ae.f)($,Ze,()=>Ne(G)):Ne(G)}Te()}catch(G){$.error(G)}}))};return de.subscribe((0,oe.x)($,ve,()=>{Le=!0,Te()})),()=>{lt?.()}}(ee,$e,de,U)))}},5363:(ft,De,k)=>{"use strict";k.d(De,{Q:()=>ae});var s=k(9672),ne=k(4482),F=k(5403);function ae(oe,H=0){return(0,ne.e)((pe,he)=>{pe.subscribe((0,F.x)(he,de=>(0,s.f)(he,oe,()=>he.next(de),H),()=>(0,s.f)(he,oe,()=>he.complete(),H),de=>(0,s.f)(he,oe,()=>he.error(de),H)))})}},3099:(ft,De,k)=>{"use strict";k.d(De,{B:()=>oe});var s=k(8421),ne=k(7579),F=k(930),ae=k(4482);function oe(pe={}){const{connector:he=(()=>new ne.x),resetOnError:de=!0,resetOnComplete:$=!0,resetOnRefCountZero:U=!0}=pe;return ee=>{let $e,Ee,Ze,lt=0,ge=!1,Ae=!1;const Ce=()=>{Ee?.unsubscribe(),Ee=void 0},Le=()=>{Ce(),$e=Ze=void 0,ge=Ae=!1},Te=()=>{const ve=$e;Le(),ve?.unsubscribe()};return(0,ae.e)((ve,Ne)=>{lt++,!Ae&&!ge&&Ce();const ze=Ze=Ze??he();Ne.add(()=>{lt--,0===lt&&!Ae&&!ge&&(Ee=H(Te,U))}),ze.subscribe(Ne),!$e&&lt>0&&($e=new F.Hp({next:Pe=>ze.next(Pe),error:Pe=>{Ae=!0,Ce(),Ee=H(Le,de,Pe),ze.error(Pe)},complete:()=>{ge=!0,Ce(),Ee=H(Le,$),ze.complete()}}),(0,s.Xf)(ve).subscribe($e))})(ee)}}function H(pe,he,...de){if(!0===he)return void pe();if(!1===he)return;const $=new F.Hp({next:()=>{$.unsubscribe(),pe()}});return(0,s.Xf)(he(...de)).subscribe($)}},9468:(ft,De,k)=>{"use strict";k.d(De,{R:()=>ne});var s=k(4482);function ne(F,ae=0){return(0,s.e)((oe,H)=>{H.add(F.schedule(()=>oe.subscribe(H),ae))})}},8505:(ft,De,k)=>{"use strict";k.d(De,{b:()=>oe});var s=k(576),ne=k(4482),F=k(5403),ae=k(4671);function oe(H,pe,he){const de=(0,s.m)(H)||pe||he?{next:H,error:pe,complete:he}:H;return de?(0,ne.e)(($,U)=>{var ee;null===(ee=de.subscribe)||void 0===ee||ee.call(de);let $e=!0;$.subscribe((0,F.x)(U,Ee=>{var Ze;null===(Ze=de.next)||void 0===Ze||Ze.call(de,Ee),U.next(Ee)},()=>{var Ee;$e=!1,null===(Ee=de.complete)||void 0===Ee||Ee.call(de),U.complete()},Ee=>{var Ze;$e=!1,null===(Ze=de.error)||void 0===Ze||Ze.call(de,Ee),U.error(Ee)},()=>{var Ee,Ze;$e&&(null===(Ee=de.unsubscribe)||void 0===Ee||Ee.call(de)),null===(Ze=de.finalize)||void 0===Ze||Ze.call(de)}))}):ae.y}},4408:(ft,De,k)=>{"use strict";k.d(De,{o:()=>oe});var s=k(727);class ne extends s.w0{constructor(pe,he){super()}schedule(pe,he=0){return this}}const F={setInterval(H,pe,...he){const{delegate:de}=F;return de?.setInterval?de.setInterval(H,pe,...he):setInterval(H,pe,...he)},clearInterval(H){const{delegate:pe}=F;return(pe?.clearInterval||clearInterval)(H)},delegate:void 0};var ae=k(8737);class oe extends ne{constructor(pe,he){super(pe,he),this.scheduler=pe,this.work=he,this.pending=!1}schedule(pe,he=0){var de;if(this.closed)return this;this.state=pe;const $=this.id,U=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(U,$,he)),this.pending=!0,this.delay=he,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(U,this.id,he),this}requestAsyncId(pe,he,de=0){return F.setInterval(pe.flush.bind(pe,this),de)}recycleAsyncId(pe,he,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return he;null!=he&&F.clearInterval(he)}execute(pe,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(pe,he);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,he){let $,de=!1;try{this.work(pe)}catch(U){de=!0,$=U||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:pe,scheduler:he}=this,{actions:de}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(de,this),null!=pe&&(this.id=this.recycleAsyncId(he,pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(ft,De,k)=>{"use strict";k.d(De,{v:()=>F});var s=k(6063);class ne{constructor(oe,H=ne.now){this.schedulerActionCtor=oe,this.now=H}schedule(oe,H=0,pe){return new this.schedulerActionCtor(this,oe).schedule(pe,H)}}ne.now=s.l.now;class F extends ne{constructor(oe,H=ne.now){super(oe,H),this.actions=[],this._active=!1}flush(oe){const{actions:H}=this;if(this._active)return void H.push(oe);let pe;this._active=!0;do{if(pe=oe.execute(oe.state,oe.delay))break}while(oe=H.shift());if(this._active=!1,pe){for(;oe=H.shift();)oe.unsubscribe();throw pe}}}},4986:(ft,De,k)=>{"use strict";k.d(De,{P:()=>ae,z:()=>F});var s=k(4408);const F=new(k(7565).v)(s.o),ae=F},6063:(ft,De,k)=>{"use strict";k.d(De,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(ft,De,k)=>{"use strict";k.d(De,{z:()=>s});const s={setTimeout(ne,F,...ae){const{delegate:oe}=s;return oe?.setTimeout?oe.setTimeout(ne,F,...ae):setTimeout(ne,F,...ae)},clearTimeout(ne){const{delegate:F}=s;return(F?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},2202:(ft,De,k)=>{"use strict";k.d(De,{h:()=>ne});const ne=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,De,k)=>{"use strict";k.d(De,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ft,De,k)=>{"use strict";k.d(De,{_6:()=>H,jO:()=>ae,yG:()=>oe});var s=k(576),ne=k(3532);function F(pe){return pe[pe.length-1]}function ae(pe){return(0,s.m)(F(pe))?pe.pop():void 0}function oe(pe){return(0,ne.K)(F(pe))?pe.pop():void 0}function H(pe,he){return"number"==typeof F(pe)?pe.pop():he}},8737:(ft,De,k)=>{"use strict";function s(ne,F){if(ne){const ae=ne.indexOf(F);0<=ae&&ne.splice(ae,1)}}k.d(De,{P:()=>s})},3888:(ft,De,k)=>{"use strict";function s(ne){const ae=ne(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}k.d(De,{d:()=>s})},2806:(ft,De,k)=>{"use strict";k.d(De,{O:()=>ae,x:()=>F});var s=k(2416);let ne=null;function F(oe){if(s.v.useDeprecatedSynchronousErrorHandling){const H=!ne;if(H&&(ne={errorThrown:!1,error:null}),oe(),H){const{errorThrown:pe,error:he}=ne;if(ne=null,pe)throw he}}else oe()}function ae(oe){s.v.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=oe)}},9672:(ft,De,k)=>{"use strict";function s(ne,F,ae,oe=0,H=!1){const pe=F.schedule(function(){ae(),H?ne.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(ne.add(pe),!H)return pe}k.d(De,{f:()=>s})},4671:(ft,De,k)=>{"use strict";function s(ne){return ne}k.d(De,{y:()=>s})},1144:(ft,De,k)=>{"use strict";k.d(De,{z:()=>s});const s=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},2206:(ft,De,k)=>{"use strict";k.d(De,{D:()=>ne});var s=k(576);function ne(F){return Symbol.asyncIterator&&(0,s.m)(F?.[Symbol.asyncIterator])}},576:(ft,De,k)=>{"use strict";function s(ne){return"function"==typeof ne}k.d(De,{m:()=>s})},3670:(ft,De,k)=>{"use strict";k.d(De,{c:()=>F});var s=k(8822),ne=k(576);function F(ae){return(0,ne.m)(ae[s.L])}},6495:(ft,De,k)=>{"use strict";k.d(De,{T:()=>F});var s=k(2202),ne=k(576);function F(ae){return(0,ne.m)(ae?.[s.h])}},8239:(ft,De,k)=>{"use strict";k.d(De,{t:()=>ne});var s=k(576);function ne(F){return(0,s.m)(F?.then)}},3260:(ft,De,k)=>{"use strict";k.d(De,{L:()=>ae,Q:()=>F});var s=k(655),ne=k(576);function F(oe){return(0,s.FC)(this,arguments,function*(){const pe=oe.getReader();try{for(;;){const{value:he,done:de}=yield(0,s.qq)(pe.read());if(de)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(he)}}finally{pe.releaseLock()}})}function ae(oe){return(0,ne.m)(oe?.getReader)}},3532:(ft,De,k)=>{"use strict";k.d(De,{K:()=>ne});var s=k(576);function ne(F){return F&&(0,s.m)(F.schedule)}},4482:(ft,De,k)=>{"use strict";k.d(De,{A:()=>ne,e:()=>F});var s=k(576);function ne(ae){return(0,s.m)(ae?.lift)}function F(ae){return oe=>{if(ne(oe))return oe.lift(function(H){try{return ae(H,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ft,De,k)=>{"use strict";function s(){}k.d(De,{Z:()=>s})},9635:(ft,De,k)=>{"use strict";k.d(De,{U:()=>F,z:()=>ne});var s=k(4671);function ne(...ae){return F(ae)}function F(ae){return 0===ae.length?s.y:1===ae.length?ae[0]:function(H){return ae.reduce((pe,he)=>he(pe),H)}}},7849:(ft,De,k)=>{"use strict";k.d(De,{h:()=>F});var s=k(2416),ne=k(3410);function F(ae){ne.z.setTimeout(()=>{const{onUnhandledError:oe}=s.v;if(!oe)throw ae;oe(ae)})}},4532:(ft,De,k)=>{"use strict";function s(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(De,{z:()=>s})},655:(ft,De,k)=>{"use strict";function ae(q,X){var ce={};for(var be in q)Object.prototype.hasOwnProperty.call(q,be)&&X.indexOf(be)<0&&(ce[be]=q[be]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(be=Object.getOwnPropertySymbols(q);xe<be.length;xe++)X.indexOf(be[xe])<0&&Object.prototype.propertyIsEnumerable.call(q,be[xe])&&(ce[be[xe]]=q[be[xe]])}return ce}function ee(q,X,ce,be){return new(ce||(ce=Promise))(function(Fe,Ke){function Ye(St){try{wt(be.next(St))}catch(qe){Ke(qe)}}function sn(St){try{wt(be.throw(St))}catch(qe){Ke(qe)}}function wt(St){St.done?Fe(St.value):function xe(Fe){return Fe instanceof ce?Fe:new ce(function(Ke){Ke(Fe)})}(St.value).then(Ye,sn)}wt((be=be.apply(q,X||[])).next())})}function Te(q){return this instanceof Te?(this.v=q,this):new Te(q)}function ve(q,X,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,be=ce.apply(q,X||[]),Fe=[];return xe={},Ke("next"),Ke("throw"),Ke("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function Ke(At){be[At]&&(xe[At]=function(An){return new Promise(function(yn,vn){Fe.push([At,An,yn,vn])>1||Ye(At,An)})})}function Ye(At,An){try{!function sn(At){At.value instanceof Te?Promise.resolve(At.value.v).then(wt,St):qe(Fe[0][2],At)}(be[At](An))}catch(yn){qe(Fe[0][3],yn)}}function wt(At){Ye("next",At)}function St(At){Ye("throw",At)}function qe(At,An){At(An),Fe.shift(),Fe.length&&Ye(Fe[0][0],Fe[0][1])}}function ze(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,X=q[Symbol.asyncIterator];return X?X.call(q):(q=function lt(q){var X="function"==typeof Symbol&&Symbol.iterator,ce=X&&q[X],be=0;if(ce)return ce.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&be>=q.length&&(q=void 0),{value:q&&q[be++],done:!q}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),ce={},be("next"),be("throw"),be("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function be(Fe){ce[Fe]=q[Fe]&&function(Ke){return new Promise(function(Ye,sn){!function xe(Fe,Ke,Ye,sn){Promise.resolve(sn).then(function(wt){Fe({value:wt,done:Ye})},Ke)}(Ye,sn,(Ke=q[Fe](Ke)).done,Ke.value)})}}}k.d(De,{FC:()=>ve,KL:()=>ze,_T:()=>ae,mG:()=>ee,qq:()=>Te})},4650:(ft,De,k)=>{"use strict";k.d(De,{$8M:()=>ca,$WT:()=>Zs,$Z:()=>Nw,AFp:()=>wp,ALo:()=>kI,AaK:()=>he,BQk:()=>Jf,CHM:()=>ud,CRH:()=>zI,CZH:()=>bh,CqO:()=>Mc,D6c:()=>N0,DdM:()=>SI,EJc:()=>c0,EiD:()=>nw,EpF:()=>aE,F$t:()=>dE,F4k:()=>lE,FYo:()=>Bf,FiY:()=>C,Gf:()=>GI,GfV:()=>um,Gpc:()=>U,Hsn:()=>hE,Ikx:()=>UE,JOm:()=>Ps,JVY:()=>Et,JZr:()=>lt,KtG:()=>Qh,L6k:()=>sr,LAX:()=>tu,LFG:()=>V,LMc:()=>qn,Lbi:()=>ND,Lck:()=>mI,MAs:()=>iE,MGl:()=>fl,MMx:()=>$m,MR2:()=>fn,MT6:()=>NE,NdJ:()=>bv,OlP:()=>cn,Oqu:()=>km,P3R:()=>sw,PXZ:()=>y0,Q6J:()=>sE,QGY:()=>Sm,QbO:()=>u0,Qsj:()=>QT,QtT:()=>sD,R0b:()=>oo,RDi:()=>Ld,Rgc:()=>uu,SBq:()=>Xn,SDv:()=>iD,Sil:()=>d0,Suo:()=>$I,TTD:()=>wo,TgZ:()=>Ac,Tol:()=>wE,Udp:()=>Nv,VKq:()=>II,W1O:()=>Xv,WLB:()=>AI,X6Q:()=>D0,XFs:()=>yt,Xpm:()=>Xc,Xts:()=>Fy,Y36:()=>Yd,YKP:()=>cD,YNc:()=>dS,Yjl:()=>ed,Yz7:()=>qe,Z0I:()=>vn,ZZ4:()=>S0,_Bn:()=>uD,_UZ:()=>Zn,_Vd:()=>ar,_c5:()=>A0,_uU:()=>CE,aQg:()=>Eh,c2e:()=>MD,cJS:()=>An,cg1:()=>VE,d8E:()=>BE,dDg:()=>p0,dqk:()=>xt,eBb:()=>ks,eFA:()=>c_,eJc:()=>Qm,ekj:()=>Mv,eoX:()=>o_,f3M:()=>W,g9A:()=>Oi,h0i:()=>fh,hGG:()=>Dh,hij:()=>uh,iGM:()=>Qv,ifc:()=>mr,ip1:()=>a0,jDz:()=>dD,kEZ:()=>_D,kL8:()=>ZS,lG2:()=>Su,lcZ:()=>FI,lqb:()=>ru,lri:()=>Ip,mCW:()=>nu,n5z:()=>Qu,oAB:()=>Tl,oJD:()=>WT,oxw:()=>oh,pB0:()=>Jg,pQV:()=>Hv,q3G:()=>or,q4F:()=>gw,qLn:()=>Vf,qOj:()=>pv,qZA:()=>su,qzn:()=>tt,rWj:()=>s_,s9C:()=>Im,sBO:()=>HD,s_b:()=>fp,soG:()=>Dp,tb:()=>u_,tp0:()=>M,uIk:()=>vv,vHH:()=>ge,vpe:()=>Sa,wAp:()=>Rt,xi3:()=>pl,xp6:()=>iu,ynx:()=>Ea,z2F:()=>Ap,z3N:()=>Ue,zSh:()=>Vy,zs3:()=>dl});var s=k(7579),ne=k(727),F=k(9751),ae=k(6451),oe=k(3099);function H(o){for(let a in o)if(o[a]===H)return a;throw Error("Could not find renamed property on target object.")}function pe(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function he(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(he).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function de(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const $=H({__forward_ref__:H});function U(o){return o.__forward_ref__=U,o.toString=function(){return he(this())},o}function ee(o){return $e(o)?o():o}function $e(o){return"function"==typeof o&&o.hasOwnProperty($)&&o.__forward_ref__===U}function Ee(o){return o&&!!o.\u0275providers}const lt="https://g.co/ng/security#xss";class ge extends Error{constructor(a,u){super(Ae(a,u)),this.code=a}}function Ae(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}function Ce(o){return"string"==typeof o?o:null==o?"":String(o)}function ze(o,a){throw new ge(-201,!1)}function Ye(o,a,u,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${u} ${d} ${a} <=Actual]`))}function qe(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function An(o){return{providers:o.providers||[],imports:o.imports||[]}}function yn(o){return Dn(o,Cr)||Dn(o,mn)}function vn(o){return null!==yn(o)}function Dn(o,a){return o.hasOwnProperty(a)?o[a]:null}function kr(o){return o&&(o.hasOwnProperty(Ki)||o.hasOwnProperty(Zr))?o[Ki]:null}const Cr=H({\u0275prov:H}),Ki=H({\u0275inj:H}),mn=H({ngInjectableDef:H}),Zr=H({ngInjectorDef:H});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let qr;function _n(o){const a=qr;return qr=o,a}function pr(o,a,u){const d=yn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&yt.Optional?null:void 0!==a?a:void ze(he(o))}const xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Tn={},Nn="__NG_DI_FLAG__",Sr="ngTempTokenPath",Gn="ngTokenPath",gs=/\n/gm,an="\u0275",Wr="__source";let Zt;function Q(o){const a=Zt;return Zt=o,a}function z(o,a=yt.Default){if(void 0===Zt)throw new ge(-203,!1);return null===Zt?pr(o,void 0,a):Zt.get(o,a&yt.Optional?null:void 0,a)}function V(o,a=yt.Default){return(function ci(){return qr}()||z)(ee(o),a)}function W(o,a=yt.Default){return V(o,Ie(a))}function Ie(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function We(o){const a=[];for(let u=0;u<o.length;u++){const d=ee(o[u]);if(Array.isArray(d)){if(0===d.length)throw new ge(900,!1);let h,g=yt.Default;for(let v=0;v<d.length;v++){const E=d[v],T=bn(E);"number"==typeof T?-1===T?h=E.token:g|=T:h=E}a.push(V(h,g))}else a.push(V(d))}return a}function pt(o,a){return o[Nn]=a,o.prototype[Nn]=a,o}function bn(o){return o[Nn]}function Lt(o){return{toString:o}.toString()}var Ln=(()=>((Ln=Ln||{})[Ln.OnPush=0]="OnPush",Ln[Ln.Default=1]="Default",Ln))(),mr=(()=>{return(o=mr||(mr={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",mr;var o})();const di={},Yt=[],xa=H({\u0275cmp:H}),Qi=H({\u0275dir:H}),fo=H({\u0275pipe:H}),ms=H({\u0275mod:H}),Yr=H({\u0275fac:H}),El=H({__NG_ELEMENT_ID__:H});let Pa=0;function Xc(o){return Lt(()=>{const a=Fr(o),u={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Ln.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||mr.Emulated,id:"c"+Pa++,styles:o.styles||Yt,_:null,schemas:o.schemas||null,tView:null};ka(u);const d=o.dependencies;return u.directiveDefs=po(d,!1),u.pipeDefs=po(d,!0),u})}function Cu(o){return tn(o)||Yn(o)}function Dl(o){return null!==o}function Tl(o){return Lt(()=>({type:o.type,bootstrap:o.bootstrap||Yt,declarations:o.declarations||Yt,imports:o.imports||Yt,exports:o.exports||Yt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Un(o,a){if(null==o)return di;const u={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),u[h]=d,a&&(a[h]=g)}return u}function Su(o){return Lt(()=>{const a=Fr(o);return ka(a),a})}function ed(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function tn(o){return o[xa]||null}function Yn(o){return o[Qi]||null}function _r(o){return o[fo]||null}function Zs(o){const a=tn(o)||Yn(o)||_r(o);return null!==a&&a.standalone}function rr(o,a){const u=o[ms]||null;if(!u&&!0===a)throw new Error(`Type ${he(o)} does not have '\u0275mod' property.`);return u}function Fr(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||Yt,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Un(o.inputs,a),outputs:Un(o.outputs)}}function ka(o){o.features?.forEach(a=>a(o))}function po(o,a){if(!o)return null;const u=a?_r:Cu;return()=>("function"==typeof o?o():o).map(d=>u(d)).filter(Dl)}const Di=0,ot=1,Ut=2,wn=3,hi=4,Xi=5,ln=6,go=7,Mn=8,Bn=9,Fa=10,Gt=11,Jo=12,Qo=13,mo=14,La=15,yr=16,Xo=17,qs=18,Kr=19,Vn=20,Iu=21,Kt=22,Au=1,Cl=2,_o=7,Ti=8,ea=9,vr=10;function fi(o){return Array.isArray(o)&&"object"==typeof o[Au]}function pi(o){return Array.isArray(o)&&!0===o[Au]}function ys(o){return 0!=(4&o.flags)}function Sl(o){return o.componentOffset>-1}function yo(o){return 1==(1&o.flags)}function Lr(o){return!!o.template}function td(o){return 0!=(256&o[Ut])}function gi(o,a){return o.hasOwnProperty(Yr)?o[Yr]:null}class sd{constructor(a,u,d){this.previousValue=a,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function wo(){return Ba}function Ba(o){return o.type.prototype.ngOnChanges&&(o.setInput=ra),na}function na(){const o=Ml(this),a=o?.current;if(a){const u=o.previous;if(u===di)o.previous=a;else for(let d in a)u[d]=a[d];o.current=null,this.ngOnChanges(a)}}function ra(o,a,u,d){const h=this.declaredInputs[u],g=Ml(o)||function Ol(o,a){return o[Va]=a}(o,{previous:di,current:null}),v=g.current||(g.current={}),E=g.previous,T=E[h];v[h]=new sd(T&&T.currentValue,a,E===di),o[d]=a}wo.ngInherit=!0;const Va="__ngSimpleChanges__";function Ml(o){return o[Va]||null}const on=function(o,a,u){};function Pn(o){for(;Array.isArray(o);)o=o[Di];return o}function ts(o,a){return Pn(a[o])}function Ur(o,a){return Pn(a[o.index])}function Ru(o,a){return o.data[a]}function ns(o,a){return o[a]}function br(o,a){const u=a[o];return fi(u)?u:u[Di]}function Eo(o){return 64==(64&o[Ut])}function Vi(o,a){return null==a?null:o[a]}function Pl(o){o[qs]=0}function Ga(o,a){o[Xi]+=a;let u=o,d=o[wn];for(;null!==d&&(1===a&&1===u[Xi]||-1===a&&0===u[Xi]);)d[Xi]+=a,u=d,d=d[wn]}const Pt={lFrame:py(null),bindingsEnabled:!0};function ld(){return Pt.bindingsEnabled}function Me(){return Pt.lFrame.lView}function Jt(){return Pt.lFrame.tView}function ud(o){return Pt.lFrame.contextLView=o,o[Mn]}function Qh(o){return Pt.lFrame.contextLView=null,o}function $n(){let o=Xh();for(;null!==o&&64===o.type;)o=o.parent;return o}function Xh(){return Pt.lFrame.currentTNode}function Ys(){const o=Pt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function ji(o,a){const u=Pt.lFrame;u.currentTNode=o,u.isParent=a}function Fl(){return Pt.lFrame.isParent}function Ll(){Pt.lFrame.isParent=!1}function Kn(){const o=Pt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Br(){return Pt.lFrame.bindingIndex}function Do(){return Pt.lFrame.bindingIndex++}function rs(o){const a=Pt.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}function Vu(o){Pt.lFrame.inI18n=o}function ju(o,a){const u=Pt.lFrame;u.bindingIndex=u.bindingRootIndex=o,bs(a)}function bs(o){Pt.lFrame.currentDirectiveIndex=o}function Hu(o){const a=Pt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function dd(){return Pt.lFrame.currentQueryIndex}function Vl(o){Pt.lFrame.currentQueryIndex=o}function wg(o){const a=o[ot];return 2===a.type?a.declTNode:1===a.type?o[ln]:null}function Gu(o,a,u){if(u&yt.SkipSelf){let h=a,g=o;for(;!(h=h.parent,null!==h||u&yt.Host||(h=wg(g),null===h||(g=g[La],10&h.type))););if(null===h)return!1;a=h,o=g}const d=Pt.lFrame=fy();return d.currentTNode=a,d.lView=o,!0}function hd(o){const a=fy(),u=o[ot];Pt.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function fy(){const o=Pt.lFrame,a=null===o?null:o.child;return null===a?py(o):a}function py(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function fd(){const o=Pt.lFrame;return Pt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const gy=fd;function tf(){const o=fd();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Jr(){return Pt.lFrame.selectedIndex}function Ks(o){Pt.lFrame.selectedIndex=o}function hn(){const o=Pt.lFrame;return Ru(o.tView,o.selectedIndex)}function To(o,a){for(let u=a.directiveStart,d=a.directiveEnd;u<d;u++){const g=o.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:I,ngOnDestroy:O}=g;v&&(o.contentHooks||(o.contentHooks=[])).push(-u,v),E&&((o.contentHooks||(o.contentHooks=[])).push(u,E),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,E)),T&&(o.viewHooks||(o.viewHooks=[])).push(-u,T),I&&((o.viewHooks||(o.viewHooks=[])).push(u,I),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,I)),null!=O&&(o.destroyHooks||(o.destroyHooks=[])).push(u,O)}}function zu(o,a,u){sa(o,a,3,u)}function ws(o,a,u,d){(3&o[Ut])===u&&sa(o,a,u,d)}function ia(o,a){let u=o[Ut];(3&u)===a&&(u&=2047,u+=1,o[Ut]=u)}function sa(o,a,u,d){const g=d??-1,v=a.length-1;let E=0;for(let T=void 0!==d?65535&o[qs]:0;T<v;T++)if("number"==typeof a[T+1]){if(E=a[T],null!=d&&E>=d)break}else a[T]<0&&(o[qs]+=65536),(E<g||-1==g)&&(rf(o,u,a,T),o[qs]=(4294901760&o[qs])+T+2),T++}function rf(o,a,u,d){const h=u[d]<0,g=u[d+1],E=o[h?-u[d]:u[d]];if(h){if(o[Ut]>>11<o[qs]>>16&&(3&o[Ut])===a){o[Ut]+=2048,on(4,E,g);try{g.call(E)}finally{on(5,E,g)}}}else{on(4,E,g);try{g.call(E)}finally{on(5,E,g)}}}const Es=-1;class Ar{constructor(a,u,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function oa(o,a,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const g=u[d++],v=u[d++],E=u[d++];o.setAttribute(a,v,E,g)}else{const g=h,v=u[++d];aa(g)?o.setProperty(a,g,v):o.setAttribute(a,g,v),d++}}return d}function Ds(o){return 3===o||4===o||6===o}function aa(o){return 64===o.charCodeAt(0)}function Ts(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?u=h:0===u||Zu(o,u,h,null,-1===u||2===u?a[++d]:null)}}return o}function Zu(o,a,u,d,h){let g=0,v=o.length;if(-1===a)v=-1;else for(;g<o.length;){const E=o[g++];if("number"==typeof E){if(E===a){v=-1;break}if(E>a){v=g-1;break}}}for(;g<o.length;){const E=o[g];if("number"==typeof E)break;if(E===u){if(null===d)return void(null!==h&&(o[g+1]=h));if(d===o[g+1])return void(o[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(o.splice(v,0,a),g=v+1),o.splice(g++,0,u),null!==d&&o.splice(g++,0,d),null!==h&&o.splice(g++,0,h)}function qu(o){return o!==Es}function Co(o){return 32767&o}function Cs(o,a){let u=function lf(o){return o>>16}(o),d=a;for(;u>0;)d=d[La],u--;return d}let qa=!0;function ss(o){const a=qa;return qa=o,a}const Wa=255,Ya=5;let So=0;const Qr={};function Ss(o,a){const u=Ku(o,a);if(-1!==u)return u;const d=a[ot];d.firstCreatePass&&(o.injectorIndex=a.length,la(d.data,o),la(a,null),la(d.blueprint,null));const h=Ka(o,a),g=o.injectorIndex;if(qu(h)){const v=Co(h),E=Cs(h,a),T=E[ot].data;for(let I=0;I<8;I++)a[g+I]=E[v+I]|T[v+I]}return a[g+8]=h,g}function la(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Ku(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Ka(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,d=null,h=a;for(;null!==h;){if(d=Xu(h),null===d)return Es;if(u++,h=h[La],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return Es}function Ja(o,a,u){!function Yu(o,a,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(El)&&(d=u[El]),null==d&&(d=u[El]=So++);const h=d&Wa;a.data[o+(h>>Ya)]|=1<<h}(o,a,u)}function Qa(o,a,u){if(u&yt.Optional||void 0!==o)return o;ze()}function md(o,a,u,d){if(u&yt.Optional&&void 0===d&&(d=null),!(u&(yt.Self|yt.Host))){const h=o[Bn],g=_n(void 0);try{return h?h.get(a,d,u&yt.Optional):pr(a,d,u&yt.Optional)}finally{_n(g)}}return Qa(d,0,u)}function os(o,a,u,d=yt.Default,h){if(null!==o){if(1024&a[Ut]){const v=function _d(o,a,u,d,h){let g=o,v=a;for(;null!==g&&null!==v&&1024&v[Ut]&&!(256&v[Ut]);){const E=Xa(g,v,u,d|yt.Self,Qr);if(E!==Qr)return E;let T=g.parent;if(!T){const I=v[Iu];if(I){const O=I.get(u,Qr,d);if(O!==Qr)return O}T=Xu(v),v=v[La]}g=T}return h}(o,a,u,d,Qr);if(v!==Qr)return v}const g=Xa(o,a,u,d,Qr);if(g!==Qr)return g}return md(a,u,d,h)}function Xa(o,a,u,d,h){const g=function Ju(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(El)?o[El]:void 0;return"number"==typeof a?a>=0?a&Wa:uf:a}(u);if("function"==typeof g){if(!Gu(a,o,d))return d&yt.Host?Qa(h,0,d):md(a,u,d,h);try{const v=g(d);if(null!=v||d&yt.Optional)return v;ze()}finally{gy()}}else if("number"==typeof g){let v=null,E=Ku(o,a),T=Es,I=d&yt.Host?a[yr][ln]:null;for((-1===E||d&yt.SkipSelf)&&(T=-1===E?Ka(o,a):a[E+8],T!==Es&&Ao(d,!1)?(v=a[ot],E=Co(T),a=Cs(T,a)):E=-1);-1!==E;){const O=a[ot];if(Is(g,E,O.data)){const L=jl(E,a,u,v,d,I);if(L!==Qr)return L}T=a[E+8],T!==Es&&Ao(d,a[ot].data[E+8]===I)&&Is(g,E,a)?(v=O,E=Co(T),a=Cs(T,a)):E=-1}}return h}function jl(o,a,u,d,h,g){const v=a[ot],E=v.data[o+8],O=Io(E,v,u,null==d?Sl(E)&&qa:d!=v&&0!=(3&E.type),h&yt.Host&&g===E);return null!==O?Qs(a,v,O,E):Qr}function Io(o,a,u,d,h){const g=o.providerIndexes,v=a.data,E=1048575&g,T=o.directiveStart,O=g>>20,J=h?E+O:o.directiveEnd;for(let re=d?E:E+O;re<J;re++){const ye=v[re];if(re<T&&u===ye||re>=T&&ye.type===u)return re}if(h){const re=v[T];if(re&&Lr(re)&&re.type===u)return T}return null}function Qs(o,a,u,d){let h=o[u];const g=a.data;if(function za(o){return o instanceof Ar}(h)){const v=h;v.resolving&&function Te(o,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new ge(-200,`Circular dependency in DI detected for ${o}${u}`)}(function Le(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ce(o)}(g[u]));const E=ss(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?_n(v.injectImpl):null;Gu(o,d,yt.Default);try{h=o[u]=v.factory(void 0,g,o,d),a.firstCreatePass&&u>=d.directiveStart&&function gd(o,a,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=a.type.prototype;if(d){const v=Ba(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,v)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,h),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,g))}(u,g[u],a)}finally{null!==T&&_n(T),ss(E),v.resolving=!1,gy()}}return h}function Is(o,a,u){return!!(u[a+(o>>Ya)]&1<<o)}function Ao(o,a){return!(o&yt.Self||o&yt.Host&&a)}class el{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,d){return os(this._tNode,this._lView,a,Ie(d),u)}}function uf(){return new el($n(),Me())}function Qu(o){return Lt(()=>{const a=o.prototype.constructor,u=a[Yr]||Hl(a),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const g=h[Yr]||Hl(h);if(g&&g!==u)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Hl(o){return $e(o)?()=>{const a=Hl(ee(o));return a&&a()}:gi(o)}function Xu(o){const a=o[ot],u=a.type;return 2===u?a.declTNode:1===u?o[ln]:null}function ca(o){return function ua(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const g=u[h];if(Ds(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(g===a)return u[h+1];h+=2}}}return null}($n(),o)}const Gl="__parameters__";function No(o,a,u){return Lt(()=>{const d=function yd(o){return function(...u){if(o){const d=o(...u);for(const h in d)this[h]=d[h]}}}(a);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(T,I,O){const L=T.hasOwnProperty(Gl)?T[Gl]:Object.defineProperty(T,Gl,{value:[]})[Gl];for(;L.length<=O;)L.push(null);return(L[O]=L[O]||[]).push(v),T}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class cn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=qe({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ns(o,a){o.forEach(u=>Array.isArray(u)?Ns(u,a):a(u))}function tc(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function nl(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Xs(o,a){const u=[];for(let d=0;d<o;d++)u.push(a);return u}function $t(o,a,u){let d=Hi(o,a);return d>=0?o[1|d]=u:(d=~d,function gf(o,a,u,d){let h=o.length;if(h==a)o.push(u,d);else if(1===h)o.push(d,o[0]),o[0]=u;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=u,o[a+1]=d}}(o,d,a,u)),d}function On(o,a){const u=Hi(o,a);if(u>=0)return o[1|u]}function Hi(o,a){return function Dd(o,a,u){let d=0,h=o.length>>u;for(;h!==d;){const g=d+(h-d>>1),v=o[g<<u];if(a===v)return g<<u;v>a?h=g:d=g+1}return~(h<<u)}(o,a,1)}const C=pt(No("Optional"),8),M=pt(No("SkipSelf"),4);var Ps=(()=>((Ps=Ps||{})[Ps.Important=1]="Important",Ps[Ps.DashCase=2]="DashCase",Ps))();const Og=/^>|^->|<!--|-->|--!>|<!-$/g,_i=/(<|>)/,pa="\u200b$1\u200b";const Rg=new Map;let xg=0;const kg="__ngContext__";function yi(o,a){fi(a)?(o[kg]=a[Vn],function wf(o){Rg.set(o[Vn],o)}(a)):o[kg]=a}let Wl;function no(o,a){return Wl(o,a)}function il(o){const a=o[wn];return pi(a)?a[wn]:a}function Tf(o){return cc(o[Qo])}function sl(o){return cc(o[hi])}function cc(o){for(;null!==o&&!pi(o);)o=o[hi];return o}function ol(o,a,u,d,h){if(null!=d){let g,v=!1;pi(d)?g=d:fi(d)&&(v=!0,d=d[Di]);const E=Pn(d);0===o&&null!==u?null==h?Af(a,u,E):ll(a,u,E,h||null,!0):1===o&&null!==u?ll(a,u,E,h||null,!0):2===o?gc(a,E,v):3===o&&a.destroyNode(E),null!=g&&function xy(o,a,u,d,h){const g=u[_o];g!==Pn(u)&&ol(a,o,d,g,h);for(let E=vr;E<u.length;E++){const T=u[E];Xl(T[ot],T,o,a,d,g)}}(a,o,g,u,h)}}function Yl(o,a){return o.createText(a)}function ga(o,a,u){o.setValue(a,u)}function Ug(o,a){return o.createComment(function oc(o){return o.replace(Og,a=>a.replace(_i,pa))}(a))}function Bg(o,a,u){return o.createElement(a,u)}function hc(o,a){const u=o[ea],d=u.indexOf(a),h=a[wn];512&a[Ut]&&(a[Ut]&=-513,Ga(h,-1)),u.splice(d,1)}function Jl(o,a){if(o.length<=vr)return;const u=vr+a,d=o[u];if(d){const h=d[Xo];null!==h&&h!==o&&hc(h,d),a>0&&(o[u-1][hi]=d[hi]);const g=nl(o,vr+a);!function Vg(o,a){Xl(o,a,a[Gt],2,null,null),a[Di]=null,a[ln]=null}(d[ot],d);const v=g[Kr];null!==v&&v.detachView(g[ot]),d[wn]=null,d[hi]=null,d[Ut]&=-65}return d}function jg(o,a){if(!(128&a[Ut])){const u=a[Gt];u.destroyNode&&Xl(o,a,u,3,null,null),function dc(o){let a=o[Qo];if(!a)return fc(o[ot],o);for(;a;){let u=null;if(fi(a))u=a[Qo];else{const d=a[vr];d&&(u=d)}if(!u){for(;a&&!a[hi]&&a!==o;)fi(a)&&fc(a[ot],a),a=a[wn];null===a&&(a=o),fi(a)&&fc(a[ot],a),u=a&&a[hi]}a=u}}(a)}}function fc(o,a){if(!(128&a[Ut])){a[Ut]&=-65,a[Ut]|=128,function Ny(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let d=0;d<u.length;d+=2){const h=a[u[d]];if(!(h instanceof Ar)){const g=u[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],T=g[v+1];on(4,E,T);try{T.call(E)}finally{on(5,E,T)}}else{on(4,h,g);try{g.call(h)}finally{on(5,h,g)}}}}}(o,a),function ma(o,a){const u=o.cleanup,d=a[go];let h=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+3];v>=0?d[h=v]():d[h=-v].unsubscribe(),g+=2}else{const v=d[h=u[g+1]];u[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();a[go]=null}}(o,a),1===a[ot].type&&a[Gt].destroy();const u=a[Xo];if(null!==u&&pi(a[wn])){u!==a[wn]&&hc(u,a);const d=a[Kr];null!==d&&d.detachView(o)}!function ql(o){Rg.delete(o[Vn])}(a)}}function Sf(o,a,u){return If(o,a.parent,u)}function If(o,a,u){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return u[Di];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:g}=o.data[d.directiveStart+h];if(g===mr.None||g===mr.Emulated)return null}return Ur(d,u)}}function ll(o,a,u,d,h){o.insertBefore(a,u,d,h)}function Af(o,a,u){o.appendChild(a,u)}function Hg(o,a,u,d,h){null!==d?ll(o,a,u,d,h):Af(o,a,u)}function _a(o,a){return o.parentNode(a)}function Ry(o,a,u){return $g(o,a,u)}function Ql(o,a,u){return 40&o.type?Ur(o,u):null}let Xr,_c,Of,Rf,$g=Ql;function ya(o,a){$g=o,Xr=a}function pc(o,a,u,d){const h=Sf(o,d,a),g=a[Gt],E=Ry(d.parent||a[ln],d,a);if(null!=h)if(Array.isArray(u))for(let T=0;T<u.length;T++)Hg(g,h,u[T],E,!1);else Hg(g,h,u,E,!1);void 0!==Xr&&Xr(g,d,a,u,h)}function Nf(o,a){if(null!==a){const u=a.type;if(3&u)return Ur(a,o);if(4&u)return Ro(-1,o[a.index]);if(8&u){const d=a.child;if(null!==d)return Nf(o,d);{const h=o[a.index];return pi(h)?Ro(-1,h):Pn(h)}}if(32&u)return no(a,o)()||Pn(o[a.index]);{const d=Fd(o,a);return null!==d?Array.isArray(d)?d[0]:Nf(il(o[yr]),d):Nf(o,a.next)}}return null}function Fd(o,a){return null!==a?o[yr][ln].projection[a.projection]:null}function Ro(o,a){const u=vr+o+1;if(u<a.length){const d=a[u],h=d[ot].firstChild;if(null!==h)return Nf(d,h)}return a[_o]}function gc(o,a,u){const d=_a(o,a);d&&function My(o,a,u,d){o.removeChild(a,u,d)}(o,d,a,u)}function mc(o,a,u,d,h,g,v){for(;null!=u;){const E=d[u.index],T=u.type;if(v&&0===a&&(E&&yi(Pn(E),d),u.flags|=2),32!=(32&u.flags))if(8&T)mc(o,a,u.child,d,h,g,!1),ol(a,o,h,E,g);else if(32&T){const I=no(u,d);let O;for(;O=I();)ol(a,o,h,O,g);ol(a,o,h,E,g)}else 16&T?zg(o,a,d,u,h,g):ol(a,o,h,E,g);u=v?u.projectionNext:u.next}}function Xl(o,a,u,d,h,g){mc(u,d,o.firstChild,a,h,g,!1)}function zg(o,a,u,d,h,g){const v=u[yr],T=v[ln].projection[d.projection];if(Array.isArray(T))for(let I=0;I<T.length;I++)ol(a,o,h,T[I],g);else mc(o,a,T,v[wn],h,g,!0)}function qg(o,a,u){""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u)}function Si(o,a,u){const{mergedAttrs:d,classes:h,styles:g}=u;null!==d&&oa(o,a,d),null!==h&&qg(o,a,h),null!==g&&function Jb(o,a,u){o.setAttribute(a,"style",u)}(o,a,g)}function ul(o){return function yc(){if(void 0===_c&&(_c=null,xt.trustedTypes))try{_c=xt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return _c}()?.createHTML(o)||o}function Ld(o){Of=o}function Yg(){return void 0!==Of?Of:typeof document<"u"?document:void 0}function Ud(){if(void 0===Rf&&(Rf=null,xt.trustedTypes))try{Rf=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Rf}function Kg(o){return Ud()?.createHTML(o)||o}function p(o){return Ud()?.createScriptURL(o)||o}class m{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}class w extends m{getTypeName(){return"HTML"}}class N extends m{getTypeName(){return"Style"}}class R extends m{getTypeName(){return"Script"}}class K extends m{getTypeName(){return"URL"}}class ue extends m{getTypeName(){return"ResourceURL"}}function Ue(o){return o instanceof m?o.changingThisBreaksApplicationSecurity:o}function tt(o,a){const u=function It(o){return o instanceof m&&o.getTypeName()||null}(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see ${lt})`)}return u===a}function Et(o){return new w(o)}function sr(o){return new N(o)}function ks(o){return new R(o)}function tu(o){return new K(o)}function Jg(o){return new ue(o)}function vc(o){const a=new Bd(o);return function xf(){try{return!!(new window.DOMParser).parseFromString(ul(""),"text/html")}catch{return!1}}()?new Qg(a):a}class Qg{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(ul(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch{return null}}}class Bd{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const u=this.inertDocument.createElement("template");return u.innerHTML=ul(a),u}}const Xg=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function nu(o){return(o=String(o)).match(Xg)?o:"unsafe:"+o}function Fs(o){const a={};for(const u of o.split(","))a[u]=!0;return a}function bc(...o){const a={};for(const u of o)for(const d in u)u.hasOwnProperty(d)&&(a[d]=!0);return a}const Vd=Fs("area,br,col,hr,img,wbr"),jd=Fs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pf=Fs("rp,rt"),em=bc(Vd,bc(jd,Fs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bc(Pf,Fs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bc(Pf,jd)),Py=Fs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qb=bc(Py,Fs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tm=Fs("script,style,template");class Xb{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!em.hasOwnProperty(u))return this.sanitizedSomething=!0,!tm.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=a.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,E=v.toLowerCase();if(!Qb.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=g.value;Py[E]&&(T=nu(T)),this.buf.push(" ",v,'="',tw(T),'"')}return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();em.hasOwnProperty(u)&&!Vd.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(tw(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const ZT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ew=/([^\#-~ |!])/g;function tw(o){return o.replace(/&/g,"&amp;").replace(ZT,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(ew,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let kf;function nw(o,a){let u=null;try{kf=kf||vc(o);let d=a?String(a):"";u=kf.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=u.innerHTML,u=kf.getInertBodyElement(d)}while(d!==g);return ul((new Xb).sanitizeChildren(nm(u)||u))}finally{if(u){const d=nm(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function nm(o){return"content"in o&&function qT(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var or=(()=>((or=or||{})[or.NONE=0]="NONE",or[or.HTML=1]="HTML",or[or.STYLE=2]="STYLE",or[or.SCRIPT=3]="SCRIPT",or[or.URL=4]="URL",or[or.RESOURCE_URL=5]="RESOURCE_URL",or))();function WT(o){const a=rm();return a?Kg(a.sanitize(or.HTML,o)||""):tt(o,"HTML")?Kg(Ue(o)):nw(Yg(),Ce(o))}function YT(o){const a=rm();return a?a.sanitize(or.URL,o)||"":tt(o,"URL")?Ue(o):nu(Ce(o))}function ky(o){const a=rm();if(a)return p(a.sanitize(or.RESOURCE_URL,o)||"");if(tt(o,"ResourceURL"))return p(Ue(o));throw new ge(904,!1)}function sw(o,a,u){return function iw(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?ky:YT}(a,u)(o)}function rm(){const o=Me();return o&&o[Jo]}const Fy=new cn("ENVIRONMENT_INITIALIZER"),ow=new cn("INJECTOR",-1),Po=new cn("INJECTOR_DEF_TYPES");class vt{get(a,u=Tn){if(u===Tn){const d=new Error(`NullInjectorError: No provider for ${he(a)}!`);throw d.name="NullInjectorError",d}return u}}function fn(o){return{\u0275providers:o}}function vi(...o){return{\u0275providers:aw(0,o),\u0275fromNgModule:!0}}function aw(o,...a){const u=[],d=new Set;let h;return Ns(a,g=>{const v=g;Ly(v,u,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&ko(h,u),u}function ko(o,a){for(let u=0;u<o.length;u++){const{providers:h}=o[u];Uy(h,g=>{a.push(g)})}}function Ly(o,a,u,d){if(!(o=ee(o)))return!1;let h=null,g=kr(o);const v=!g&&tn(o);if(g||v){if(v&&!v.standalone)return!1;h=o}else{const T=o.ngModule;if(g=kr(T),!g)return!1;h=T}const E=d.has(h);if(v){if(E)return!1;if(d.add(h),v.dependencies){const T="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const I of T)Ly(I,a,u,d)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let I;d.add(h);try{Ns(g.imports,O=>{Ly(O,a,u,d)&&(I||(I=[]),I.push(O))})}finally{}void 0!==I&&ko(I,a)}if(!E){const I=gi(h)||(()=>new h);a.push({provide:h,useFactory:I,deps:Yt},{provide:Po,useValue:h,multi:!0},{provide:Fy,useValue:()=>V(h),multi:!0})}const T=g.providers;null==T||E||Uy(T,O=>{a.push(O)})}}return h!==o&&void 0!==o.providers}function Uy(o,a){for(let u of o)Ee(u)&&(u=u.\u0275providers),Array.isArray(u)?Uy(u,a):a(u)}const bi=H({provide:String,useValue:H});function im(o){return null!==o&&"object"==typeof o&&bi in o}function wc(o){return"function"==typeof o}const Vy=new cn("Set Injector scope."),sm={},jy={};let Hy;function Ff(){return void 0===Hy&&(Hy=new vt),Hy}class ru{}class cw extends ru{get destroyed(){return this._destroyed}constructor(a,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fw(a,v=>this.processProvider(v)),this.records.set(ow,$d(void 0,this)),h.has("environment")&&this.records.set(ru,$d(void 0,this));const g=this.records.get(Vy);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Po.multi,Yt,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const u=Q(this),d=_n(void 0);try{return a()}finally{Q(u),_n(d)}}get(a,u=Tn,d=yt.Default){this.assertNotDestroyed(),d=Ie(d);const h=Q(this),g=_n(void 0);try{if(!(d&yt.SkipSelf)){let E=this.records.get(a);if(void 0===E){const T=function hw(o){return"function"==typeof o||"object"==typeof o&&o instanceof cn}(a)&&yn(a);E=T&&this.injectableDefInScope(T)?$d(Nr(a),sm):null,this.records.set(a,E)}if(null!=E)return this.hydrate(a,E)}return(d&yt.Self?Ff():this.parent).get(a,u=d&yt.Optional&&u===Tn?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Sr]=v[Sr]||[]).unshift(he(a)),h)throw v;return function un(o,a,u,d){const h=o[Sr];throw a[Wr]&&h.unshift(a[Wr]),o.message=function gr(o,a,u,d=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==an?o.slice(2):o;let h=he(a);if(Array.isArray(a))h=a.map(he).join(" -> ");else if("object"==typeof a){let g=[];for(let v in a)if(a.hasOwnProperty(v)){let E=a[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):he(E)))}h=`{${g.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${o.replace(gs,"\n  ")}`}("\n"+o.message,h,u,d),o[Gn]=h,o[Sr]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{_n(g),Q(h)}}resolveInjectorInitializers(){const a=Q(this),u=_n(void 0);try{const d=this.get(Fy.multi,Yt,yt.Self);for(const h of d)h()}finally{Q(a),_n(u)}}toString(){const a=[],u=this.records;for(const d of u.keys())a.push(he(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(a){let u=wc(a=ee(a))?a:ee(a&&a.provide);const d=function KT(o){return im(o)?$d(void 0,o.useValue):$d(Lf(o),sm)}(a);if(wc(a)||!0!==a.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=$d(void 0,sm,!0),h.factory=()=>We(h.multi),this.records.set(u,h)),u=a,h.multi.push(a)}this.records.set(u,d)}hydrate(a,u){return u.value===sm&&(u.value=jy,u.value=u.factory()),"object"==typeof u.value&&u.value&&function om(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=ee(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Nr(o){const a=yn(o),u=null!==a?a.factory:gi(o);if(null!==u)return u;if(o instanceof cn)throw new ge(204,!1);if(o instanceof Function)return function Gd(o){const a=o.length;if(a>0)throw Xs(a,"?"),new ge(204,!1);const u=function Pr(o){const a=o&&(o[Cr]||o[mn]);return a?(function Bi(o){if(o.hasOwnProperty("name"))return o.name;(""+o).match(/^function\s*([^\s(]+)/)}(o),a):null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new ge(204,!1)}function Lf(o,a,u){let d;if(wc(o)){const h=ee(o);return gi(h)||Nr(h)}if(im(o))d=()=>ee(o.useValue);else if(function uw(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...We(o.deps||[]));else if(function lw(o){return!(!o||!o.useExisting)}(o))d=()=>V(ee(o.useExisting));else{const h=ee(o&&(o.useClass||o.provide));if(!function dw(o){return!!o.deps}(o))return gi(h)||Nr(h);d=()=>new h(...We(o.deps))}return d}function $d(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function fw(o,a){for(const u of o)Array.isArray(u)?fw(u,a):u&&Ee(u)?fw(u.\u0275providers,a):a(u)}class am{}class Gy{}class JT{resolveComponentFactory(a){throw function Uf(o){const a=Error(`No component factory found for ${he(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let ar=(()=>{class o{}return o.NULL=new JT,o})();function lr(){return Sn($n(),Me())}function Sn(o,a){return new Xn(Ur(o,a))}let Xn=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=lr,o})();function Ec(o){return o instanceof Xn?o.nativeElement:o}class Bf{}let QT=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function Mr(){const o=Me(),u=br($n().index,o);return(fi(u)?u:o)[Gt]}(),o})(),ei=(()=>{class o{}return o.\u0275prov=qe({token:o,providedIn:"root",factory:()=>null}),o})();class um{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const gw=new um("15.2.4"),cm={},dm="ngOriginalError";function $y(o){return o[dm]}class Vf{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&$y(a);for(;u&&$y(u);)u=$y(u);return u||null}}function Uo(o){return o instanceof Function?o():o}function _w(o,a,u){let d=o.length;for(;;){const h=o.indexOf(a,u);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const g=a.length;if(h+g===d||o.charCodeAt(h+g)<=32)return h}u=h+1}}const Zy="ng-template";function yw(o,a,u){let d=0,h=!0;for(;d<o.length;){let g=o[d++];if("string"==typeof g&&h){const v=o[d++];if(u&&"class"===g&&-1!==_w(v.toLowerCase(),a,0))return!0}else{if(1===g){for(;d<o.length&&"string"==typeof(g=o[d++]);)if(g.toLowerCase()===a)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function vw(o){return 4===o.type&&o.value!==Zy}function tC(o,a,u){return a===(4!==o.type||u?o.value:Zy)}function nC(o,a,u){let d=4;const h=o.attrs||[],g=function sC(o){for(let a=0;a<o.length;a++)if(Ds(o[a]))return a;return o.length}(h);let v=!1;for(let E=0;E<a.length;E++){const T=a[E];if("number"!=typeof T){if(!v)if(4&d){if(d=2|1&d,""!==T&&!tC(o,T,u)||""===T&&1===a.length){if(Bo(d))return!1;v=!0}}else{const I=8&d?T:a[++E];if(8&d&&null!==o.attrs){if(!yw(o.attrs,I,u)){if(Bo(d))return!1;v=!0}continue}const L=rC(8&d?"class":T,h,vw(o),u);if(-1===L){if(Bo(d))return!1;v=!0;continue}if(""!==I){let J;J=L>g?"":h[L+1].toLowerCase();const re=8&d?J:null;if(re&&-1!==_w(re,I,0)||2&d&&I!==J){if(Bo(d))return!1;v=!0}}}}else{if(!v&&!Bo(d)&&!Bo(T))return!1;if(v&&Bo(T))continue;v=!1,d=T|1&d}}return Bo(d)||v}function Bo(o){return 0==(1&o)}function rC(o,a,u,d){if(null===a)return-1;let h=0;if(d||!u){let g=!1;for(;h<a.length;){const v=a[h];if(v===o)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=a[++h];for(;"string"==typeof E;)E=a[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function oC(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const d=o[u];if("number"==typeof d)return-1;if(d===a)return u;u++}return-1}(a,o)}function bw(o,a,u=!1){for(let d=0;d<a.length;d++)if(nC(o,a[d],u))return!0;return!1}function aC(o,a){e:for(let u=0;u<a.length;u++){const d=a[u];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function us(o,a){return o?":not("+a.trim()+")":a}function Dc(o){let a=o[0],u=1,d=2,h="",g=!1;for(;u<o.length;){let v=o[u];if("string"==typeof v)if(2&d){const E=o[++u];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Bo(v)&&(a+=us(g,h),h=""),d=v,g=g||!Bo(d);u++}return""!==h&&(a+=us(g,h)),a}const Ot={};function iu(o){Hf(Jt(),Me(),Jr()+o,!1)}function Hf(o,a,u,d){if(!d)if(3==(3&a[Ut])){const g=o.preOrderCheckHooks;null!==g&&zu(a,g,u)}else{const g=o.preOrderHooks;null!==g&&ws(a,g,0,u)}Ks(u)}function Vo(o,a=null,u=null,d){const h=Gf(o,a,u,d);return h.resolveInjectorInitializers(),h}function Gf(o,a=null,u=null,d,h=new Set){const g=[u||Yt,vi(o)];return d=d||("object"==typeof o?void 0:he(o)),new cw(g,a||Ff(),d||null,h)}let dl=(()=>{class o{static create(u,d){if(Array.isArray(u))return Vo({name:""},d,u,"");{const h=u.name??"";return Vo({name:h},u.parent,u.providers,h)}}}return o.THROW_IF_NOT_FOUND=Tn,o.NULL=new vt,o.\u0275prov=qe({token:o,providedIn:"any",factory:()=>V(ow)}),o.__NG_ELEMENT_ID__=-1,o})();function Yd(o,a=yt.Default){const u=Me();return null===u?V(o,a):os($n(),u,ee(o),a)}function Nw(){throw new Error("invalid")}function Mw(o,a){const u=o.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const g=u[d+1];if(-1!==g){const v=o.data[g];Vl(u[d]),v.contentQueries(2,a[g],g)}}}function ym(o,a,u,d,h,g,v,E,T,I,O){const L=a.blueprint.slice();return L[Di]=h,L[Ut]=76|d,(null!==O||o&&1024&o[Ut])&&(L[Ut]|=1024),Pl(L),L[wn]=L[La]=o,L[Mn]=u,L[Fa]=v||o&&o[Fa],L[Gt]=E||o&&o[Gt],L[Jo]=T||o&&o[Jo]||null,L[Bn]=I||o&&o[Bn]||null,L[ln]=g,L[Vn]=function Pg(){return xg++}(),L[Iu]=O,L[yr]=2==a.type?o[yr]:L,L}function Kd(o,a,u,d,h){let g=o.data[a];if(null===g)g=tv(o,a,u,d,h),function Bl(){return Pt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=u,g.value=d,g.attrs=h;const v=Ys();g.injectorIndex=null===v?-1:v.injectorIndex}return ji(g,!0),g}function tv(o,a,u,d,h){const g=Xh(),v=Fl(),T=o.data[a]=function EC(o,a,u,d,h,g){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,a,d,h);return null===o.firstChild&&(o.firstChild=T),null!==g&&(v?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T,T.prev=g)),T}function Zf(o,a,u,d){if(0===u)return-1;const h=a.length;for(let g=0;g<u;g++)a.push(d),o.blueprint.push(d),o.data.push(null);return h}function Ow(o,a,u){hd(a);try{const d=o.viewQuery;null!==d&&hv(1,d,u);const h=o.template;null!==h&&rv(o,a,h,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Mw(o,a),o.staticViewQueries&&hv(2,o.viewQuery,u);const g=o.components;null!==g&&function vC(o,a){for(let u=0;u<a.length;u++)BC(o,a[u])}(a,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[Ut]&=-5,tf()}}function nv(o,a,u,d){const h=a[Ut];if(128!=(128&h)){hd(a);try{Pl(a),function Bu(o){return Pt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&rv(o,a,u,2,d);const v=3==(3&h);if(v){const I=o.preOrderCheckHooks;null!==I&&zu(a,I,null)}else{const I=o.preOrderHooks;null!==I&&ws(a,I,0,null),ia(a,0)}if(function LC(o){for(let a=Tf(o);null!==a;a=sl(a)){if(!a[Cl])continue;const u=a[ea];for(let d=0;d<u.length;d++){const h=u[d];512&h[Ut]||Ga(h[wn],1),h[Ut]|=512}}}(a),function FC(o){for(let a=Tf(o);null!==a;a=sl(a))for(let u=vr;u<a.length;u++){const d=a[u],h=d[ot];Eo(d)&&nv(h,d,h.template,d[Mn])}}(a),null!==o.contentQueries&&Mw(o,a),v){const I=o.contentCheckHooks;null!==I&&zu(a,I)}else{const I=o.contentHooks;null!==I&&ws(a,I,1),ia(a,1)}!function _C(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)Ks(~h);else{const g=h,v=u[++d],E=u[++d];ju(v,g),E(2,a[g])}}}finally{Ks(-1)}}(o,a);const E=o.components;null!==E&&function yC(o,a){for(let u=0;u<a.length;u++)UC(o,a[u])}(a,E);const T=o.viewQuery;if(null!==T&&hv(2,T,d),v){const I=o.viewCheckHooks;null!==I&&zu(a,I)}else{const I=o.viewHooks;null!==I&&ws(a,I,2),ia(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Ut]&=-41,512&a[Ut]&&(a[Ut]&=-513,Ga(a[wn],-1))}finally{tf()}}}function rv(o,a,u,d,h){const g=Jr(),v=2&d;try{Ks(-1),v&&a.length>Kt&&Hf(o,a,Kt,!1),on(v?2:0,h),u(d,h)}finally{Ks(g),on(v?3:1,h)}}function vm(o,a,u){if(ys(a)){const h=a.directiveEnd;for(let g=a.directiveStart;g<h;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,u[g],g)}}}function iv(o,a,u){ld()&&(function IC(o,a,u,d){const h=u.directiveStart,g=u.directiveEnd;Sl(u)&&function xC(o,a,u){const d=Ur(a,o),h=qf(u),g=o[Fa],v=wm(o,ym(o,h,null,u.onPush?32:16,d,a,g,g.createRenderer(d,u),null,null,null));o[a.index]=v}(a,u,o.data[h+u.componentOffset]),o.firstCreatePass||Ss(u,a),yi(d,a);const v=u.initialInputs;for(let E=h;E<g;E++){const T=o.data[E],I=Qs(a,o,E,u);yi(I,a),null!==v&&PC(0,E-h,I,T,0,v),Lr(T)&&(br(u.index,a)[Mn]=Qs(a,o,E,u))}}(o,a,u,Ur(u,a)),64==(64&u.flags)&&Lw(o,a,u))}function Rw(o,a,u=Ur){const d=a.localNames;if(null!==d){let h=a.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],E=-1===v?u(a,o):o[v];o[h++]=E}}}function qf(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=sv(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function sv(o,a,u,d,h,g,v,E,T,I){const O=Kt+d,L=O+h,J=function bC(o,a){const u=[];for(let d=0;d<a;d++)u.push(d<o?null:Ot);return u}(O,L),re="function"==typeof I?I():I;return J[ot]={type:o,blueprint:J,template:u,queries:null,viewQuery:E,declTNode:a,data:J.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:re,incompleteFirstPass:!1}}function xw(o,a,u,d){const h=Bw(a);null===u?h.push(d):(h.push(u),o.firstCreatePass&&Vw(o).push(d,h.length-1))}function Pw(o,a,u,d){for(let h in o)if(o.hasOwnProperty(h)){u=null===u?{}:u;const g=o[h];null===d?ov(u,a,h,g):d.hasOwnProperty(h)&&ov(u,a,d[h],g)}return u}function ov(o,a,u,d){o.hasOwnProperty(u)?o[u].push(a,d):o[u]=[a,d]}function Us(o,a,u,d,h,g,v,E){const T=Ur(a,u);let O,I=a.inputs;!E&&null!=I&&(O=I[d])?(fv(o,u,O,d,h),Sl(a)&&kw(u,a.index)):3&a.type&&(d=function TC(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=v?v(h,a.value||"",d):h,g.setProperty(T,d,h))}function kw(o,a){const u=br(a,o);16&u[Ut]||(u[Ut]|=32)}function av(o,a,u,d){if(ld()){const h=null===d?null:{"":-1},g=function NC(o,a){const u=o.directiveRegistry;let d=null,h=null;if(u)for(let g=0;g<u.length;g++){const v=u[g];if(bw(a,v.selectors,!1))if(d||(d=[]),Lr(v))if(null!==v.findHostDirectiveDefs){const E=[];h=h||new Map,v.findHostDirectiveDefs(v,E,h),d.unshift(...E,v),lv(o,a,E.length)}else d.unshift(v),lv(o,a,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,d,h),d.push(v)}return null===d?null:[d,h]}(o,u);let v,E;null===g?v=E=null:[v,E]=g,null!==v&&Fw(o,a,u,v,h,E),h&&function MC(o,a,u){if(a){const d=o.localNames=[];for(let h=0;h<a.length;h+=2){const g=u[a[h+1]];if(null==g)throw new ge(-301,!1);d.push(a[h],g)}}}(u,d,h)}u.mergedAttrs=Ts(u.mergedAttrs,u.attrs)}function Fw(o,a,u,d,h,g){for(let I=0;I<d.length;I++)Ja(Ss(u,a),o,d[I].type);!function RC(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}(u,o.data.length,d.length);for(let I=0;I<d.length;I++){const O=d[I];O.providersResolver&&O.providersResolver(O)}let v=!1,E=!1,T=Zf(o,a,d.length,null);for(let I=0;I<d.length;I++){const O=d[I];u.mergedAttrs=Ts(u.mergedAttrs,O.hostAttrs),bm(o,u,a,T,O),OC(T,O,h),null!==O.contentQueries&&(u.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(u.flags|=64);const L=O.type.prototype;!v&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),v=!0),!E&&(L.ngOnChanges||L.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),E=!0),T++}!function DC(o,a,u){const h=a.directiveEnd,g=o.data,v=a.attrs,E=[];let T=null,I=null;for(let O=a.directiveStart;O<h;O++){const L=g[O],J=u?u.get(L):null,ye=J?J.outputs:null;T=Pw(L.inputs,O,T,J?J.inputs:null),I=Pw(L.outputs,O,I,ye);const Ve=null===T||null===v||vw(a)?null:kC(T,O,v);E.push(Ve)}null!==T&&(T.hasOwnProperty("class")&&(a.flags|=8),T.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=E,a.inputs=T,a.outputs=I}(o,u,g)}function Lw(o,a,u){const d=u.directiveStart,h=u.directiveEnd,g=u.index,v=function ef(){return Pt.lFrame.currentDirectiveIndex}();try{Ks(g);for(let E=d;E<h;E++){const T=o.data[E],I=a[E];bs(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&AC(T,I)}}finally{Ks(-1),bs(v)}}function AC(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function lv(o,a,u){a.componentOffset=u,(o.components||(o.components=[])).push(a.index)}function OC(o,a,u){if(u){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)u[a.exportAs[d]]=o;Lr(a)&&(u[""]=o)}}function bm(o,a,u,d,h){o.data[d]=h;const g=h.factory||(h.factory=gi(h.type)),v=new Ar(g,Lr(h),Yd);o.blueprint[d]=v,u[d]=v,function CC(o,a,u,d,h){const g=h.hostBindings;if(g){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const E=~a.index;(function SC(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(v)!=E&&v.push(E),v.push(u,d,g)}}(o,a,d,Zf(o,u,h.hostVars,Ot),h)}function uv(o,a,u,d,h,g,v){if(null==g)o.removeAttribute(a,h,u);else{const E=null==v?Ce(g):v(g,d||"",h);o.setAttribute(a,h,E,u)}}function PC(o,a,u,d,h,g){const v=g[a];if(null!==v){const E=d.setInput;for(let T=0;T<v.length;){const I=v[T++],O=v[T++],L=v[T++];null!==E?d.setInput(u,L,I,O):u[O]=L}}}function kC(o,a,u){let d=null,h=0;for(;h<u.length;){const g=u[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===d&&(d=[]);const v=o[g];for(let E=0;E<v.length;E+=2)if(v[E]===a){d.push(g,v[E+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function Uw(o,a,u,d){return[o,!0,!1,a,null,0,d,u,null,null]}function UC(o,a){const u=br(a,o);if(Eo(u)){const d=u[ot];48&u[Ut]?nv(d,u,d.template,u[Mn]):u[Xi]>0&&cv(u)}}function cv(o){for(let d=Tf(o);null!==d;d=sl(d))for(let h=vr;h<d.length;h++){const g=d[h];if(Eo(g))if(512&g[Ut]){const v=g[ot];nv(v,g,v.template,g[Mn])}else g[Xi]>0&&cv(g)}const u=o[ot].components;if(null!==u)for(let d=0;d<u.length;d++){const h=br(u[d],o);Eo(h)&&h[Xi]>0&&cv(h)}}function BC(o,a){const u=br(a,o),d=u[ot];(function VC(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(d,u),Ow(d,u,u[Mn])}function wm(o,a){return o[Qo]?o[mo][hi]=a:o[Qo]=a,o[mo]=a,a}function dv(o){for(;o;){o[Ut]|=32;const a=il(o);if(td(o)&&!a)return o;o=a}return null}function Em(o,a,u,d=!0){const h=a[Fa];h.begin&&h.begin();try{nv(o,a,o.template,u)}catch(v){throw d&&Hw(a,v),v}finally{h.end&&h.end()}}function hv(o,a,u){Vl(0),a(o,u)}function Bw(o){return o[go]||(o[go]=[])}function Vw(o){return o.cleanup||(o.cleanup=[])}function Hw(o,a){const u=o[Bn],d=u?u.get(Vf,null):null;d&&d.handleError(a)}function fv(o,a,u,d,h){for(let g=0;g<u.length;){const v=u[g++],E=u[g++],T=a[v],I=o.data[v];null!==I.setInput?I.setInput(T,h,d,E):T[E]=h}}function Dm(o,a,u){let d=u?o.styles:null,h=u?o.classes:null,g=0;if(null!==a)for(let v=0;v<a.length;v++){const E=a[v];"number"==typeof E?g=E:1==g?h=de(h,E):2==g&&(d=de(d,E+": "+a[++v]+";"))}u?o.styles=d:o.stylesWithoutHost=d,u?o.classes=h:o.classesWithoutHost=h}function Tm(o,a,u,d,h=!1){for(;null!==u;){const g=a[u.index];if(null!==g&&d.push(Pn(g)),pi(g))for(let E=vr;E<g.length;E++){const T=g[E],I=T[ot].firstChild;null!==I&&Tm(T[ot],T,I,d)}const v=u.type;if(8&v)Tm(o,a,u.child,d);else if(32&v){const E=no(u,a);let T;for(;T=E();)d.push(T)}else if(16&v){const E=Fd(a,u);if(Array.isArray(E))d.push(...E);else{const T=il(a[yr]);Tm(T[ot],T,E,d,!0)}}u=h?u.projectionNext:u.next}return d}class Wf{get rootNodes(){const a=this._lView,u=a[ot];return Tm(u,a,u.firstChild,[])}constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mn]}set context(a){this._lView[Mn]=a}get destroyed(){return 128==(128&this._lView[Ut])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[wn];if(pi(a)){const u=a[Ti],d=u?u.indexOf(this):-1;d>-1&&(Jl(a,d),nl(u,d))}this._attachedToViewContainer=!1}jg(this._lView[ot],this._lView)}onDestroy(a){xw(this._lView[ot],this._lView,null,a)}markForCheck(){dv(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ut]&=-65}reattach(){this._lView[Ut]|=64}detectChanges(){Em(this._lView[ot],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function al(o,a){Xl(o,a,a[Gt],2,null,null)}(this._lView[ot],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=a}}class jC extends Wf{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Em(a[ot],a,a[Mn],!1)}checkNoChanges(){}get context(){return null}}class Gw extends ar{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=tn(a);return new Yf(u,this.ngModule)}}function $w(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}class GC{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,d){d=Ie(d);const h=this.injector.get(a,cm,d);return h!==cm||u===cm?h:this.parentInjector.get(a,u,d)}}class Yf extends Gy{get inputs(){return $w(this.componentDef.inputs)}get outputs(){return $w(this.componentDef.outputs)}constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function ro(o){return o.map(Dc).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}create(a,u,d,h){let g=(h=h||this.ngModule)instanceof ru?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new GC(a,g):a,E=v.get(Bf,null);if(null===E)throw new ge(407,!1);const T=v.get(ei,null),I=E.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",L=d?function wC(o,a,u){return o.selectRootElement(a,u===mr.ShadowDom)}(I,d,this.componentDef.encapsulation):Bg(I,O,function HC(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(O)),J=this.componentDef.onPush?288:272,re=sv(0,null,null,1,0,null,null,null,null,null),ye=ym(null,re,null,J,null,null,E,I,T,v,null);let Ve,nt;hd(ye);try{const ht=this.componentDef;let Nt,Oe=null;ht.findHostDirectiveDefs?(Nt=[],Oe=new Map,ht.findHostDirectiveDefs(ht,Nt,Oe),Nt.push(ht)):Nt=[ht];const jt=function zC(o,a){const u=o[ot],d=Kt;return o[d]=a,Kd(u,d,2,"#host",null)}(ye,L),Hn=function ZC(o,a,u,d,h,g,v,E){const T=h[ot];!function qC(o,a,u,d){for(const h of o)a.mergedAttrs=Ts(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(Dm(a,a.mergedAttrs,!0),null!==u&&Si(d,u,a))}(d,o,a,v);const I=g.createRenderer(a,u),O=ym(h,qf(u),null,u.onPush?32:16,h[o.index],o,g,I,E||null,null,null);return T.firstCreatePass&&lv(T,o,d.length-1),wm(h,O),h[o.index]=O}(jt,L,ht,Nt,ye,E,I);nt=Ru(re,Kt),L&&function YC(o,a,u,d){if(d)oa(o,u,["ng-version",gw.full]);else{const{attrs:h,classes:g}=function qy(o){const a=[],u=[];let d=1,h=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===h?""!==g&&a.push(g,o[++d]):8===h&&u.push(g);else{if(!Bo(h))break;h=g}d++}return{attrs:a,classes:u}}(a.selectors[0]);h&&oa(o,u,h),g&&g.length>0&&qg(o,u,g.join(" "))}}(I,ht,L,d),void 0!==u&&function KC(o,a,u){const d=o.projection=[];for(let h=0;h<a.length;h++){const g=u[h];d.push(null!=g?Array.from(g):null)}}(nt,this.ngContentSelectors,u),Ve=function WC(o,a,u,d,h,g){const v=$n(),E=h[ot],T=Ur(v,h);Fw(E,h,v,u,null,d);for(let O=0;O<u.length;O++)yi(Qs(h,E,v.directiveStart+O,v),h);Lw(E,h,v),T&&yi(T,h);const I=Qs(h,E,v.directiveStart+v.componentOffset,v);if(o[Mn]=h[Mn]=I,null!==g)for(const O of g)O(I,a);return vm(E,v,o),I}(Hn,ht,Nt,Oe,ye,[JC]),Ow(re,ye,null)}finally{tf()}return new $C(this.componentType,Ve,Sn(nt,ye),ye,nt)}}class $C extends am{constructor(a,u,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new jC(h),this.componentType=a}setInput(a,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){const g=this._rootLView;fv(g[ot],g,h,a,u),kw(g,this._tNode.index)}}get injector(){return new el(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function JC(){const o=$n();To(Me()[ot],o)}function pv(o){let a=function zw(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const d=[o];for(;a;){let h;if(Lr(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ge(903,!1);h=a.\u0275dir}if(h){if(u){d.push(h);const v=o;v.inputs=gv(o.inputs),v.declaredInputs=gv(o.declaredInputs),v.outputs=gv(o.outputs);const E=h.hostBindings;E&&tS(o,E);const T=h.viewQuery,I=h.contentQueries;if(T&&XC(o,T),I&&eS(o,I),pe(o.inputs,h.inputs),pe(o.declaredInputs,h.declaredInputs),pe(o.outputs,h.outputs),Lr(h)&&h.data.animation){const O=o.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(o),E===pv&&(u=!1)}}a=Object.getPrototypeOf(a)}!function QC(o){let a=0,u=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=a+=h.hostVars,h.hostAttrs=Ts(h.hostAttrs,u=Ts(u,h.hostAttrs))}}(d)}function gv(o){return o===di?{}:o===Yt?[]:o}function XC(o,a){const u=o.viewQuery;o.viewQuery=u?(d,h)=>{a(d,h),u(d,h)}:a}function eS(o,a){const u=o.contentQueries;o.contentQueries=u?(d,h,g)=>{a(d,h,g),u(d,h,g)}:a}function tS(o,a){const u=o.hostBindings;o.hostBindings=u?(d,h)=>{a(d,h),u(d,h)}:a}function Cm(o){return!!_v(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function _v(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function wa(o,a,u){return o[a]=u}function Ii(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function Ic(o,a,u,d){const h=Ii(o,a,u);return Ii(o,a+1,d)||h}function vv(o,a,u,d){const h=Me();return Ii(h,Do(),a)&&(Jt(),function ba(o,a,u,d,h,g){const v=Ur(o,a);uv(a[Gt],v,g,o.value,u,d,h)}(hn(),h,o,a,u,d)),vv}function Qd(o,a,u,d){return Ii(o,Do(),u)?a+Ce(u)+d:Ot}function dS(o,a,u,d,h,g,v,E){const T=Me(),I=Jt(),O=o+Kt,L=I.firstCreatePass?function cS(o,a,u,d,h,g,v,E,T){const I=a.consts,O=Kd(a,o,4,v||null,Vi(I,E));av(a,u,O,Vi(I,T)),To(a,O);const L=O.tView=sv(2,O,d,h,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,I);return null!==a.queries&&(a.queries.template(a,O),L.queries=a.queries.embeddedTView(O)),O}(O,I,T,a,u,d,h,g,v):I.data[O];ji(L,!1);const J=T[Gt].createComment("");pc(I,T,J,L),yi(J,T),wm(T,T[O]=Uw(J,T,J,L)),yo(L)&&iv(I,T,L),null!=v&&Rw(T,L,E)}function iE(o){return ns(function Ul(){return Pt.lFrame.contextLView}(),Kt+o)}function sE(o,a,u){const d=Me();return Ii(d,Do(),a)&&Us(Jt(),hn(),d,o,a,d[Gt],u,!1),sE}function Hr(o,a,u,d,h){const v=h?"class":"style";fv(o,u,a.inputs[v],v,d)}function Ac(o,a,u,d){const h=Me(),g=Jt(),v=Kt+o,E=h[Gt],T=g.firstCreatePass?function oE(o,a,u,d,h,g){const v=a.consts,T=Kd(a,o,2,d,Vi(v,h));return av(a,u,T,Vi(v,g)),null!==T.attrs&&Dm(T,T.attrs,!1),null!==T.mergedAttrs&&Dm(T,T.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,T),T}(v,g,h,a,u,d):g.data[v],I=h[v]=Bg(E,a,function Tg(){return Pt.lFrame.currentNamespace}()),O=yo(T);return ji(T,!0),Si(E,I,T),32!=(32&T.flags)&&pc(g,h,I,T),0===function ku(){return Pt.lFrame.elementDepthCount}()&&yi(I,h),function Fu(){Pt.lFrame.elementDepthCount++}(),O&&(iv(g,h,T),vm(g,T,h)),null!==d&&Rw(h,T),Ac}function su(){let o=$n();Fl()?Ll():(o=o.parent,ji(o,!1));const a=o;!function Lu(){Pt.lFrame.elementDepthCount--}();const u=Jt();return u.firstCreatePass&&(To(u,o),ys(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function af(o){return 0!=(8&o.flags)}(a)&&Hr(u,a,Me(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Js(o){return 0!=(16&o.flags)}(a)&&Hr(u,a,Me(),a.stylesWithoutHost,!1),su}function Zn(o,a,u,d){return Ac(o,a,u,d),su(),Zn}function Ea(o,a,u){const d=Me(),h=Jt(),g=o+Kt,v=h.firstCreatePass?function er(o,a,u,d,h){const g=a.consts,v=Vi(g,d),E=Kd(a,o,8,"ng-container",v);return null!==v&&Dm(E,v,!0),av(a,u,E,Vi(g,h)),null!==a.queries&&a.queries.elementStart(a,E),E}(g,h,d,a,u):h.data[g];ji(v,!0);const E=d[g]=d[Gt].createComment("");return pc(h,d,E,v),yi(E,d),yo(v)&&(iv(h,d,v),vm(h,v,d)),null!=u&&Rw(d,v),Ea}function Jf(){let o=$n();const a=Jt();return Fl()?Ll():(o=o.parent,ji(o,!1)),a.firstCreatePass&&(To(a,o),ys(o)&&a.queries.elementEnd(o)),Jf}function aE(){return Me()}function Sm(o){return!!o&&"function"==typeof o.then}function lE(o){return!!o&&"function"==typeof o.subscribe}const Mc=lE;function bv(o,a,u,d){const h=Me(),g=Jt(),v=$n();return function Ev(o,a,u,d,h,g,v){const E=yo(d),I=o.firstCreatePass&&Vw(o),O=a[Mn],L=Bw(a);let J=!0;if(3&d.type||v){const Ve=Ur(d,a),nt=v?v(Ve):Ve,ht=L.length,Nt=v?jt=>v(Pn(jt[d.index])):d.index;let Oe=null;if(!v&&E&&(Oe=function fS(o,a,u,d){const h=o.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===u&&h[g+1]===d){const E=a[go],T=h[g+2];return E.length>T?E[T]:null}"string"==typeof v&&(g+=2)}return null}(o,a,h,d.index)),null!==Oe)(Oe.__ngLastListenerFn__||Oe).__ngNextListenerFn__=g,Oe.__ngLastListenerFn__=g,J=!1;else{g=cE(d,a,O,g,!1);const jt=u.listen(nt,h,g);L.push(g,jt),I&&I.push(h,Nt,ht,ht+1)}}else g=cE(d,a,O,g,!1);const re=d.outputs;let ye;if(J&&null!==re&&(ye=re[h])){const Ve=ye.length;if(Ve)for(let nt=0;nt<Ve;nt+=2){const Hn=a[ye[nt]][ye[nt+1]].subscribe(g),tr=L.length;L.push(g,Hn),I&&I.push(h,d.index,tr,-(tr+1))}}}(g,h,h[Gt],v,o,a,d),bv}function uE(o,a,u,d){try{return on(6,a,u),!1!==u(d)}catch(h){return Hw(o,h),!1}finally{on(7,a,u)}}function cE(o,a,u,d,h){return function g(v){if(v===Function)return d;dv(o.componentOffset>-1?br(o.index,a):a);let T=uE(a,u,d,v),I=g.__ngNextListenerFn__;for(;I;)T=uE(a,u,I,v)&&T,I=I.__ngNextListenerFn__;return h&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function oh(o=1){return function pd(o){return(Pt.lFrame.contextLView=function Eg(o,a){for(;o>0;)a=a[La],o--;return a}(o,Pt.lFrame.contextLView))[Mn]}(o)}function ni(o,a){let u=null;const d=function iC(o){const a=o.attrs;if(null!=a){const u=a.indexOf(5);if(!(1&u))return a[u+1]}return null}(o);for(let h=0;h<a.length;h++){const g=a[h];if("*"!==g){if(null===d?bw(o,g,!0):aC(d,g))return h}else u=h}return u}function dE(o){const a=Me()[yr][ln];if(!a.projection){const d=a.projection=Xs(o?o.length:1,null),h=d.slice();let g=a.child;for(;null!==g;){const v=o?ni(g,o):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function hE(o,a=0,u){const d=Me(),h=Jt(),g=Kd(h,Kt+o,16,null,u||null);null===g.projection&&(g.projection=a),Ll(),32!=(32&g.flags)&&function ls(o,a,u){zg(a[Gt],0,a,u,Sf(o,u,a),Ry(u.parent||a[ln],u,a))}(h,d,g)}function Im(o,a,u){return fl(o,"",a,"",u),Im}function fl(o,a,u,d,h){const g=Me(),v=Qd(g,a,u,d);return v!==Ot&&Us(Jt(),hn(),g,o,v,g[Gt],h,!1),fl}function ah(o,a){return o<<17|a<<2}function Oc(o){return o>>17&32767}function Sv(o){return 2|o}function Rc(o){return(131068&o)>>2}function Iv(o,a){return-131069&o|a<<2}function Mm(o){return 1|o}function mE(o,a,u,d,h){const g=o[u+1],v=null===a;let E=d?Oc(g):Rc(g),T=!1;for(;0!==E&&(!1===T||v);){const O=o[E+1];yS(o[E],a)&&(T=!0,o[E+1]=d?Mm(O):Sv(O)),E=d?Oc(O):Rc(O)}T&&(o[u+1]=d?Sv(g):Mm(g))}function yS(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Hi(o,a)>=0}const Gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _E(o){return o.substring(Gr.key,Gr.keyEnd)}function bS(o,a){const u=Gr.textEnd;return u===a?-1:(a=Gr.keyEnd=function vE(o,a,u){for(;a<u&&o.charCodeAt(a)>32;)a++;return a}(o,Gr.key=a,u),jo(o,a,u))}function jo(o,a,u){for(;a<u&&o.charCodeAt(a)<=32;)a++;return a}function Nv(o,a,u){return so(o,a,u,!1),Nv}function Mv(o,a){return so(o,a,null,!0),Mv}function wE(o){cs($t,Ta,o,!0)}function Ta(o,a){for(let u=function vS(o){return function Or(o){Gr.key=0,Gr.keyEnd=0,Gr.value=0,Gr.valueEnd=0,Gr.textEnd=o.length}(o),bS(o,jo(o,0,Gr.textEnd))}(a);u>=0;u=bS(a,u))$t(o,_E(a),!0)}function so(o,a,u,d){const h=Me(),g=Jt(),v=rs(2);g.firstUpdatePass&&Qf(g,o,v,d),a!==Ot&&Ii(h,v,a)&&nn(g,g.data[Jr()],h,h[Gt],o,h[v+1]=function AS(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=he(Ue(o)))),o}(a,u),d,v)}function cs(o,a,u,d){const h=Jt(),g=rs(2);h.firstUpdatePass&&Qf(h,null,g,d);const v=Me();if(u!==Ot&&Ii(v,g,u)){const E=h.data[Jr()];if(Pm(E,d)&&!EE(h,g)){let T=d?E.classesWithoutHost:E.stylesWithoutHost;null!==T&&(u=de(T,u||"")),Hr(h,E,v,u,d)}else!function IS(o,a,u,d,h,g,v,E){h===Ot&&(h=Yt);let T=0,I=0,O=0<h.length?h[0]:null,L=0<g.length?g[0]:null;for(;null!==O||null!==L;){const J=T<h.length?h[T+1]:void 0,re=I<g.length?g[I+1]:void 0;let Ve,ye=null;O===L?(T+=2,I+=2,J!==re&&(ye=L,Ve=re)):null===L||null!==O&&O<L?(T+=2,ye=O):(I+=2,ye=L,Ve=re),null!==ye&&nn(o,a,u,d,ye,Ve,v,E),O=T<h.length?h[T]:null,L=I<g.length?g[I]:null}}(h,E,v,v[Gt],v[g+1],v[g+1]=function SS(o,a,u){if(null==u||""===u)return Yt;const d=[],h=Ue(u);if(Array.isArray(h))for(let g=0;g<h.length;g++)o(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&o(d,g,h[g]);else"string"==typeof h&&a(d,h);return d}(o,a,u),d,g)}}function EE(o,a){return a>=o.expandoStartIndex}function Qf(o,a,u,d){const h=o.data;if(null===h[u+1]){const g=h[Jr()],v=EE(o,u);Pm(g,d)&&null===a&&!v&&(a=!1),a=function DS(o,a,u,d){const h=Hu(o);let g=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(u=Ca(u=Xf(null,o,a,u,d),a.attrs,d),g=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==h)if(u=Xf(h,o,a,u,d),null===g){let T=function TS(o,a,u){const d=u?a.classBindings:a.styleBindings;if(0!==Rc(d))return o[Oc(d)]}(o,a,d);void 0!==T&&Array.isArray(T)&&(T=Xf(null,o,a,T[1],d),T=Ca(T,a.attrs,d),function Pc(o,a,u,d){o[Oc(u?a.classBindings:a.styleBindings)]=d}(o,a,d,T))}else g=function CS(o,a,u){let d;const h=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<h;g++)d=Ca(d,o[g].hostAttrs,u);return Ca(d,a.attrs,u)}(o,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),u}(h,g,a,d),function mS(o,a,u,d,h,g){let v=g?a.classBindings:a.styleBindings,E=Oc(v),T=Rc(v);o[d]=u;let O,I=!1;if(Array.isArray(u)?(O=u[1],(null===O||Hi(u,O)>0)&&(I=!0)):O=u,h)if(0!==T){const J=Oc(o[E+1]);o[d+1]=ah(J,E),0!==J&&(o[J+1]=Iv(o[J+1],d)),o[E+1]=function gS(o,a){return 131071&o|a<<17}(o[E+1],d)}else o[d+1]=ah(E,0),0!==E&&(o[E+1]=Iv(o[E+1],d)),E=d;else o[d+1]=ah(T,0),0===E?E=d:o[T+1]=Iv(o[T+1],d),T=d;I&&(o[d+1]=Sv(o[d+1])),mE(o,O,d,!0),mE(o,O,d,!1),function _S(o,a,u,d,h){const g=h?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&Hi(g,a)>=0&&(u[d+1]=Mm(u[d+1]))}(a,O,o,d,g),v=ah(E,T),g?a.classBindings=v:a.styleBindings=v}(h,g,a,u,v,d)}}function Xf(o,a,u,d,h){let g=null;const v=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<v&&(g=a[E],d=Ca(d,g.hostAttrs,h),g!==o);)E++;return null!==o&&(u.directiveStylingLast=E),d}function Ca(o,a,u){const d=u?1:2;let h=-1;if(null!==a)for(let g=0;g<a.length;g++){const v=a[g];"number"==typeof v?h=v:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),$t(o,v,!!u||a[++g]))}return void 0===o?null:o}function nn(o,a,u,d,h,g,v,E){if(!(3&a.type))return;const T=o.data,I=T[E+1],O=function ou(o){return 1==(1&o)}(I)?TE(T,a,u,h,Rc(I),v):void 0;lh(O)||(lh(g)||function pS(o){return 2==(2&o)}(I)&&(g=TE(T,null,u,h,E,v)),function Zg(o,a,u,d,h){if(a)h?o.addClass(u,d):o.removeClass(u,d);else{let g=-1===d.indexOf("-")?void 0:Ps.DashCase;null==h?o.removeStyle(u,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Ps.Important),o.setStyle(u,d,h,g))}}(d,v,ts(Jr(),u),h,g))}function TE(o,a,u,d,h,g){const v=null===a;let E;for(;h>0;){const T=o[h],I=Array.isArray(T),O=I?T[1]:T,L=null===O;let J=u[h+1];J===Ot&&(J=L?Yt:void 0);let re=L?On(J,d):O===d?J:void 0;if(I&&!lh(re)&&(re=On(T,d)),lh(re)&&(E=re,v))return E;const ye=o[h+1];h=v?Oc(ye):Rc(ye)}if(null!==a){let T=g?a.residualClasses:a.residualStyles;null!=T&&(E=On(T,d))}return E}function lh(o){return void 0!==o}function Pm(o,a){return 0!=(o.flags&(a?8:16))}function CE(o,a=""){const u=Me(),d=Jt(),h=o+Kt,g=d.firstCreatePass?Kd(d,h,1,a,null):d.data[h],v=u[h]=Yl(u[Gt],a);pc(d,u,v,g),ji(g,!1)}function km(o){return uh("",o,""),km}function uh(o,a,u){const d=Me(),h=Qd(d,o,a,u);return h!==Ot&&function hl(o,a,u){const d=ts(a,o);ga(o[Gt],d,u)}(d,Jr(),h),uh}function NE(o,a,u,d,h){cs($t,Ta,function Xd(o,a,u,d,h,g){const E=Ic(o,Br(),u,h);return rs(2),E?a+Ce(u)+d+Ce(h)+g:Ot}(Me(),o,a,u,d,h),!0)}function UE(o,a,u){const d=Me();return Ii(d,Do(),a)&&Us(Jt(),hn(),d,o,a,d[Gt],u,!0),UE}function BE(o,a,u){const d=Me();if(Ii(d,Do(),a)){const g=Jt(),v=hn();Us(g,v,d,o,a,function jw(o,a,u){return(null===o||Lr(o))&&(u=function xl(o){for(;Array.isArray(o);){if("object"==typeof o[Au])return o;o=o[Di]}return null}(u[a.index])),u[Gt]}(Hu(g.data),v,d),u,!0)}return BE}const ch=void 0;var TR=["en",[["a","p"],["AM","PM"],ch],[["AM","PM"],ch,ch],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ch,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ch,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ch,"{1} 'at' {0}",ch],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DR(o){const u=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let np={};function VE(o){const a=function jE(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=qS(a);if(u)return u;const d=a.split("-")[0];if(u=qS(d),u)return u;if("en"===d)return TR;throw new ge(701,!1)}function ZS(o){return VE(o)[Rt.PluralCase]}function qS(o){return o in np||(np[o]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[o]),np[o]}var Rt=(()=>((Rt=Rt||{})[Rt.LocaleId=0]="LocaleId",Rt[Rt.DayPeriodsFormat=1]="DayPeriodsFormat",Rt[Rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rt[Rt.DaysFormat=3]="DaysFormat",Rt[Rt.DaysStandalone=4]="DaysStandalone",Rt[Rt.MonthsFormat=5]="MonthsFormat",Rt[Rt.MonthsStandalone=6]="MonthsStandalone",Rt[Rt.Eras=7]="Eras",Rt[Rt.FirstDayOfWeek=8]="FirstDayOfWeek",Rt[Rt.WeekendRange=9]="WeekendRange",Rt[Rt.DateFormat=10]="DateFormat",Rt[Rt.TimeFormat=11]="TimeFormat",Rt[Rt.DateTimeFormat=12]="DateTimeFormat",Rt[Rt.NumberSymbols=13]="NumberSymbols",Rt[Rt.NumberFormats=14]="NumberFormats",Rt[Rt.CurrencyCode=15]="CurrencyCode",Rt[Rt.CurrencySymbol=16]="CurrencySymbol",Rt[Rt.CurrencyName=17]="CurrencyName",Rt[Rt.Currencies=18]="Currencies",Rt[Rt.Directionality=19]="Directionality",Rt[Rt.PluralCase=20]="PluralCase",Rt[Rt.ExtraData=21]="ExtraData",Rt))();const SR=["zero","one","two","few","many"],En="en-US",rp={marker:"element"},dh={marker:"ICU"};var ur=(()=>((ur=ur||{})[ur.SHIFT=2]="SHIFT",ur[ur.APPEND_EAGERLY=1]="APPEND_EAGERLY",ur[ur.COMMENT=2]="COMMENT",ur))();let Fm=En;function WS(o){(function Ke(o,a){null==o&&Ye(a,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(Fm=o.toLowerCase().replace(/_/g,"-"))}function sp(o,a,u){const d=a.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?Ql(o,0,u):Pn(u[h])}function Fv(o,a,u,d,h){const g=a.insertBeforeIndex;if(Array.isArray(g)){let v=d,E=null;if(3&a.type||(E=v,v=h),null!==v&&-1===a.componentOffset)for(let T=1;T<g.length;T++)ll(o,v,u[g[T]],E,!1)}}function HE(o,a){if(o.push(a),o.length>1)for(let u=o.length-2;u>=0;u--){const d=o[u];GE(d)||YS(d,a)&&null===KS(d)&&hh(d,a.index)}}function GE(o){return!(64&o.type)}function YS(o,a){return GE(a)||o.index>a.index}function KS(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function hh(o,a){const u=o.insertBeforeIndex;Array.isArray(u)?u[0]=a:(ya(sp,Fv),o.insertBeforeIndex=a)}function Go(o,a){const u=o.data[a];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function $E(o,a,u){const d=tv(o,u,64,null,null);return HE(a,d),d}function kc(o,a){const u=a[o.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function au(o){return o>>>17}function Lv(o){return(131070&o)>>>1}let Um=0,Bm=0;function QS(o,a,u,d){const h=u[Gt];let v,g=null;for(let E=0;E<a.length;E++){const T=a[E];if("string"==typeof T){const I=a[++E];null===u[I]&&(u[I]=Yl(h,T))}else if("number"==typeof T)switch(1&T){case 0:const I=au(T);let O,L;if(null===g&&(g=I,v=_a(h,d)),I===g?(O=d,L=v):(O=null,L=Pn(u[I])),null!==L){const Ve=Lv(T);ll(h,L,u[Ve],O,!1);const ht=Go(o,Ve);if(null!==ht&&"object"==typeof ht){const Nt=kc(ht,u);null!==Nt&&QS(o,ht.create[Nt],u,u[ht.anchorIdx])}}break;case 1:const re=a[++E],ye=a[++E];uv(h,ts(T>>>1,u),null,null,re,ye,null)}else switch(T){case dh:const I=a[++E],O=a[++E];null===u[O]&&yi(u[O]=Ug(h,I),u);break;case rp:const L=a[++E],J=a[++E];null===u[J]&&yi(u[J]=Bg(h,L,null),u)}}}function XS(o,a,u,d,h){for(let g=0;g<u.length;g++){const v=u[g],E=u[++g];if(v&h){let T="";for(let I=g+1;I<=g+E;I++){const O=u[I];if("string"==typeof O)T+=O;else if("number"==typeof O)if(O<0)T+=Ce(a[d-O]);else{const L=O>>>2;switch(3&O){case 1:const J=u[++I],re=u[++I],ye=o.data[L];"string"==typeof ye?uv(a[Gt],a[L],null,ye,J,T,re):Us(o,ye,a,J,T,a[Gt],re,!1);break;case 0:const Ve=a[L];null!==Ve&&ga(a[Gt],Ve,T);break;case 2:RR(o,Go(o,L),a,T);break;case 3:eI(o,Go(o,L),d,a)}}}}else{const T=u[g+1];if(T>0&&3==(3&T)){const O=Go(o,T>>>2);a[O.currentCaseLViewIndex]<0&&eI(o,O,d,a)}}g+=E}}function eI(o,a,u,d){let h=d[a.currentCaseLViewIndex];if(null!==h){let g=Um;h<0&&(h=d[a.currentCaseLViewIndex]=~h,g=-1),XS(o,d,a.update[h],u,g)}}function RR(o,a,u,d){const h=function xR(o,a){let u=o.cases.indexOf(a);if(-1===u)switch(o.type){case 1:{const d=function Ho(o,a){const u=ZS(a)(parseInt(o,10)),d=SR[u];return void 0!==d?d:"other"}(a,function ip(){return Fm}());u=o.cases.indexOf(d),-1===u&&"other"!==d&&(u=o.cases.indexOf("other"));break}case 0:u=o.cases.indexOf("other")}return-1===u?null:u}(a,d);if(kc(a,u)!==h&&(tI(o,a,u),u[a.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=u[a.anchorIdx];v&&QS(o,a.create[h],u,v)}}function tI(o,a,u){let d=kc(a,u);if(null!==d){const h=a.remove[d];for(let g=0;g<h.length;g++){const v=h[g];if(v>0){const E=ts(v,u);null!==E&&gc(u[Gt],E)}else tI(o,Go(o,~v),u)}}}function PR(){const o=[];let u,d,a=-1;function g(E,T){a=0;const I=kc(E,T);d=null!==I?E.remove[I]:Yt}function v(){if(a<d.length){const E=d[a++];return E>0?u[E]:(o.push(a,d),g(u[ot].data[~E],u),v())}return 0===o.length?null:(d=o.pop(),a=o.pop(),v())}return function h(E,T){for(u=T;o.length;)o.pop();return g(E.value,T),v}}const ap=/\ufffd(\d+):?\d*\ufffd/gi,Vm=/\ufffd(\d+)\ufffd/,ZE=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,lu="\ufffd",LR=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,nI=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Fc=/\uE500/g;function WE(o,a,u,d,h,g,v){const E=Zf(o,d,1,null);let T=E<<ur.SHIFT,I=Ys();a===I&&(I=null),null===I&&(T|=ur.APPEND_EAGERLY),v&&(T|=ur.COMMENT,function uc(o){void 0===Wl&&(Wl=o())}(PR)),h.push(T,null===g?"":g);const O=tv(o,E,v?32:1,null===g?"":g,null);HE(u,O);const L=O.index;return ji(O,!1),null!==I&&a!==I&&function Lm(o,a){let u=o.insertBeforeIndex;null===u?(ya(sp,Fv),u=o.insertBeforeIndex=[null,a]):(function Ge(o,a,u){o!=a&&Ye(u,o,a,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(a))}(I,L),O}function lp(o,a,u,d,h,g,v){const E=v.match(ap),T=WE(o,a,u,g,d,E?null:v,!1);E&&up(h,v,T.index,null,0,null)}function up(o,a,u,d,h,g){const v=o.length,E=v+1;o.push(null,null);const T=v+2,I=a.split(ap);let O=0;for(let L=0;L<I.length;L++){const J=I[L];if(1&L){const re=h+parseInt(J,10);o.push(-1-re),O|=YE(re)}else""!==J&&o.push(J)}return o.push(u<<2|(d?1:0)),d&&o.push(d,g),o[v]=O,o[E]=o.length-T,O}function YE(o){return 1<<Math.min(o,31)}function KE(o){let a,g,u="",d=0,h=!1;for(;null!==(a=LR.exec(o));)h?a[0]===`${lu}/*${g}${lu}`&&(d=a.index,h=!1):(u+=o.substring(d,a.index+a[0].length),g=a[1],h=!0);return u+=o.slice(d),u}function Bv(o,a,u,d,h,g){let v=0;const E={type:h.type,currentCaseLViewIndex:Zf(o,a,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function uI(o,a,u){o.push(YE(a.mainBinding),2,-1-a.mainBinding,u<<2|2)})(u,h,g),function op(o,a,u){const d=o.data[a];null===d?o.data[a]=u:d.value=u}(o,g,E);const T=h.values;for(let I=0;I<T.length;I++){const O=T[I],L=[];for(let J=0;J<O.length;J++){const re=O[J];if("string"!=typeof re){const ye=L.push(re)-1;O[J]=`\x3c!--\ufffd${ye}\ufffd--\x3e`}}v=jm(o,E,a,u,d,h.cases[I],O.join(""),L)|v}v&&function Vv(o,a,u){o.push(a,1,u<<2|3)}(u,v,g)}function aI(o){const a=[],u=[];let d=1,h=0;const g=cp(o=o.replace(ZE,function(v,E,T){return d="select"===T?0:1,h=parseInt(E.slice(1),10),""}));for(let v=0;v<g.length;){let E=g[v++].trim();1===d&&(E=E.replace(/\s*(?:=)?(\w+)\s*/,"$1")),E.length&&a.push(E);const T=cp(g[v++]);a.length>u.length&&u.push(T)}return{type:d,mainBinding:h,cases:a,values:u}}function cp(o){if(!o)return[];let a=0;const u=[],d=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(o);){const E=g.index;if("}"==g[0]){if(u.pop(),0==u.length){const T=o.substring(a,E);ZE.test(T)?d.push(aI(T)):d.push(T),a=E+1}}else{if(0==u.length){const T=o.substring(a,E);d.push(T),a=E+1}u.push("{")}}const v=o.substring(a);return d.push(v),d}function jm(o,a,u,d,h,g,v,E){const T=[],I=[],O=[];a.cases.push(g),a.create.push(T),a.remove.push(I),a.update.push(O);const J=vc(Yg()).getInertBodyElement(v),re=nm(J)||J;return re?dp(o,a,u,d,T,I,O,re,h,E,0):0}function dp(o,a,u,d,h,g,v,E,T,I,O){let L=0,J=E.firstChild;for(;J;){const re=Zf(o,u,1,null);switch(J.nodeType){case Node.ELEMENT_NODE:const ye=J,Ve=ye.tagName.toLowerCase();if(em.hasOwnProperty(Ve)){hp(h,rp,Ve,T,re),o.data[re]=Ve;const Oe=ye.attributes;for(let jt=0;jt<Oe.length;jt++){const Hn=Oe.item(jt),tr=Hn.name.toLowerCase();Hn.value.match(ap)?Qb.hasOwnProperty(tr)&&up(v,Hn.value,re,Hn.name,0,Py[tr]?nu:null):VR(h,re,Hn)}L=dp(o,a,u,d,h,g,v,J,re,I,O+1)|L,Hm(g,re,O)}break;case Node.TEXT_NODE:const nt=J.textContent||"",ht=nt.match(ap);hp(h,null,ht?"":nt,T,re),Hm(g,re,O),ht&&(L=up(v,nt,re,null,0,null)|L);break;case Node.COMMENT_NODE:const Nt=Vm.exec(J.textContent||"");if(Nt){const jt=I[parseInt(Nt[1],10)];hp(h,dh,"",T,re),Bv(o,u,d,T,jt,re),lI(g,re,O)}}J=J.nextSibling}return L}function Hm(o,a,u){0===u&&o.push(a)}function lI(o,a,u){0===u&&(o.push(~a),o.push(a))}function hp(o,a,u,d,h){null!==a&&o.push(a),o.push(u,h,function AR(o,a,u){return o|a<<17|u<<1}(0,d,h))}function VR(o,a,u){o.push(a<<1|1,u.name,u.value)}function jv(o,a,u=-1){const d=Jt(),h=Me(),g=Kt+o,v=Vi(d.consts,a),E=Ys();d.firstCreatePass&&function qE(o,a,u,d,h,g){const v=Ys(),E=[],T=[],I=[[]];h=function oI(o,a){if(function sI(o){return-1===o}(a))return KE(o);{const u=o.indexOf(`:${a}${lu}`)+2+a.toString().length,d=o.search(new RegExp(`${lu}\\/\\*\\d+:${a}${lu}`));return KE(o.substring(u,d))}}(h,g);const O=function UR(o){return o.replace(Fc," ")}(h).split(nI);for(let L=0;L<O.length;L++){let J=O[L];if(1&L){const re=47===J.charCodeAt(0),Ve=(J.charCodeAt(re?1:0),Kt+Number.parseInt(J.substring(re?2:1)));if(re)I.shift(),ji(Ys(),!1);else{const nt=$E(o,I[0],Ve);I.unshift([]),ji(nt,!0)}}else{const re=cp(J);for(let ye=0;ye<re.length;ye++){let Ve=re[ye];if(1&ye){const nt=Ve;if("object"!=typeof nt)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Bv(o,u,T,a,nt,WE(o,v,I[0],u,E,"",!0).index)}else""!==Ve&&lp(o,v,I[0],E,T,u,Ve)}}}o.data[d]={create:E,update:T}}(d,null===E?0:E.index,h,g,v,u);const T=d.data[g],O=If(d,E===h[ln]?null:E,h);(function OR(o,a,u,d){const h=o[Gt];for(let g=0;g<a.length;g++){const v=a[g++],E=a[g],I=(v&ur.APPEND_EAGERLY)===ur.APPEND_EAGERLY,O=v>>>ur.SHIFT;let L=o[O];null===L&&(L=o[O]=(v&ur.COMMENT)===ur.COMMENT?h.createComment(E):Yl(h,E)),I&&null!==u&&ll(h,u,L,d,!1)}})(h,T.create,O,E&&8&E.type?h[E.index]:null),Vu(!0)}function iD(o,a,u){jv(o,a,u),function dI(){Vu(!1)}()}function Hv(o){return function NR(o){o&&(Um|=1<<Math.min(Bm,31)),Bm++}(Ii(Me(),Do(),o)),Hv}function sD(o){!function MR(o,a,u){if(Bm>0){const d=o.data[u];XS(o,a,Array.isArray(d)?d:d.update,Br()-Bm-1,Um)}Um=0,Bm=0}(Jt(),Me(),o+Kt)}function Gv(o,a,u,d,h){if(o=ee(o),Array.isArray(o))for(let g=0;g<o.length;g++)Gv(o[g],a,u,d,h);else{const g=Jt(),v=Me();let E=wc(o)?o:ee(o.provide),T=Lf(o);const I=$n(),O=1048575&I.providerIndexes,L=I.directiveStart,J=I.providerIndexes>>20;if(wc(o)||!o.multi){const re=new Ar(T,h,Yd),ye=lD(E,a,h?O:O+J,L);-1===ye?(Ja(Ss(I,v),g,E),aD(g,o,a.length),a.push(E),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),u.push(re),v.push(re)):(u[ye]=re,v[ye]=re)}else{const re=lD(E,a,O+J,L),ye=lD(E,a,O,O+J),nt=ye>=0&&u[ye];if(h&&!nt||!h&&!(re>=0&&u[re])){Ja(Ss(I,v),g,E);const ht=function gI(o,a,u,d,h){const g=new Ar(o,u,Yd);return g.multi=[],g.index=a,g.componentProviders=0,pI(g,h,d&&!u),g}(h?HR:jR,u.length,h,d,T);!h&&nt&&(u[ye].providerFactory=ht),aD(g,o,a.length,0),a.push(E),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),u.push(ht),v.push(ht)}else aD(g,o,re>-1?re:ye,pI(u[h?ye:re],T,!h&&d));!h&&d&&nt&&u[ye].componentProviders++}}}function aD(o,a,u,d){const h=wc(a),g=function By(o){return!!o.useClass}(a);if(h||g){const T=(g?ee(a.useClass):a).prototype.ngOnDestroy;if(T){const I=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const O=I.indexOf(u);-1===O?I.push(u,[d,T]):I[O+1].push(d,T)}else I.push(u,T)}}}function pI(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function lD(o,a,u,d){for(let h=u;h<d;h++)if(a[h]===o)return h;return-1}function jR(o,a,u,d){return $v(this.multi,[])}function HR(o,a,u,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Qs(u,u[ot],this.providerFactory.index,d);g=E.slice(0,v),$v(h,g);for(let T=v;T<E.length;T++)g.push(E[T])}else g=[],$v(h,g);return g}function $v(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function uD(o,a=[]){return u=>{u.providersResolver=(d,h)=>function oD(o,a,u){const d=Jt();if(d.firstCreatePass){const h=Lr(o);Gv(u,d.data,d.blueprint,h,!0),Gv(a,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,a)}}class fh{}class cD{}function mI(o,a){return new zv(o,a??null)}class zv extends fh{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gw(this);const d=rr(a);this._bootstrapComponents=Uo(d.bootstrap),this._r3Injector=Gf(a,u,[{provide:fh,useValue:this},{provide:ar,useValue:this.componentFactoryResolver}],he(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Zv extends cD{constructor(a){super(),this.moduleType=a}create(a){return new zv(this.moduleType,a)}}class _I extends fh{constructor(a,u,d){super(),this.componentFactoryResolver=new Gw(this),this.instance=null;const h=new cw([...a,{provide:fh,useValue:this},{provide:ar,useValue:this.componentFactoryResolver}],u||Ff(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function $m(o,a,u=null){return new _I(o,a,u).injector}let yI=(()=>{class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=aw(0,u.type),h=d.length>0?$m([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=qe({token:o,providedIn:"environment",factory:()=>new o(V(ru))}),o})();function dD(o){o.getStandaloneInjector=a=>a.get(yI).getOrCreateStandaloneInjector(o)}function SI(o,a,u){const d=Kn()+o,h=Me();return h[d]===Ot?wa(h,d,u?a.call(u):a()):function Kf(o,a){return o[a]}(h,d)}function II(o,a,u,d){return MI(Me(),Kn(),o,a,u,d)}function AI(o,a,u,d,h){return OI(Me(),Kn(),o,a,u,d,h)}function _D(o,a,u,d,h,g){return function RI(o,a,u,d,h,g,v,E){const T=a+u;return function yv(o,a,u,d,h){const g=Ic(o,a,u,d);return Ii(o,a+2,h)||g}(o,T,h,g,v)?wa(o,T+3,E?d.call(E,h,g,v):d(h,g,v)):Zm(o,T+3)}(Me(),Kn(),o,a,u,d,h,g)}function Zm(o,a){const u=o[a];return u===Ot?void 0:u}function MI(o,a,u,d,h,g){const v=a+u;return Ii(o,v,h)?wa(o,v+1,g?d.call(g,h):d(h)):Zm(o,v+1)}function OI(o,a,u,d,h,g,v){const E=a+u;return Ic(o,E,h,g)?wa(o,E+2,v?d.call(v,h,g):d(h,g)):Zm(o,E+2)}function kI(o,a){const u=Jt();let d;const h=o+Kt;u.firstCreatePass?(d=function QR(o,a){if(a)for(let u=a.length-1;u>=0;u--){const d=a[u];if(o===d.name)return d}}(a,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const g=d.factory||(d.factory=gi(d.type)),v=_n(Yd);try{const E=ss(!1),T=g();return ss(E),function hS(o,a,u,d){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),a[u]=d}(u,Me(),h,T),T}finally{_n(v)}}function FI(o,a,u){const d=o+Kt,h=Me(),g=ns(h,d);return Wm(h,d)?MI(h,Kn(),a,g.transform,u,g):g.transform(u)}function pl(o,a,u,d){const h=o+Kt,g=Me(),v=ns(g,h);return Wm(g,h)?OI(g,Kn(),a,v.transform,u,d,v):v.transform(u,d)}function Wm(o,a){return o[ot].data[a].pure}function Wv(o){return a=>{setTimeout(o,void 0,a)}}const Sa=class LI extends s.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,d){let h=a,g=u||(()=>null),v=d;if(a&&"object"==typeof a){const T=a;h=T.next?.bind(T),g=T.error?.bind(T),v=T.complete?.bind(T)}this.__isAsync&&(g=Wv(g),h&&(h=Wv(h)),v&&(v=Wv(v)));const E=super.subscribe({next:h,error:g,complete:v});return a instanceof ne.w0&&a.add(E),E}};function UI(){return this._results[Symbol.iterator]()}class Ym{get changes(){return this._changes||(this._changes=new Sa)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ym.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=UI)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const d=this;d.dirty=!1;const h=function Vr(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Ed(o,a,u){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],g=a[d];if(u&&(h=u(h),g=u(g)),g!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let uu=(()=>{class o{}return o.__NG_ELEMENT_ID__=BI,o})();const cu=uu,XR=class extends cu{constructor(a,u,d){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(a,u){const d=this._declarationTContainer.tView,h=ym(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,u||null);h[Xo]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[Kr];return null!==v&&(h[Kr]=v.createEmbeddedView(d)),Ow(d,h,a),new Wf(h)}};function BI(){return Km($n(),Me())}function Km(o,a){return 4&o.type?new XR(a,o,Sn(o,a)):null}let fp=(()=>{class o{}return o.__NG_ELEMENT_ID__=yD,o})();function yD(){return Jm($n(),Me())}const vD=fp,bD=class extends vD{constructor(a,u,d){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=d}get element(){return Sn(this._hostTNode,this._hostLView)}get injector(){return new el(this._hostTNode,this._hostLView)}get parentInjector(){const a=Ka(this._hostTNode,this._hostLView);if(qu(a)){const u=Cs(a,this._hostLView),d=Co(a);return new el(u[ot].data[d+8],u)}return new el(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=ph(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-vr}createEmbeddedView(a,u,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const v=a.createEmbeddedView(u||{},g);return this.insert(v,h),v}createComponent(a,u,d,h,g){const v=a&&!function Mo(o){return"function"==typeof o}(a);let E;if(v)E=u;else{const L=u||{};E=L.index,d=L.injector,h=L.projectableNodes,g=L.environmentInjector||L.ngModuleRef}const T=v?a:new Yf(tn(a)),I=d||this.parentInjector;if(!g&&null==T.ngModule){const J=(v?I:this.parentInjector).get(ru,null);J&&(g=J)}const O=T.create(I,h,void 0,g);return this.insert(O.hostView,E),O}insert(a,u){const d=a._lView,h=d[ot];if(function ad(o){return pi(o[wn])}(d)){const O=this.indexOf(a);if(-1!==O)this.detach(O);else{const L=d[wn],J=new bD(L,L[ln],L[wn]);J.detach(J.indexOf(a))}}const g=this._adjustIndex(u),v=this._lContainer;!function kd(o,a,u,d){const h=vr+d,g=u.length;d>0&&(u[h-1][hi]=a),d<g-vr?(a[hi]=u[h],tc(u,vr+d,a)):(u.push(a),a[hi]=null),a[wn]=u;const v=a[Xo];null!==v&&u!==v&&function Kl(o,a){const u=o[ea];a[yr]!==a[wn][wn][yr]&&(o[Cl]=!0),null===u?o[ea]=[a]:u.push(a)}(v,a);const E=a[Kr];null!==E&&E.insertView(o),a[Ut]|=64}(h,d,v,g);const E=Ro(g,v),T=d[Gt],I=_a(T,v[_o]);return null!==I&&function Cf(o,a,u,d,h,g){d[Di]=h,d[ln]=a,Xl(o,d,u,1,h,g)}(h,v[ln],T,d,I,E),a.attachToViewContainerRef(),tc(cr(v),g,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=ph(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),d=Jl(this._lContainer,u);d&&(nl(cr(this._lContainer),u),jg(d[ot],d))}detach(a){const u=this._adjustIndex(a,-1),d=Jl(this._lContainer,u);return d&&null!=nl(cr(this._lContainer),u)?new Wf(d):null}_adjustIndex(a,u=0){return a??this.length+u}};function ph(o){return o[Ti]}function cr(o){return o[Ti]||(o[Ti]=[])}function Jm(o,a){let u;const d=a[o.index];if(pi(d))u=d;else{let h;if(8&o.type)h=Pn(d);else{const g=a[Gt];h=g.createComment("");const v=Ur(o,a);ll(g,_a(g,v),h,function Oy(o,a){return o.nextSibling(a)}(g,v),!1)}a[o.index]=u=Uw(d,a,h,o),wm(a,u)}return new bD(u,o,a)}class pp{constructor(a){this.queryList=a,this.matches=null}clone(){return new pp(this.queryList)}setDirty(){this.queryList.setDirty()}}class gh{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const d=null!==a.contentQueries?a.contentQueries[0]:u.length,h=[];for(let g=0;g<d;g++){const v=u.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new gh(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==ED(a,u).matches&&this.queries[u].setDirty()}}class Yv{constructor(a,u,d=null){this.predicate=a,this.flags=u,this.read=d}}class gp{constructor(a=[]){this.queries=a}elementStart(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,g=this.getByIndex(d).embeddedTView(a,h);g&&(g.indexInDeclarationView=d,null!==u?u.push(g):u=[g])}return null!==u?new gp(u):null}template(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Kv{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new Kv(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(a,u,wD(u,g)),this.matchTNodeWithReadOption(a,u,Io(u,a,g,!1,!1))}else d===uu?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,Io(u,a,d,!1,!1))}matchTNodeWithReadOption(a,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Xn||h===fp||h===uu&&4&u.type)this.addMatch(u.index,-2);else{const g=Io(u,a,h,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,d)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function wD(o,a){const u=o.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===a)return u[d+1];return null}function jI(o,a,u,d){return-1===u?function VI(o,a){return 11&o.type?Sn(o,a):4&o.type?Km(o,a):null}(a,o):-2===u?function HI(o,a,u){return u===Xn?Sn(a,o):u===uu?Km(a,o):u===fp?Jm(a,o):void 0}(o,a,d):Qs(o,o[ot],u,a)}function mh(o,a,u,d){const h=a[Kr].queries[d];if(null===h.matches){const g=o.data,v=u.matches,E=[];for(let T=0;T<v.length;T+=2){const I=v[T];E.push(I<0?null:jI(a,g[I],v[T+1],u.metadata.read))}h.matches=E}return h.matches}function Jv(o,a,u,d){const h=o.queries.getByIndex(u),g=h.matches;if(null!==g){const v=mh(o,a,h,u);for(let E=0;E<g.length;E+=2){const T=g[E];if(T>0)d.push(v[E/2]);else{const I=g[E+1],O=a[-T];for(let L=vr;L<O.length;L++){const J=O[L];J[Xo]===J[wn]&&Jv(J[ot],J,I,d)}if(null!==O[ea]){const L=O[ea];for(let J=0;J<L.length;J++){const re=L[J];Jv(re[ot],re,I,d)}}}}}return d}function Qv(o){const a=Me(),u=Jt(),d=dd();Vl(d+1);const h=ED(u,d);if(o.dirty&&function xu(o){return 4==(4&o[Ut])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const g=h.crossesNgTemplate?Jv(u,a,d,[]):mh(u,a,h,d);o.reset(g,Ec),o.notifyOnChanges()}return!0}return!1}function GI(o,a,u){const d=Jt();d.firstCreatePass&&(qI(d,new Yv(o,a,u),-1),2==(2&a)&&(d.staticViewQueries=!0)),ZI(d,Me(),a)}function $I(o,a,u,d){const h=Jt();if(h.firstCreatePass){const g=$n();qI(h,new Yv(a,u,d),g.index),function WI(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(h,o),2==(2&u)&&(h.staticContentQueries=!0)}ZI(h,Me(),u)}function zI(){return function ex(o,a){return o[Kr].queries[a].queryList}(Me(),dd())}function ZI(o,a,u){const d=new Ym(4==(4&u));xw(o,a,d,d.destroy),null===a[Kr]&&(a[Kr]=new gh),a[Kr].queries.push(new pp(d))}function qI(o,a,u){null===o.queries&&(o.queries=new gp),o.queries.track(new Kv(a,u))}function ED(o,a){return o.queries.getByIndex(a)}function Xv(o,a){return Km(o,a)}function Qm(o){return!!rr(o)}function bp(...o){}const a0=new cn("Application Initializer");let bh=(()=>{class o{constructor(u){this.appInits=u,this.resolve=bp,this.reject=bp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Sm(g))u.push(g);else if(Mc(g)){const v=new Promise((E,T)=>{g.subscribe({complete:E,error:T})});u.push(v)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(V(a0,8))},o.\u0275prov=qe({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const wp=new cn("AppId",{providedIn:"root",factory:function l0(){return`${Ep()}${Ep()}${Ep()}`}});function Ep(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Oi=new cn("Platform Initializer"),ND=new cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),u0=new cn("AnimationModuleType");let MD=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=qe({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Dp=new cn("LocaleId",{providedIn:"root",factory:()=>W(Dp,yt.Optional|yt.SkipSelf)||function OD(){return typeof $localize<"u"&&$localize.locale||En}()}),c0=new cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class RD{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let d0=(()=>{class o{compileModuleSync(u){return new Zv(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),g=Uo(rr(u).declarations).reduce((v,E)=>{const T=tn(E);return T&&v.push(new Yf(T)),v},[]);return new RD(d,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=qe({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const lA=(()=>Promise.resolve(0))();function h0(o){typeof Zone>"u"?lA.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class oo{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sa(!1),this.onMicrotaskEmpty=new Sa(!1),this.onStable=new Sa(!1),this.onError=new Sa(!1),typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function f0(){let o=xt.requestAnimationFrame,a=xt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function dA(o){const a=()=>{!function Sp(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(xt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Uc(o),o.isCheckStableRunning=!0,ri(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Uc(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,g,v,E)=>{try{return FD(o),u.invokeTask(h,g,v,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),LD(o)}},onInvoke:(u,d,h,g,v,E,T)=>{try{return FD(o),u.invoke(h,g,v,E,T)}finally{o.shouldCoalesceRunChangeDetection&&a(),LD(o)}},onHasTask:(u,d,h,g)=>{u.hasTask(h,g),d===h&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,Uc(o),ri(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,d,h,g)=>(u.handleError(h,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!oo.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(oo.isInAngularZone())throw new ge(909,!1)}run(a,u,d){return this._inner.run(a,u,d)}runTask(a,u,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,a,cA,bp,bp);try{return g.runTask(v,u,d)}finally{g.cancelTask(v)}}runGuarded(a,u,d){return this._inner.runGuarded(a,u,d)}runOutsideAngular(a){return this._outer.run(a)}}const cA={};function ri(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Uc(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function FD(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function LD(o){o._nesting--,ri(o)}class i_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sa,this.onMicrotaskEmpty=new Sa,this.onStable=new Sa,this.onError=new Sa}run(a,u,d){return a.apply(u,d)}runGuarded(a,u,d){return a.apply(u,d)}runOutsideAngular(a){return a()}runTask(a,u,d,h){return a.apply(u,d)}}const Ip=new cn(""),s_=new cn("");let a_,p0=(()=>{class o{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,a_||(function g0(o){a_=o}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{oo.assertNotInAngularZone(),h0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())h0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return o.\u0275fac=function(u){return new(u||o)(V(oo),V(o_),V(s_))},o.\u0275prov=qe({token:o,factory:o.\u0275fac}),o})(),o_=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return a_?.findTestabilityInTree(this,u,d)??null}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=qe({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Ia=!1;let hu=null;const m0=new cn("AllowMultipleToken"),l_=new cn("PlatformDestroyListeners"),u_=new cn("appBootstrapListener");class y0{constructor(a,u){this.name=a,this.token=u}}function c_(o,a,u=[]){const d=`Platform: ${a}`,h=new cn(d);return(g=[])=>{let v=w0();if(!v||v.injector.get(m0,!1)){const E=[...u,...g,{provide:h,useValue:!0}];o?o(E):function v0(o){if(hu&&!hu.get(m0,!1))throw new ge(400,!1);hu=o;const a=o.get(VD);(function si(o){const a=o.get(Oi,null);a&&a.forEach(u=>u())})(o)}(function BD(o=[],a){return dl.create({name:a,providers:[{provide:Vy,useValue:"platform"},{provide:l_,useValue:new Set([()=>hu=null])},...o]})}(E,d))}return function hA(o){const a=w0();if(!a)throw new ge(401,!1);return a}()}}function w0(){return hu?.get(VD)??null}let VD=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function h_(o,a){let u;return u="noop"===o?new i_:("zone.js"===o?void 0:o)||new oo(a),u}(d?.ngZone,function d_(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:oo,useValue:h}];return h.run(()=>{const v=dl.create({providers:g,parent:this.injector,name:u.moduleType.name}),E=u.create(v),T=E.injector.get(Vf,null);if(!T)throw new ge(402,!1);return h.runOutsideAngular(()=>{const I=h.onError.subscribe({next:O=>{T.handleError(O)}});E.onDestroy(()=>{p_(this._modules,E),I.unsubscribe()})}),function jD(o,a,u){try{const d=u();return Sm(d)?d.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(T,h,()=>{const I=E.injector.get(bh);return I.runInitializers(),I.donePromise.then(()=>(WS(E.injector.get(Dp,En)||En),this._moduleDoBootstrap(E),E))})})}bootstrapModule(u,d=[]){const h=f_({},d);return function UD(o,a,u){const d=new Zv(u);return Promise.resolve(d)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(u){const d=u.injector.get(Ap);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new ge(-403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(l_,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(V(dl))},o.\u0275prov=qe({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function f_(o,a){return Array.isArray(a)?a.reduce(f_,o):{...o,...a}}let Ap=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,d,h){this._zone=u,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new F.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new F.y(E=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{oo.assertNotInAngularZone(),h0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{oo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{T.unsubscribe(),I.unsubscribe()}});this.isStable=(0,ae.T)(g,v.pipe((0,oe.B)()))}bootstrap(u,d){const h=u instanceof Gy;if(!this._injector.get(bh).done){!h&&Zs(u);throw new ge(405,Ia)}let v;v=h?u:this._injector.get(ar).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const E=function _0(o){return o.isBoundToModule}(v)?void 0:this._injector.get(fh),I=v.create(dl.NULL,[],d||v.selector,E),O=I.location.nativeElement,L=I.injector.get(Ip,null);return L?.registerApplication(O),I.onDestroy(()=>{this.detachView(I.hostView),p_(this.components,I),L?.unregisterApplication(O)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new ge(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;p_(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const d=this._injector.get(u_,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>p_(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new ge(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(u){return new(u||o)(V(oo),V(ru),V(Vf))},o.\u0275prov=qe({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function p_(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}function D0(){return!1}let HD=(()=>{class o{}return o.__NG_ELEMENT_ID__=GD,o})();function GD(o){return function m_(o,a,u){if(Sl(o)&&!u){const d=br(o.index,a);return new Wf(d,d)}return 47&o.type?new Wf(a[yr],a):null}($n(),Me(),16==(16&o))}class E_{constructor(){}supports(a){return Cm(a)}create(a){return new Pp(a)}}const D_=(o,a)=>a;class Pp{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||D_}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,d=this._removalsHead,h=0,g=null;for(;u||d;){const v=!d||u&&u.currentIndex<kp(d,h,g)?u:d,E=kp(v,h,g),T=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)h++;else{g||(g=[]);const I=E-h,O=T-h;if(I!=O){for(let J=0;J<I;J++){const re=J<g.length?g[J]:g[J]=0,ye=re+J;O<=ye&&ye<I&&(g[J]=re+1)}g[v.previousIndex]=O-I}}E!==T&&a(v,E,T)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Cm(a))throw new ge(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,g,v,u=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)g=a[E],v=this._trackByFn(E,g),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,g,v,E)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,E),d=!0),u=u._next}else h=0,function aS(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[Symbol.iterator]();let d;for(;!(d=u.next()).done;)a(d.value)}}(a,E=>{v=this._trackByFn(h,E),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,E,v,h)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,v,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,d,h){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,g,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,g,h)):a=this._addAfter(new qD(u,d),g,h),a}_verifyReinsertion(a,u,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,g=a._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(a,u,d),this._addToMoves(a,d),a}_moveAfter(a,u,d){return this._unlink(a),this._insertAfter(a,u,d),this._addToMoves(a,d),a}_addAfter(a,u,d){return this._insertAfter(a,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,d){const h=null===u?this._itHead:u._next;return a._next=h,a._prev=u,null===h?this._itTail=a:h._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new T_),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,d=a._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new T_),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class qD{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mA{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const u=a._prevDup,d=a._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class T_{constructor(){this.map=new Map}put(a){const u=a.trackById;let d=this.map.get(u);d||(d=new mA,this.map.set(u,d)),d.add(a)}get(a,u){const h=this.map.get(a);return h?h.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kp(o,a,u){const d=o.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+a+h}class C_{constructor(){}supports(a){return a instanceof Map||_v(a)}create(){return new WD}}class WD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||_v(a)))throw new ge(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const d=a._prev;return u._next=a,u._prev=d,a._prev=u,d&&(d._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,u);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new YD(a);return this._records.set(a,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(d=>u(a[d],d))}}class YD{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function C0(){return new S0([new E_])}let S0=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||C0()),deps:[[o,new M,new C]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new ge(901,!1)}}return o.\u0275prov=qe({token:o,providedIn:"root",factory:C0}),o})();function I0(){return new Eh([new C_])}let Eh=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||I0()),deps:[[o,new M,new C]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new ge(901,!1)}}return o.\u0275prov=qe({token:o,providedIn:"root",factory:I0}),o})();const A0=c_(null,"core",[]);let Dh=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(V(Ap))},o.\u0275mod=Tl({type:o}),o.\u0275inj=An({}),o})();function N0(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function qn(o,a){const u=tn(o),d=a.elementInjector||Ff();return new Yf(u).create(d,a.projectableNodes,a.hostElement,a.environmentInjector)}},3942:(ft,De,k)=>{"use strict";k.d(De,{Z:()=>Ze});var s=k(2090),ne=k(4859),F=k(9681),ae=k(1877);class oe{constructor(ge,Ae){this._delegate=ge,this.firebase=Ae,(0,F._addComponent)(ge,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(ge,Ae=F._DEFAULT_ENTRY_NAME){var Ce;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(ge);return!Le.isInitialized()&&"EXPLICIT"===(null===(Ce=Le.getComponent())||void 0===Ce?void 0:Ce.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:Ae})}_removeServiceInstance(ge,Ae=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(Ae)}_addComponent(ge){(0,F._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,F._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function de(){const lt=function he(lt){const ge={},Ae={__esModule:!0,initializeApp:function Te(Pe,G={}){const me=F.initializeApp(Pe,G);if((0,s.r3)(ge,me.name))return ge[me.name];const Be=new lt(me,Ae);return ge[me.name]=Be,Be},app:Le,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Ne(Pe){const G=Pe.name,me=G.replace("-compat","");if(F._registerComponent(Pe)&&"PUBLIC"===Pe.type){const Be=(Ge=Le())=>{if("function"!=typeof Ge[me])throw pe.create("invalid-app-argument",{appName:G});return Ge[me]()};void 0!==Pe.serviceProps&&(0,s.ZB)(Be,Pe.serviceProps),Ae[me]=Be,lt.prototype[me]=function(...Ge){return this._getService.bind(this,G).apply(this,Pe.multipleInstances?Ge:[])}}return"PUBLIC"===Pe.type?Ae[me]:null},removeApp:function Ce(Pe){delete ge[Pe]},useAsService:function ze(Pe,G){return"serverAuth"===G?null:G},modularAPIs:F}};function Le(Pe){if(!(0,s.r3)(ge,Pe=Pe||F._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:Pe});return ge[Pe]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function ve(){return Object.keys(ge).map(Pe=>ge[Pe])}}),Le.App=lt,Ae}(oe);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function ge(Ae){(0,s.ZB)(lt,Ae)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),lt}(),U=new ae.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=$;!function Ee(lt){(0,F.registerVersion)("@firebase/app-compat","0.1.30",lt)}()},9681:(ft,De,k)=>{"use strict";k.r(De),k.d(De,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Pr,_DEFAULT_ENTRY_NAME:()=>xe,_addComponent:()=>sn,_addOrOverwriteComponent:()=>wt,_apps:()=>Ke,_clearComponents:()=>An,_components:()=>Ye,_getProvider:()=>qe,_registerComponent:()=>St,_removeServiceInstance:()=>At,deleteApp:()=>Ki,getApp:()=>kr,getApps:()=>Cr,initializeApp:()=>Bi,onLog:()=>yt,registerVersion:()=>Zr,setLogLevel:()=>qr});var s=k(5861),ne=k(4859),F=k(1877),ae=k(2090),oe=k(8766);class H{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map(W=>{if(function pe(V){return"VERSION"===V.getComponent()?.type}(W)){const Ie=W.getImmediate();return`${Ie.library}/${Ie.version}`}return null}).filter(W=>W).join(" ")}}const he="@firebase/app",$=new F.Yd("@firebase/app"),xe="[DEFAULT]",Fe={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ke=new Map,Ye=new Map;function sn(V,Z){try{V.container.addComponent(Z)}catch(W){$.debug(`Component ${Z.name} failed to register with FirebaseApp ${V.name}`,W)}}function wt(V,Z){V.container.addOrOverwriteComponent(Z)}function St(V){const Z=V.name;if(Ye.has(Z))return $.debug(`There were multiple attempts to register component ${Z}.`),!1;Ye.set(Z,V);for(const W of Ke.values())sn(W,V);return!0}function qe(V,Z){const W=V.container.getProvider("heartbeat").getImmediate({optional:!0});return W&&W.triggerHeartbeat(),V.container.getProvider(Z)}function At(V,Z,W=xe){qe(V,Z).clearInstance(W)}function An(){Ye.clear()}const vn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Dn{constructor(Z,W,Ie){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},W),this._name=W.name,this._automaticDataCollectionEnabled=W.automaticDataCollectionEnabled,this._container=Ie,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}}const Pr="9.9.1";function Bi(V,Z={}){"object"!=typeof Z&&(Z={name:Z});const W=Object.assign({name:xe,automaticDataCollectionEnabled:!1},Z),Ie=W.name;if("string"!=typeof Ie||!Ie)throw vn.create("bad-app-name",{appName:String(Ie)});const We=Ke.get(Ie);if(We){if((0,ae.vZ)(V,We.options)&&(0,ae.vZ)(W,We.config))return We;throw vn.create("duplicate-app",{appName:Ie})}const pt=new ne.H0(Ie);for(const un of Ye.values())pt.addComponent(un);const bn=new Dn(V,W,pt);return Ke.set(Ie,bn),bn}function kr(V=xe){const Z=Ke.get(V);if(!Z)throw vn.create("no-app",{appName:V});return Z}function Cr(){return Array.from(Ke.values())}function Ki(V){return mn.apply(this,arguments)}function mn(){return(mn=(0,s.Z)(function*(V){const Z=V.name;Ke.has(Z)&&(Ke.delete(Z),yield Promise.all(V.container.getProviders().map(W=>W.delete())),V.isDeleted=!0)})).apply(this,arguments)}function Zr(V,Z,W){var Ie;let We=null!==(Ie=Fe[V])&&void 0!==Ie?Ie:V;W&&(We+=`-${W}`);const pt=We.match(/\s|\//),bn=Z.match(/\s|\//);if(pt||bn){const un=[`Unable to register library "${We}" with version "${Z}":`];return pt&&un.push(`library name "${We}" contains illegal characters (whitespace or "/")`),pt&&bn&&un.push("and"),bn&&un.push(`version name "${Z}" contains illegal characters (whitespace or "/")`),void $.warn(un.join(" "))}St(new ne.wA(`${We}-version`,()=>({library:We,version:Z}),"VERSION"))}function yt(V,Z){if(null!==V&&"function"!=typeof V)throw vn.create("invalid-log-argument");(0,F.Am)(V,Z)}function qr(V){(0,F.Ub)(V)}const ci="firebase-heartbeat-database",_n=1,pr="firebase-heartbeat-store";let Ji=null;function xt(){return Ji||(Ji=(0,oe.X3)(ci,_n,{upgrade:(V,Z)=>{0===Z&&V.createObjectStore(pr)}}).catch(V=>{throw vn.create("storage-open",{originalErrorMessage:V.message})})),Ji}function Ct(){return(Ct=(0,s.Z)(function*(V){var Z;try{return(yield xt()).transaction(pr).objectStore(pr).get(Nn(V))}catch(W){throw vn.create("storage-get",{originalErrorMessage:null===(Z=W)||void 0===Z?void 0:Z.message})}})).apply(this,arguments)}function ps(V,Z){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,s.Z)(function*(V,Z){var W;try{const We=(yield xt()).transaction(pr,"readwrite");return yield We.objectStore(pr).put(Z,Nn(V)),We.done}catch(Ie){throw vn.create("storage-set",{originalErrorMessage:null===(W=Ie)||void 0===W?void 0:W.message})}})).apply(this,arguments)}function Nn(V){return`${V.name}!${V.options.appId}`}class gs{constructor(Z){this.container=Z,this._heartbeatsCache=null;const W=this.container.getProvider("app").getImmediate();this._storage=new Zt(W),this._heartbeatsCachePromise=this._storage.read().then(Ie=>(this._heartbeatsCache=Ie,Ie))}triggerHeartbeat(){var Z=this;return(0,s.Z)(function*(){const Ie=Z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),We=an();if(null===Z._heartbeatsCache&&(Z._heartbeatsCache=yield Z._heartbeatsCachePromise),Z._heartbeatsCache.lastSentHeartbeatDate!==We&&!Z._heartbeatsCache.heartbeats.some(pt=>pt.date===We))return Z._heartbeatsCache.heartbeats.push({date:We,agent:Ie}),Z._heartbeatsCache.heartbeats=Z._heartbeatsCache.heartbeats.filter(pt=>{const bn=new Date(pt.date).valueOf();return Date.now()-bn<=2592e6}),Z._storage.overwrite(Z._heartbeatsCache)})()}getHeartbeatsHeader(){var Z=this;return(0,s.Z)(function*(){if(null===Z._heartbeatsCache&&(yield Z._heartbeatsCachePromise),null===Z._heartbeatsCache||0===Z._heartbeatsCache.heartbeats.length)return"";const W=an(),{heartbeatsToSend:Ie,unsentEntries:We}=function Wr(V,Z=1024){const W=[];let Ie=V.slice();for(const We of V){const pt=W.find(bn=>bn.agent===We.agent);if(pt){if(pt.dates.push(We.date),Q(W)>Z){pt.dates.pop();break}}else if(W.push({agent:We.agent,dates:[We.date]}),Q(W)>Z){W.pop();break}Ie=Ie.slice(1)}return{heartbeatsToSend:W,unsentEntries:Ie}}(Z._heartbeatsCache.heartbeats),pt=(0,ae.L)(JSON.stringify({version:2,heartbeats:Ie}));return Z._heartbeatsCache.lastSentHeartbeatDate=W,We.length>0?(Z._heartbeatsCache.heartbeats=We,yield Z._storage.overwrite(Z._heartbeatsCache)):(Z._heartbeatsCache.heartbeats=[],Z._storage.overwrite(Z._heartbeatsCache)),pt})()}}function an(){return(new Date).toISOString().substring(0,10)}class Zt{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Z=this;return(0,s.Z)(function*(){return(yield Z._canUseIndexedDBPromise)&&(yield function bt(V){return Ct.apply(this,arguments)}(Z.app))||{heartbeats:[]}})()}overwrite(Z){var W=this;return(0,s.Z)(function*(){var Ie;if(yield W._canUseIndexedDBPromise){const pt=yield W.read();return ps(W.app,{lastSentHeartbeatDate:null!==(Ie=Z.lastSentHeartbeatDate)&&void 0!==Ie?Ie:pt.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}})()}add(Z){var W=this;return(0,s.Z)(function*(){var Ie;if(yield W._canUseIndexedDBPromise){const pt=yield W.read();return ps(W.app,{lastSentHeartbeatDate:null!==(Ie=Z.lastSentHeartbeatDate)&&void 0!==Ie?Ie:pt.lastSentHeartbeatDate,heartbeats:[...pt.heartbeats,...Z.heartbeats]})}})()}}function Q(V){return(0,ae.L)(JSON.stringify({version:2,heartbeats:V})).length}!function z(V){St(new ne.wA("platform-logger",Z=>new H(Z),"PRIVATE")),St(new ne.wA("heartbeat",Z=>new gs(Z),"PRIVATE")),Zr(he,"0.7.29",V),Zr(he,"0.7.29","esm2017"),Zr("fire-js","")}("")},4859:(ft,De,k)=>{"use strict";k.d(De,{H0:()=>he,wA:()=>F});var s=k(5861),ne=k(2090);class F{constructor($,U,ee){this.name=$,this.instanceFactory=U,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ae="[DEFAULT]";class oe{constructor($,U){this.name=$,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const U=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(U)){const ee=new ne.BH;if(this.instancesDeferred.set(U,ee),this.isInitialized(U)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:U});$e&&ee.resolve($e)}catch{}}return this.instancesDeferred.get(U).promise}getImmediate($){var U;const ee=this.normalizeInstanceIdentifier($?.identifier),$e=null!==(U=$?.optional)&&void 0!==U&&U;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Ee){if($e)return null;throw Ee}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function pe(de){return"EAGER"===de.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[U,ee]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(U);try{const Ee=this.getOrInitializeService({instanceIdentifier:$e});ee.resolve(Ee)}catch{}}}}clearInstance($=ae){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,s.Z)(function*(){const U=Array.from($.instances.values());yield Promise.all([...U.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...U.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ae){return this.instances.has($)}getOptions($=ae){return this.instancesOptions.get($)||{}}initialize($={}){const{options:U={}}=$,ee=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:ee,options:U});for(const[Ee,Ze]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Ee)&&Ze.resolve($e);return $e}onInit($,U){var ee;const $e=this.normalizeInstanceIdentifier(U),Ee=null!==(ee=this.onInitCallbacks.get($e))&&void 0!==ee?ee:new Set;Ee.add($),this.onInitCallbacks.set($e,Ee);const Ze=this.instances.get($e);return Ze&&$(Ze,$e),()=>{Ee.delete($)}}invokeOnInitCallbacks($,U){const ee=this.onInitCallbacks.get(U);if(ee)for(const $e of ee)try{$e($,U)}catch{}}getOrInitializeService({instanceIdentifier:$,options:U={}}){let ee=this.instances.get($);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(de=$,de===ae?void 0:de),options:U}),this.instances.set($,ee),this.instancesOptions.set($,U),this.invokeOnInitCallbacks(ee,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,ee)}catch{}var de;return ee||null}normalizeInstanceIdentifier($=ae){return this.component?this.component.multipleInstances?$:ae:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor($){this.name=$,this.providers=new Map}addComponent($){const U=this.getProvider($.name);if(U.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);U.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const U=new oe($,this);return this.providers.set($,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(ft,De,k)=>{"use strict";k.d(De,{Am:()=>de,Ub:()=>he,Yd:()=>pe,in:()=>ne});const s=[];var ne=(()=>{return($=ne||(ne={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",ne;var $})();const F={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},ae=ne.INFO,oe={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},H=($,U,...ee)=>{if(U<$.logLevel)return;const $e=(new Date).toISOString(),Ee=oe[U];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Ee](`[${$e}]  ${$.name}:`,...ee)};class pe{constructor(U){this.name=U,this._logLevel=ae,this._logHandler=H,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in ne))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?F[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...U),this._logHandler(this,ne.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...U),this._logHandler(this,ne.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...U),this._logHandler(this,ne.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...U),this._logHandler(this,ne.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...U),this._logHandler(this,ne.ERROR,...U)}}function he($){s.forEach(U=>{U.setLogLevel($)})}function de($,U){for(const ee of s){let $e=null;U&&U.level&&($e=F[U.level]),ee.userLogHandler=null===$?null:(Ee,Ze,...lt)=>{const ge=lt.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");Ze>=($e??Ee.logLevel)&&$({level:ne[Ze].toLowerCase(),message:ge,args:lt,type:Ee.name})}}}},8766:(ft,De,k)=>{"use strict";k.d(De,{Lj:()=>Te,X3:()=>Le});var s=k(5861);const ne=(G,me)=>me.some(Be=>G instanceof Be);let F,ae;const pe=new WeakMap,he=new WeakMap,de=new WeakMap,$=new WeakMap,U=new WeakMap;let Ee={get(G,me,Be){if(G instanceof IDBTransaction){if("done"===me)return he.get(G);if("objectStoreNames"===me)return G.objectStoreNames||de.get(G);if("store"===me)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return Ae(G[me])},set:(G,me,Be)=>(G[me]=Be,!0),has:(G,me)=>G instanceof IDBTransaction&&("done"===me||"store"===me)||me in G};function ge(G){return"function"==typeof G?function lt(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function H(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(G)?function(...me){return G.apply(Ce(this),me),Ae(pe.get(this))}:function(...me){return Ae(G.apply(Ce(this),me))}:function(me,...Be){const Ge=G.call(Ce(this),me,...Be);return de.set(Ge,me.sort?me.sort():[me]),Ae(Ge)}}(G):(G instanceof IDBTransaction&&function $e(G){if(he.has(G))return;const me=new Promise((Be,Ge)=>{const dt=()=>{G.removeEventListener("complete",Xe),G.removeEventListener("error",q),G.removeEventListener("abort",q)},Xe=()=>{Be(),dt()},q=()=>{Ge(G.error||new DOMException("AbortError","AbortError")),dt()};G.addEventListener("complete",Xe),G.addEventListener("error",q),G.addEventListener("abort",q)});he.set(G,me)}(G),ne(G,function oe(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(G,Ee):G)}function Ae(G){if(G instanceof IDBRequest)return function ee(G){const me=new Promise((Be,Ge)=>{const dt=()=>{G.removeEventListener("success",Xe),G.removeEventListener("error",q)},Xe=()=>{Be(Ae(G.result)),dt()},q=()=>{Ge(G.error),dt()};G.addEventListener("success",Xe),G.addEventListener("error",q)});return me.then(Be=>{Be instanceof IDBCursor&&pe.set(Be,G)}).catch(()=>{}),U.set(me,G),me}(G);if($.has(G))return $.get(G);const me=ge(G);return me!==G&&($.set(G,me),U.set(me,G)),me}const Ce=G=>U.get(G);function Le(G,me,{blocked:Be,upgrade:Ge,blocking:dt,terminated:Xe}={}){const q=indexedDB.open(G,me),X=Ae(q);return Ge&&q.addEventListener("upgradeneeded",ce=>{Ge(Ae(q.result),ce.oldVersion,ce.newVersion,Ae(q.transaction))}),Be&&q.addEventListener("blocked",()=>Be()),X.then(ce=>{Xe&&ce.addEventListener("close",()=>Xe()),dt&&ce.addEventListener("versionchange",()=>dt())}).catch(()=>{}),X}function Te(G,{blocked:me}={}){const Be=indexedDB.deleteDatabase(G);return me&&Be.addEventListener("blocked",()=>me()),Ae(Be).then(()=>{})}const ve=["get","getKey","getAll","getAllKeys","count"],Ne=["put","add","delete","clear"],ze=new Map;function Pe(G,me){if(!(G instanceof IDBDatabase)||me in G||"string"!=typeof me)return;if(ze.get(me))return ze.get(me);const Be=me.replace(/FromIndex$/,""),Ge=me!==Be,dt=Ne.includes(Be);if(!(Be in(Ge?IDBIndex:IDBObjectStore).prototype)||!dt&&!ve.includes(Be))return;const Xe=function(){var q=(0,s.Z)(function*(X,...ce){const be=this.transaction(X,dt?"readwrite":"readonly");let xe=be.store;return Ge&&(xe=xe.index(ce.shift())),(yield Promise.all([xe[Be](...ce),dt&&be.done]))[0]});return function(ce){return q.apply(this,arguments)}}();return ze.set(me,Xe),Xe}!function Ze(G){Ee=G(Ee)}(G=>({...G,get:(me,Be,Ge)=>Pe(me,Be)||G.get(me,Be,Ge),has:(me,Be)=>!!Pe(me,Be)||G.has(me,Be)}))},5861:(ft,De,k)=>{"use strict";function s(F,ae,oe,H,pe,he,de){try{var $=F[he](de),U=$.value}catch(ee){return void oe(ee)}$.done?ae(U):Promise.resolve(U).then(H,pe)}function ne(F){return function(){var ae=this,oe=arguments;return new Promise(function(H,pe){var he=F.apply(ae,oe);function de(U){s(he,H,pe,de,$,"next",U)}function $(U){s(he,H,pe,de,$,"throw",U)}de(void 0)})}}k.d(De,{Z:()=>ne})}},ft=>{ft(ft.s=8332)}]);